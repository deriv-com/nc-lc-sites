import {
    a as b
} from "./_oschunk-FIJGADJY.js";
import {
    a as v
} from "./_oschunk-LHY3WMNC.js";
import {
    a as f,
    d as y
} from "./_oschunk-XMOR6XCC.js";
import {
    ia as m
} from "./_oschunk-NTQBNJ73.js";
import {
    c
} from "./_oschunk-DVBKI63I.js";
var p = {
        "kOrypI4zEkCt9ac3Ju1B1Q#Value": "\u0625\u0639\u0627\u062F\u0629 \u062A\u0639\u064A\u064A\u0646 \u0643\u0644\u0645\u0629 \u0627\u0644\u0645\u0631\u0648\u0631",
        "fq35Yi31zUOZwPG7wc7QRQ#ValueExpression.1758829696.1": "\u0623\u062F\u062E\u0644 \u0643\u0644\u0645\u0629 \u0627\u0644\u0645\u0631\u0648\u0631",
        "dyHdmnqwXUiccPCTPcJsdg#Value": "\u0625\u0639\u0627\u062F\u0629 \u062A\u0639\u064A\u064A\u0646 \u0643\u0644\u0645\u0629 \u0627\u0644\u0645\u0631\u0648\u0631",
        "V14sS08doU66VhvCj93Z+A#Message.-75075825.1": "\u062A\u0645 \u062A\u062D\u062F\u064A\u062B \u0643\u0644\u0645\u0629 \u0627\u0644\u0645\u0631\u0648\u0631!"
    },
    g = {
        "kOrypI4zEkCt9ac3Ju1B1Q#Value": "Passwort zur\xFCcksetzen",
        "fq35Yi31zUOZwPG7wc7QRQ#ValueExpression.1758829696.1": "Geben Sie Ihr Passwort ein",
        "dyHdmnqwXUiccPCTPcJsdg#Value": "Passwort zur\xFCcksetzen",
        "V14sS08doU66VhvCj93Z+A#Message.-75075825.1": "Das Passwort wurde aktualisiert!"
    },
    E = {
        "kOrypI4zEkCt9ac3Ju1B1Q#Value": "Restablecer mi contrase\xF1a",
        "fq35Yi31zUOZwPG7wc7QRQ#ValueExpression.1758829696.1": "Introduzca su contrase\xF1a",
        "dyHdmnqwXUiccPCTPcJsdg#Value": "Restablecer la contrase\xF1a",
        "V14sS08doU66VhvCj93Z+A#Message.-75075825.1": "\xA1La contrase\xF1a ha sido actualizada!"
    },
    S = {
        "kOrypI4zEkCt9ac3Ju1B1Q#Value": "R\xE9initialiser mon mot de passe",
        "fq35Yi31zUOZwPG7wc7QRQ#ValueExpression.1758829696.1": "Entrez votre mot de passe",
        "dyHdmnqwXUiccPCTPcJsdg#Value": "R\xE9initialiser le mot de passe",
        "V14sS08doU66VhvCj93Z+A#Message.-75075825.1": "Le mot de passe a \xE9t\xE9 mis \xE0 jour !"
    },
    T = {
        "kOrypI4zEkCt9ac3Ju1B1Q#Value": "Reimposta la mia password",
        "fq35Yi31zUOZwPG7wc7QRQ#ValueExpression.1758829696.1": "Inserisci la tua password",
        "dyHdmnqwXUiccPCTPcJsdg#Value": "Reimposta password",
        "V14sS08doU66VhvCj93Z+A#Message.-75075825.1": "La password \xE8 stata aggiornata!"
    },
    V = {
        "kOrypI4zEkCt9ac3Ju1B1Q#Value": "Zresetuj moje has\u0142o",
        "fq35Yi31zUOZwPG7wc7QRQ#ValueExpression.1758829696.1": "Wprowad\u017A swoje has\u0142o",
        "dyHdmnqwXUiccPCTPcJsdg#Value": "Zresetuj has\u0142o",
        "V14sS08doU66VhvCj93Z+A#Message.-75075825.1": "Has\u0142o zosta\u0142o zaktualizowane!"
    },
    k = {
        "kOrypI4zEkCt9ac3Ju1B1Q#Value": "Repor a minha palavra-passe",
        "fq35Yi31zUOZwPG7wc7QRQ#ValueExpression.1758829696.1": "Introduza a sua palavra-passe",
        "dyHdmnqwXUiccPCTPcJsdg#Value": "Repor palavra-passe",
        "V14sS08doU66VhvCj93Z+A#Message.-75075825.1": "A palavra-passe foi atualizada!"
    },
    N = {
        "kOrypI4zEkCt9ac3Ju1B1Q#Value": "\u0421\u0431\u0440\u043E\u0441\u0438\u0442\u044C \u043C\u043E\u0439 \u043F\u0430\u0440\u043E\u043B\u044C",
        "fq35Yi31zUOZwPG7wc7QRQ#ValueExpression.1758829696.1": "\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0432\u0430\u0448 \u043F\u0430\u0440\u043E\u043B\u044C",
        "dyHdmnqwXUiccPCTPcJsdg#Value": "\u0421\u0431\u0440\u043E\u0441\u0438\u0442\u044C \u043F\u0430\u0440\u043E\u043B\u044C",
        "V14sS08doU66VhvCj93Z+A#Message.-75075825.1": "\u041F\u0430\u0440\u043E\u043B\u044C \u0431\u044B\u043B \u043E\u0431\u043D\u043E\u0432\u043B\u0451\u043D!"
    },
    C = {
        "ar-001": {
            translations: p,
            isRTL: !0
        },
        "de-DE": {
            translations: g,
            isRTL: !1
        },
        "es-ES": {
            translations: E,
            isRTL: !1
        },
        "fr-FR": {
            translations: S,
            isRTL: !1
        },
        "it-IT": {
            translations: T,
            isRTL: !1
        },
        "pl-PL": {
            translations: V,
            isRTL: !1
        },
        "pt-PT": {
            translations: k,
            isRTL: !1
        },
        "ru-RU": {
            translations: N,
            isRTL: !1
        }
    };

function P(d, w, O, t) {
    d.Payload = JSON.stringify({
        verification_code: d.VerificationCode,
        new_password: d.NewPassword
    })
}
c(P, "default");
var e = m; {
    let w = class w extends e.Controller.BaseViewController {
        constructor(t, o, s) {
            super(t, o, s, C);
            var r = this.controller;
            this.clientActionProxies = {}, this.dataFetchDependenciesOriginal = {}, this.dataFetchDependentsGraph = {}, this.shouldSendClientVarsToDataSources = !1
        }
        get dataFetchActionNames() {
            return this.hasOwnProperty("_dataFetchActionNames") || (this._dataFetchActionNames = []), this._dataFetchActionNames
        }
        set dataFetchActionNames(t) {
            this._dataFetchActionNames = t
        }
        get _passwordPolicyCompliant$Action() {
            return this.hasOwnProperty("__passwordPolicyCompliant$Action") || (this.__passwordPolicyCompliant$Action = function(t, o) {
                var s = this.model,
                    r = this.controller,
                    a = this.idService;
                return e.Logger.startActiveSpan("PasswordPolicyCompliant", function(n) {
                    n && (n.setAttribute("code.function", "PasswordPolicyCompliant"), n.setAttribute("outsystems.function.key", "0f82ecea-8e17-439b-9ee1-4b6d644e0615"), n.setAttribute("outsystems.function.owner.name", "tradershub"), n.setAttribute("outsystems.function.owner.key", "2ad446d5-32d7-4fbf-959d-82d8325bcfbc"), n.setAttribute("outsystems.function.type", "CLIENT_SCREEN_ACTION"));
                    try {
                        r.ensureControllerAlive("PasswordPolicyCompliant"), o = r.callContext(o);
                        var u = new e.DataTypes.VariableHolder(new(r.constructor.getVariableGroupType("tradershub.ForgotAndResetPassword.ResetPassword.PasswordPolicyCompliant$vars")));
                        u.value.isValidInLocal = t, s.variables.isPasswordValidVar = u.value.isValidInLocal
                    } finally {
                        n && n.end()
                    }
                }, 1)
            }), this.__passwordPolicyCompliant$Action
        }
        set _passwordPolicyCompliant$Action(t) {
            this.__passwordPolicyCompliant$Action = t
        }
        get _onClickShowPassword$Action() {
            return this.hasOwnProperty("__onClickShowPassword$Action") || (this.__onClickShowPassword$Action = function(t) {
                var o = this.model,
                    s = this.controller,
                    r = this.idService;
                return e.Logger.startActiveSpan("OnClickShowPassword", function(a) {
                    a && (a.setAttribute("code.function", "OnClickShowPassword"), a.setAttribute("outsystems.function.key", "2081c48a-42fd-42e9-95e0-2fdcd2ca8408"), a.setAttribute("outsystems.function.owner.name", "tradershub"), a.setAttribute("outsystems.function.owner.key", "2ad446d5-32d7-4fbf-959d-82d8325bcfbc"), a.setAttribute("outsystems.function.type", "CLIENT_SCREEN_ACTION"));
                    try {
                        s.ensureControllerAlive("OnClickShowPassword"), t = s.callContext(t), o.variables.showPasswordVar ? o.variables.showPasswordVar = !1 : o.variables.showPasswordVar = !0
                    } finally {
                        a && a.end()
                    }
                }, 1)
            }), this.__onClickShowPassword$Action
        }
        set _onClickShowPassword$Action(t) {
            this.__onClickShowPassword$Action = t
        }
        get _sendNewPassword$Action() {
            return this.hasOwnProperty("__sendNewPassword$Action") || (this.__sendNewPassword$Action = function(t, o) {
                var s = this.model,
                    r = this.controller,
                    a = this.idService;
                return e.Logger.startActiveSpan("SendNewPassword", function(n) {
                    return n && (n.setAttribute("code.function", "SendNewPassword"), n.setAttribute("outsystems.function.key", "3ffdf30b-aab9-432c-8988-1a04c5033c92"), n.setAttribute("outsystems.function.owner.name", "tradershub"), n.setAttribute("outsystems.function.owner.key", "2ad446d5-32d7-4fbf-959d-82d8325bcfbc"), n.setAttribute("outsystems.function.type", "CLIENT_SCREEN_ACTION")), e.Flow.tryFinally(function() {
                        r.ensureControllerAlive("SendNewPassword"), o = r.callContext(o);
                        var u = new e.DataTypes.VariableHolder(new(r.constructor.getVariableGroupType("tradershub.ForgotAndResetPassword.ResetPassword.SendNewPassword$vars")));
                        u.value.newPasswordInLocal = t;
                        var h = new e.DataTypes.VariableHolder,
                            _ = new e.DataTypes.VariableHolder;
                        return e.Flow.executeAsyncFlow(function() {
                            return _.value = e.Logger.startActiveSpan("reset_password_payload", function(i) {
                                i && (i.setAttribute("code.function", "reset_password_payload"), i.setAttribute("outsystems.function.key", "e3c260d4-d5dd-4754-b80c-c23ed11eb338"), i.setAttribute("outsystems.function.owner.name", "tradershub"), i.setAttribute("outsystems.function.owner.key", "2ad446d5-32d7-4fbf-959d-82d8325bcfbc"), i.setAttribute("outsystems.function.type", "JAVASCRIPT"));
                                try {
                                    return r.safeExecuteJSNode(P, "reset_password_payload", "SendNewPassword", {
                                        NewPassword: e.DataConversion.JSNodeParamConverter.to(u.value.newPasswordInLocal, e.DataTypes.DataTypes.Text),
                                        VerificationCode: e.DataConversion.JSNodeParamConverter.to(f.getCode(), e.DataTypes.DataTypes.Text),
                                        Payload: e.DataConversion.JSNodeParamConverter.to("", e.DataTypes.DataTypes.Text)
                                    }, function(R) {
                                        var A = new(r.constructor.getVariableGroupType("tradershub.ForgotAndResetPassword.ResetPassword.SendNewPassword$reset_password_payloadJSResult"));
                                        return A.payloadOut = e.DataConversion.JSNodeParamConverter.from(R.Payload, e.DataTypes.DataTypes.Text), A
                                    }, {}, {})
                                } finally {
                                    i && i.end()
                                }
                            }, 1), s.flush(), y.derivApiSendMessage$Action(_.value.payloadOut, "reset_password", !1, o).then(function(i) {
                                h.value = i
                            }).then(function() {
                                return h.value.isErrorOut ? (f.setResetPasswordEmailSent(!1), f.setResetPasswordLinkExpired(!0), e.Flow.returnAsync(e.Navigation.navigateTo(e.Navigation.generateScreenURL("tradershub", "ForgotPassword", {}), e.Transitions.createTransition(e.Transitions.TransitionAnimation.Default), o, !0))) : (e.FeedbackMessageService.showFeedbackMessage(e.Injector.resolve(e.ServiceNames.TranslationsService).getMessage("V14sS08doU66VhvCj93Z+A#Message.-75075825.1", "Password has been updated!"), 1), y.cleanupAfterResetPassword$Action(o), e.Flow.returnAsync(e.Navigation.navigateTo(e.Navigation.generateScreenURL("tradershub", "login", {}), e.Transitions.createTransition(e.Transitions.TransitionAnimation.Default), o, !0)))
                            })
                        })
                    }, function() {
                        n && n.end()
                    })
                }, 1)
            }), this.__sendNewPassword$Action
        }
        set _sendNewPassword$Action(t) {
            this.__sendNewPassword$Action = t
        }
        get _resetMyPasswordOnClick$Action() {
            return this.hasOwnProperty("__resetMyPasswordOnClick$Action") || (this.__resetMyPasswordOnClick$Action = function(t) {
                var o = this.model,
                    s = this.controller,
                    r = this.idService;
                return e.Logger.startActiveSpan("ResetMyPasswordOnClick", function(a) {
                    return a && (a.setAttribute("code.function", "ResetMyPasswordOnClick"), a.setAttribute("outsystems.function.key", "f845f332-ce0a-473c-a3b6-96edc2fdca50"), a.setAttribute("outsystems.function.owner.name", "tradershub"), a.setAttribute("outsystems.function.owner.key", "2ad446d5-32d7-4fbf-959d-82d8325bcfbc"), a.setAttribute("outsystems.function.type", "CLIENT_SCREEN_ACTION")), e.Flow.tryFinally(function() {
                        return s.ensureControllerAlive("ResetMyPasswordOnClick"), t = s.callContext(t), e.Flow.executeAsyncFlow(function() {
                            return e.Flow.executeSequence(function() {
                                if (o.variables.isPasswordValidVar) return s._sendNewPassword$Action(o.variables.passwordVar, t)
                            })
                        })
                    }, function() {
                        a && a.end()
                    })
                }, 1)
            }), this.__resetMyPasswordOnClick$Action
        }
        set _resetMyPasswordOnClick$Action(t) {
            this.__resetMyPasswordOnClick$Action = t
        }
        passwordPolicyCompliant$Action(t, o) {
            var s = this.controller;
            return e.Logger.startActiveSpan("PasswordPolicyCompliant__proxy", function(r) {
                r && (r.setAttribute("code.function", "PasswordPolicyCompliant"), r.setAttribute("outsystems.function.key", "0f82ecea-8e17-439b-9ee1-4b6d644e0615"), r.setAttribute("outsystems.function.owner.name", "tradershub"), r.setAttribute("outsystems.function.owner.key", "2ad446d5-32d7-4fbf-959d-82d8325bcfbc"), r.setAttribute("outsystems.function.type", "CLIENT_SCREEN_ACTION"));
                try {
                    return s.safeExecuteClientAction(s._passwordPolicyCompliant$Action, o, t)
                } finally {
                    r && r.end()
                }
            }, 0)
        }
        onClickShowPassword$Action(t) {
            var o = this.controller;
            return e.Logger.startActiveSpan("OnClickShowPassword__proxy", function(s) {
                s && (s.setAttribute("code.function", "OnClickShowPassword"), s.setAttribute("outsystems.function.key", "2081c48a-42fd-42e9-95e0-2fdcd2ca8408"), s.setAttribute("outsystems.function.owner.name", "tradershub"), s.setAttribute("outsystems.function.owner.key", "2ad446d5-32d7-4fbf-959d-82d8325bcfbc"), s.setAttribute("outsystems.function.type", "CLIENT_SCREEN_ACTION"));
                try {
                    return o.safeExecuteClientAction(o._onClickShowPassword$Action, t)
                } finally {
                    s && s.end()
                }
            }, 0)
        }
        sendNewPassword$Action(t, o) {
            var s = this.controller;
            return e.Logger.startActiveSpan("SendNewPassword__proxy", function(r) {
                return r && (r.setAttribute("code.function", "SendNewPassword"), r.setAttribute("outsystems.function.key", "3ffdf30b-aab9-432c-8988-1a04c5033c92"), r.setAttribute("outsystems.function.owner.name", "tradershub"), r.setAttribute("outsystems.function.owner.key", "2ad446d5-32d7-4fbf-959d-82d8325bcfbc"), r.setAttribute("outsystems.function.type", "CLIENT_SCREEN_ACTION")), e.Flow.tryFinally(function() {
                    return s.safeExecuteClientAction(s._sendNewPassword$Action, o, t)
                }, function() {
                    r && r.end()
                })
            }, 0)
        }
        resetMyPasswordOnClick$Action(t) {
            var o = this.controller;
            return e.Logger.startActiveSpan("ResetMyPasswordOnClick__proxy", function(s) {
                return s && (s.setAttribute("code.function", "ResetMyPasswordOnClick"), s.setAttribute("outsystems.function.key", "f845f332-ce0a-473c-a3b6-96edc2fdca50"), s.setAttribute("outsystems.function.owner.name", "tradershub"), s.setAttribute("outsystems.function.owner.key", "2ad446d5-32d7-4fbf-959d-82d8325bcfbc"), s.setAttribute("outsystems.function.type", "CLIENT_SCREEN_ACTION")), e.Flow.tryFinally(function() {
                    return o.safeExecuteClientAction(o._resetMyPasswordOnClick$Action, t)
                }, function() {
                    s && s.end()
                })
            }, 0)
        }
        get onInitializeEventHandler() {
            return this.hasOwnProperty("_onInitializeEventHandler") || (this._onInitializeEventHandler = null), this._onInitializeEventHandler
        }
        set onInitializeEventHandler(t) {
            this._onInitializeEventHandler = t
        }
        get onReadyEventHandler() {
            return this.hasOwnProperty("_onReadyEventHandler") || (this._onReadyEventHandler = null), this._onReadyEventHandler
        }
        set onReadyEventHandler(t) {
            this._onReadyEventHandler = t
        }
        get onRenderEventHandler() {
            return this.hasOwnProperty("_onRenderEventHandler") || (this._onRenderEventHandler = null), this._onRenderEventHandler
        }
        set onRenderEventHandler(t) {
            this._onRenderEventHandler = t
        }
        get onDestroyEventHandler() {
            return this.hasOwnProperty("_onDestroyEventHandler") || (this._onDestroyEventHandler = null), this._onDestroyEventHandler
        }
        set onDestroyEventHandler(t) {
            this._onDestroyEventHandler = t
        }
        get onParametersChangedEventHandler() {
            return this.hasOwnProperty("_onParametersChangedEventHandler") || (this._onParametersChangedEventHandler = null), this._onParametersChangedEventHandler
        }
        set onParametersChangedEventHandler(t) {
            this._onParametersChangedEventHandler = t
        }
        get handleError() {
            return this.hasOwnProperty("_handleError") || (this._handleError = function(t) {
                return b.default.handleError(t, this.callContext())
            }), this._handleError
        }
        set handleError(t) {
            this._handleError = t
        }
        static checkPermissions() {}
        getDefaultTimeout() {
            return y.defaultTimeout
        }
    };
    c(w, "ControllerInner");
    let d = w;
    l = d, l.registerVariableGroupType("tradershub.ForgotAndResetPassword.ResetPassword.PasswordPolicyCompliant$vars", [{
        name: "IsValid",
        attrName: "isValidInLocal",
        mandatory: !0,
        dataType: e.DataTypes.DataTypes.Boolean,
        defaultValue: c(function() {
            return !1
        }, "defaultValue")
    }]), l.registerVariableGroupType("tradershub.ForgotAndResetPassword.ResetPassword.SendNewPassword$vars", [{
        name: "NewPassword",
        attrName: "newPasswordInLocal",
        mandatory: !0,
        dataType: e.DataTypes.DataTypes.Text,
        defaultValue: c(function() {
            return ""
        }, "defaultValue")
    }]), l.registerVariableGroupType("tradershub.ForgotAndResetPassword.ResetPassword.SendNewPassword$reset_password_payloadJSResult", [{
        name: "Payload",
        attrName: "payloadOut",
        mandatory: !0,
        dataType: e.DataTypes.DataTypes.Text,
        defaultValue: c(function() {
            return ""
        }, "defaultValue")
    }])
}
var l, J = new e.Controller.ControllerFactory(l, v);
export {
    J as a
};