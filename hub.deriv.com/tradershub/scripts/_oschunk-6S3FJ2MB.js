import {
    a as A
} from "./_oschunk-LHY3WMNC.js";
import {
    a as v
} from "./_oschunk-ESOYZIPG.js";
import {
    a as g,
    d as u
} from "./_oschunk-XMOR6XCC.js";
import {
    a as b
} from "./_oschunk-H7UK4VZM.js";
import {
    ia as m
} from "./_oschunk-NTQBNJ73.js";
import {
    c as y
} from "./_oschunk-DVBKI63I.js";
var w = {
        "p_KjAUhTxkykorMMZGMrOg#Value": "\u062A\u0633\u062C\u064A\u0644 \u0627\u0644\u062F\u062E\u0648\u0644",
        "nUjkq+5Mo0Kp5N5FfiRS9A#Value.-1568054451.1": "Forgot password? Click here to recover it",
        "ZqnTDiKdrk22FX5AJbVIvw#Value": "\u0646\u0633\u064A\u062A \u0643\u0644\u0645\u0629 \u0627\u0644\u0645\u0631\u0648\u0631\u061F",
        "yCHbK0e2FkGfIimm0zgofw#Value": "\u0643\u0644\u0645\u0629 \u0627\u0644\u0645\u0631\u0648\u0631",
        "qDK+3S3XYEGiMltItsRr8Q#Value": "\u0627\u0644\u0628\u0631\u064A\u062F \u0627\u0644\u0625\u0644\u0643\u062A\u0631\u0648\u0646\u064A",
        "Cc0KYWZDoEOnCoR5gT3k6Q#Message.1328625673.1": "\u0644\u0627 \u062A\u0648\u062C\u062F \u0623\u0630\u0648\u0646\u0627\u062A.",
        "SC9qqiQIAk+74yCwjQZ78Q#Title": "\u062A\u0633\u062C\u064A\u0644 \u0627\u0644\u062F\u062E\u0648\u0644",
        "SC9qqiQIAk+74yCwjQZ78Q#TitleExpression.-2013538399.1": "\u062A\u0633\u062C\u064A\u0644 \u0627\u0644\u062F\u062E\u0648\u0644"
    },
    E = {
        "p_KjAUhTxkykorMMZGMrOg#Value": "Einloggen",
        "nUjkq+5Mo0Kp5N5FfiRS9A#Value.-1568054451.1": "Forgot password? Click here to recover it",
        "ZqnTDiKdrk22FX5AJbVIvw#Value": "Passwort vergessen?",
        "yCHbK0e2FkGfIimm0zgofw#Value": "Passwort",
        "qDK+3S3XYEGiMltItsRr8Q#Value": "E-Mail",
        "Cc0KYWZDoEOnCoR5gT3k6Q#Message.1328625673.1": "Keine Berechtigungen.",
        "SC9qqiQIAk+74yCwjQZ78Q#Title": "Einloggen",
        "SC9qqiQIAk+74yCwjQZ78Q#TitleExpression.-2013538399.1": "Einloggen"
    },
    k = {
        "p_KjAUhTxkykorMMZGMrOg#Value": "Iniciar sesi\xF3n",
        "nUjkq+5Mo0Kp5N5FfiRS9A#Value.-1568054451.1": "\xBFOlvid\xF3 su contrase\xF1a? Haga clic aqu\xED para recuperarla",
        "ZqnTDiKdrk22FX5AJbVIvw#Value": "\xBFOlvid\xF3 la contrase\xF1a?",
        "yCHbK0e2FkGfIimm0zgofw#Value": "Contrase\xF1a",
        "qDK+3S3XYEGiMltItsRr8Q#Value": "Correo electr\xF3nico",
        "Cc0KYWZDoEOnCoR5gT3k6Q#Message.1328625673.1": "Sin permisos.",
        "SC9qqiQIAk+74yCwjQZ78Q#Title": "Iniciar sesi\xF3n",
        "SC9qqiQIAk+74yCwjQZ78Q#TitleExpression.-2013538399.1": "Iniciar sesi\xF3n"
    },
    T = {
        "p_KjAUhTxkykorMMZGMrOg#Value": "Se connecter",
        "nUjkq+5Mo0Kp5N5FfiRS9A#Value.-1568054451.1": "Forgot password? Click here to recover it",
        "ZqnTDiKdrk22FX5AJbVIvw#Value": "Mot de passe oubli\xE9 ?",
        "yCHbK0e2FkGfIimm0zgofw#Value": "Mot de passe",
        "qDK+3S3XYEGiMltItsRr8Q#Value": "E-mail",
        "Cc0KYWZDoEOnCoR5gT3k6Q#Message.1328625673.1": "Pas de permissions.",
        "SC9qqiQIAk+74yCwjQZ78Q#Title": "Se connecter",
        "SC9qqiQIAk+74yCwjQZ78Q#TitleExpression.-2013538399.1": "Se connecter"
    },
    I = {
        "p_KjAUhTxkykorMMZGMrOg#Value": "Accedi",
        "nUjkq+5Mo0Kp5N5FfiRS9A#Value.-1568054451.1": "Hai dimenticato la password. Fai clic qui per recuperarla.",
        "ZqnTDiKdrk22FX5AJbVIvw#Value": "Hai dimenticato la password?",
        "yCHbK0e2FkGfIimm0zgofw#Value": "Password",
        "qDK+3S3XYEGiMltItsRr8Q#Value": "Email",
        "Cc0KYWZDoEOnCoR5gT3k6Q#Message.1328625673.1": "Nessuna autorizzazione.",
        "SC9qqiQIAk+74yCwjQZ78Q#Title": "Accedi",
        "SC9qqiQIAk+74yCwjQZ78Q#TitleExpression.-2013538399.1": "Accedi"
    },
    V = {
        "p_KjAUhTxkykorMMZGMrOg#Value": "Zaloguj si\u0119",
        "nUjkq+5Mo0Kp5N5FfiRS9A#Value.-1568054451.1": "Nie pami\u0119tasz has\u0142a? Kliknij tutaj, aby je odzyska\u0107.",
        "ZqnTDiKdrk22FX5AJbVIvw#Value": "Nie pami\u0119tasz has\u0142a?",
        "yCHbK0e2FkGfIimm0zgofw#Value": "Has\u0142o",
        "qDK+3S3XYEGiMltItsRr8Q#Value": "E-mail",
        "Cc0KYWZDoEOnCoR5gT3k6Q#Message.1328625673.1": "Brak uprawnie\u0144.",
        "SC9qqiQIAk+74yCwjQZ78Q#Title": "Zaloguj si\u0119",
        "SC9qqiQIAk+74yCwjQZ78Q#TitleExpression.-2013538399.1": "Zaloguj si\u0119"
    },
    S = {
        "p_KjAUhTxkykorMMZGMrOg#Value": "Iniciar sess\xE3o",
        "nUjkq+5Mo0Kp5N5FfiRS9A#Value.-1568054451.1": "Forgot password? Click here to recover it",
        "ZqnTDiKdrk22FX5AJbVIvw#Value": "Esqueceu a sua palavra-passe?",
        "yCHbK0e2FkGfIimm0zgofw#Value": "Palavra-passe",
        "qDK+3S3XYEGiMltItsRr8Q#Value": "E-mail",
        "Cc0KYWZDoEOnCoR5gT3k6Q#Message.1328625673.1": "Sem permiss\xF5es.",
        "SC9qqiQIAk+74yCwjQZ78Q#Title": "Iniciar sess\xE3o",
        "SC9qqiQIAk+74yCwjQZ78Q#TitleExpression.-2013538399.1": "Iniciar sess\xE3o"
    },
    R = {
        "p_KjAUhTxkykorMMZGMrOg#Value": "\u0412\u043E\u0439\u0442\u0438",
        "nUjkq+5Mo0Kp5N5FfiRS9A#Value.-1568054451.1": "Forgot password? Click here to recover it",
        "ZqnTDiKdrk22FX5AJbVIvw#Value": "\u0417\u0430\u0431\u044B\u043B\u0438 \u043F\u0430\u0440\u043E\u043B\u044C?",
        "yCHbK0e2FkGfIimm0zgofw#Value": "\u041F\u0430\u0440\u043E\u043B\u044C",
        "qDK+3S3XYEGiMltItsRr8Q#Value": "\u042D\u043B\u0435\u043A\u0442\u0440\u043E\u043D\u043D\u0430\u044F \u043F\u043E\u0447\u0442\u0430",
        "Cc0KYWZDoEOnCoR5gT3k6Q#Message.1328625673.1": "\u041D\u0435\u0442 \u0440\u0430\u0437\u0440\u0435\u0448\u0435\u043D\u0438\u0439.",
        "SC9qqiQIAk+74yCwjQZ78Q#Title": "\u0412\u043E\u0439\u0442\u0438",
        "SC9qqiQIAk+74yCwjQZ78Q#TitleExpression.-2013538399.1": "\u0412\u043E\u0439\u0442\u0438"
    },
    _ = {
        "ar-001": {
            translations: w,
            isRTL: !0
        },
        "de-DE": {
            translations: E,
            isRTL: !1
        },
        "es-ES": {
            translations: k,
            isRTL: !1
        },
        "fr-FR": {
            translations: T,
            isRTL: !1
        },
        "it-IT": {
            translations: I,
            isRTL: !1
        },
        "pl-PL": {
            translations: V,
            isRTL: !1
        },
        "pt-PT": {
            translations: S,
            isRTL: !1
        },
        "ru-RU": {
            translations: R,
            isRTL: !1
        }
    };
var t = m; {
    let d = class d extends t.Controller.BaseViewController {
        constructor(e, r, i) {
            super(e, r, i, _);
            var a = this.controller;
            this.clientActionProxies = {}, this.dataFetchDependenciesOriginal = {}, this.dataFetchDependentsGraph = {}, this.shouldSendClientVarsToDataSources = !1
        }
        get dataFetchActionNames() {
            return this.hasOwnProperty("_dataFetchActionNames") || (this._dataFetchActionNames = []), this._dataFetchActionNames
        }
        set dataFetchActionNames(e) {
            this._dataFetchActionNames = e
        }
        get _onInitialize$Action() {
            return this.hasOwnProperty("__onInitialize$Action") || (this.__onInitialize$Action = function(e) {
                var r = this.model,
                    i = this.controller,
                    a = this.idService;
                return t.Logger.startActiveSpan("OnInitialize", function(n) {
                    n && (n.setAttribute("code.function", "OnInitialize"), n.setAttribute("outsystems.function.key", "14355f2d-bb2f-44a7-acd2-29acfb5b2ded"), n.setAttribute("outsystems.function.owner.name", "tradershub"), n.setAttribute("outsystems.function.owner.key", "2ad446d5-32d7-4fbf-959d-82d8325bcfbc"), n.setAttribute("outsystems.function.type", "CLIENT_SCREEN_ACTION"));
                    try {
                        if (i.ensureControllerAlive("OnInitialize"), e = i.callContext(e), t.BuiltinFunctions.getUserId().toString() !== t.BuiltinFunctions.nullTextIdentifier()) return t.Navigation.navigateTo(t.Navigation.generateScreenURL(t.BuiltinFunctions.getOwnerURLPath(), {}), t.Transitions.createTransition(t.Transitions.TransitionAnimation.Default), e, !0)
                    } finally {
                        n && n.end()
                    }
                }, 1)
            }), this.__onInitialize$Action
        }
        set _onInitialize$Action(e) {
            this.__onInitialize$Action = e
        }
        get _onTogglePasswordVisibility$Action() {
            return this.hasOwnProperty("__onTogglePasswordVisibility$Action") || (this.__onTogglePasswordVisibility$Action = function(e) {
                var r = this.model,
                    i = this.controller,
                    a = this.idService;
                return t.Logger.startActiveSpan("OnTogglePasswordVisibility", function(n) {
                    n && (n.setAttribute("code.function", "OnTogglePasswordVisibility"), n.setAttribute("outsystems.function.key", "26c085d1-acb2-40e4-8d40-9d907dc2e86d"), n.setAttribute("outsystems.function.owner.name", "tradershub"), n.setAttribute("outsystems.function.owner.key", "2ad446d5-32d7-4fbf-959d-82d8325bcfbc"), n.setAttribute("outsystems.function.type", "CLIENT_SCREEN_ACTION"));
                    try {
                        i.ensureControllerAlive("OnTogglePasswordVisibility"), e = i.callContext(e);
                        var l = new t.DataTypes.VariableHolder;
                        r.variables.isPasswordVisibleVar = !r.variables.isPasswordVisibleVar, l.value = b.showPassword$Action("", e)
                    } finally {
                        n && n.end()
                    }
                }, 1)
            }), this.__onTogglePasswordVisibility$Action
        }
        set _onTogglePasswordVisibility$Action(e) {
            this.__onTogglePasswordVisibility$Action = e
        }
        get _loginOnClick$Action() {
            return this.hasOwnProperty("__loginOnClick$Action") || (this.__loginOnClick$Action = function(e) {
                var r = this.model,
                    i = this.controller,
                    a = this.idService;
                return t.Logger.startActiveSpan("LoginOnClick", function(n) {
                    return n && (n.setAttribute("code.function", "LoginOnClick"), n.setAttribute("outsystems.function.key", "fb636e0c-5502-414e-8a4e-7a424b00b5b4"), n.setAttribute("outsystems.function.owner.name", "tradershub"), n.setAttribute("outsystems.function.owner.key", "2ad446d5-32d7-4fbf-959d-82d8325bcfbc"), n.setAttribute("outsystems.function.type", "CLIENT_SCREEN_ACTION")), t.Flow.tryFinally(function() {
                        i.ensureControllerAlive("LoginOnClick"), e = i.callContext(e);
                        var l = new t.DataTypes.VariableHolder(new t.DataTypes.ErrorHandlerOutputType),
                            h = new t.DataTypes.VariableHolder,
                            f = new t.DataTypes.VariableHolder;
                        return t.Flow.executeAsyncFlow(function() {
                            return t.Flow.executeSequence(function() {
                                if (r.widgets.get(a.getId("LoginForm")).validAttr) return r.variables.isExecutingVar = !0, b.feedbackMessageClose$Action(e), r.flush(), u.doLogin$Action(r.variables.userEmailVar, r.variables.passwordVar, e).then(function(s) {
                                    f.value = s
                                }).then(function() {
                                    return t.Flow.executeSequence(function() {
                                        if (f.value.successOut) return h.value = u.checktradershubRole$Action(e), t.Flow.executeSequence(function() {
                                            return h.value.hasRoleOut ? t.Flow.returnAsync(t.Navigation.navigateTo(t.Navigation.generateScreenURL(g.getLastURL() === "" ? t.BuiltinFunctions.getOwnerURLPath() : g.getLastURL(), {}), t.Transitions.createTransition(t.Transitions.TransitionAnimation.Fade), e, !0)) : (r.variables.passwordVar = "", r.variables.isExecutingVar = !1, t.FeedbackMessageService.showFeedbackMessage(t.Injector.resolve(t.ServiceNames.TranslationsService).getMessage("Cc0KYWZDoEOnCoR5gT3k6Q#Message.1328625673.1", "No permissions."), 3), r.flush(), t.SystemActions.logout(e))
                                        });
                                        r.variables.passwordVar = "", r.variables.isExecutingVar = !1, t.FeedbackMessageService.showFeedbackMessage(f.value.errorMessageOut, 3)
                                    })
                                })
                            })
                        }).catch(function(s) {
                            if (t.Logger.debug("Login.LoginOnClick", t.Exceptions.getMessage(s)), !t.Exceptions.isSystem(s)) return t.Logger.error(null, s, null, null, 1), l.value.exceptionMessageAttr = t.Exceptions.getMessage(s), t.Logger.startActiveSpan("AllExceptions", function(o) {
                                return o && (o.setAttribute("code.function", "AllExceptions"), o.setAttribute("outsystems.function.key", "599d7676-eda3-4dbe-a7d9-f1bd2acf9a02"), o.setAttribute("outsystems.function.owner.name", "tradershub"), o.setAttribute("outsystems.function.owner.key", "2ad446d5-32d7-4fbf-959d-82d8325bcfbc"), o.setAttribute("outsystems.function.type", "CLIENT_EXCEPTION_HANDLER")), t.Flow.tryFinally(function() {
                                    return t.Flow.executeAsyncFlow(function() {
                                        return r.variables.passwordVar = "", r.variables.isExecutingVar = !1, t.FeedbackMessageService.showFeedbackMessage(l.value.exceptionMessageAttr, 3), t.Flow.returnAsync()
                                    })
                                }, function() {
                                    o && o.end()
                                })
                            }, 1);
                            throw s
                        })
                    }, function() {
                        n && n.end()
                    })
                }, 1)
            }), this.__loginOnClick$Action
        }
        set _loginOnClick$Action(e) {
            this.__loginOnClick$Action = e
        }
        onInitialize$Action(e) {
            var r = this.controller;
            return t.Logger.startActiveSpan("OnInitialize__proxy", function(i) {
                i && (i.setAttribute("code.function", "OnInitialize"), i.setAttribute("outsystems.function.key", "14355f2d-bb2f-44a7-acd2-29acfb5b2ded"), i.setAttribute("outsystems.function.owner.name", "tradershub"), i.setAttribute("outsystems.function.owner.key", "2ad446d5-32d7-4fbf-959d-82d8325bcfbc"), i.setAttribute("outsystems.function.type", "CLIENT_SCREEN_ACTION"));
                try {
                    return r.safeExecuteClientAction(r._onInitialize$Action, e)
                } finally {
                    i && i.end()
                }
            }, 0)
        }
        onTogglePasswordVisibility$Action(e) {
            var r = this.controller;
            return t.Logger.startActiveSpan("OnTogglePasswordVisibility__proxy", function(i) {
                i && (i.setAttribute("code.function", "OnTogglePasswordVisibility"), i.setAttribute("outsystems.function.key", "26c085d1-acb2-40e4-8d40-9d907dc2e86d"), i.setAttribute("outsystems.function.owner.name", "tradershub"), i.setAttribute("outsystems.function.owner.key", "2ad446d5-32d7-4fbf-959d-82d8325bcfbc"), i.setAttribute("outsystems.function.type", "CLIENT_SCREEN_ACTION"));
                try {
                    return r.safeExecuteClientAction(r._onTogglePasswordVisibility$Action, e)
                } finally {
                    i && i.end()
                }
            }, 0)
        }
        loginOnClick$Action(e) {
            var r = this.controller;
            return t.Logger.startActiveSpan("LoginOnClick__proxy", function(i) {
                return i && (i.setAttribute("code.function", "LoginOnClick"), i.setAttribute("outsystems.function.key", "fb636e0c-5502-414e-8a4e-7a424b00b5b4"), i.setAttribute("outsystems.function.owner.name", "tradershub"), i.setAttribute("outsystems.function.owner.key", "2ad446d5-32d7-4fbf-959d-82d8325bcfbc"), i.setAttribute("outsystems.function.type", "CLIENT_SCREEN_ACTION")), t.Flow.tryFinally(function() {
                    return r.safeExecuteClientAction(r._loginOnClick$Action, e)
                }, function() {
                    i && i.end()
                })
            }, 0)
        }
        get onInitializeEventHandler() {
            return this.hasOwnProperty("_onInitializeEventHandler") || (this._onInitializeEventHandler = function(e) {
                var r = this.controller,
                    i = this.model,
                    a = this.idService;
                return r.onInitialize$Action(e)
            }), this._onInitializeEventHandler
        }
        set onInitializeEventHandler(e) {
            this._onInitializeEventHandler = e
        }
        get onReadyEventHandler() {
            return this.hasOwnProperty("_onReadyEventHandler") || (this._onReadyEventHandler = null), this._onReadyEventHandler
        }
        set onReadyEventHandler(e) {
            this._onReadyEventHandler = e
        }
        get onRenderEventHandler() {
            return this.hasOwnProperty("_onRenderEventHandler") || (this._onRenderEventHandler = null), this._onRenderEventHandler
        }
        set onRenderEventHandler(e) {
            this._onRenderEventHandler = e
        }
        get onDestroyEventHandler() {
            return this.hasOwnProperty("_onDestroyEventHandler") || (this._onDestroyEventHandler = null), this._onDestroyEventHandler
        }
        set onDestroyEventHandler(e) {
            this._onDestroyEventHandler = e
        }
        get onParametersChangedEventHandler() {
            return this.hasOwnProperty("_onParametersChangedEventHandler") || (this._onParametersChangedEventHandler = null), this._onParametersChangedEventHandler
        }
        set onParametersChangedEventHandler(e) {
            this._onParametersChangedEventHandler = e
        }
        get handleError() {
            return this.hasOwnProperty("_handleError") || (this._handleError = function(e) {
                return v.default.handleError(e, this.callContext())
            }), this._handleError
        }
        set handleError(e) {
            this._handleError = e
        }
        static checkPermissions() {}
        getDefaultTimeout() {
            return u.defaultTimeout
        }
    };
    y(d, "ControllerInner");
    let c = d;
    C = c
}
var C, D = new t.Controller.ControllerFactory(C, A);
export {
    D as a
};