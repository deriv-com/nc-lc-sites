import {
    a as L
} from "./_oschunk-JTBJ32DE.js";
import {
    a as F
} from "./_oschunk-5N5TJ3ES.js";
import {
    a as m,
    d as h
} from "./_oschunk-VADNKVBQ.js";
import {
    Mf as A,
    Nf as C,
    ta as O
} from "./_oschunk-KG7LSUIA.js";
import {
    ia as w
} from "./_oschunk-5EPHB76O.js";
import {
    c as y
} from "./_oschunk-DVBKI63I.js";
var U = {
        "Pj10iobUZ02yNHL_mn2r4Q#Value": "\u0627\u0644\u062A\u0627\u0644\u064A",
        "NP4LFJC0_0+gYJuZ4XVF8g#ValueExpression.269129445.1": "\u0642\u0645 \u0628\u0625\u062F\u062E\u0627\u0644",
        "Joy7QHQO9U6PPn1ZP0kU6Q#ValueExpression.-1864880023.1": "\u0623\u062F\u062E\u0644 \u0631\u0642\u0645 \u0627\u0644\u0645\u0633\u062A\u0646\u062F \u0627\u0644\u062E\u0627\u0635 \u0628\u0643",
        "Joy7QHQO9U6PPn1ZP0kU6Q#ValueExpression.269129445.1": "\u0642\u0645 \u0628\u0625\u062F\u062E\u0627\u0644",
        "sVMUT2B9AEGgyTfLq4AQQg#ValueExpression.2067318222.1": "\u0631\u0642\u0645 \u0627\u0644\u0648\u062B\u064A\u0642\u0629",
        "B6uOXJubvUqPXa6xy0IsQw#ValueExpression.-964944010.1": "\u0627\u062E\u062A\u0631 \u0646\u0648\u0639 \u0627\u0644\u0645\u0633\u062A\u0646\u062F \u0627\u0644\u062E\u0627\u0635 \u0628\u0643",
        "IsCVlHAg60yzbIoHFFOqgg#Value": "\u0646\u0648\u0639 \u0627\u0644\u0648\u062B\u064A\u0642\u0629",
        "V+t_iesdbkGcAVN32D4V0w#Value": "\u062A\u062E\u0637\u064A",
        "Hj3pKCxUGESS3_0IZWlqhQ#Value.-1330566627.1": "\u0627\u0644\u062A\u062D\u0642\u0642 \u0645\u0646 \u0627\u0644\u0647\u0648\u064A\u0629",
        "8PranFMcskO1Vm95fI64Gg#Title": "\u0627\u0644\u062A\u062D\u0642\u0642 \u0645\u0646 \u0627\u0644\u0647\u0648\u064A\u0629 | Deriv",
        "8PranFMcskO1Vm95fI64Gg#TitleExpression.1272643895.1": "\u0627\u0644\u062A\u062D\u0642\u0642 \u0645\u0646 \u0627\u0644\u0647\u0648\u064A\u0629 | Deriv"
    },
    G = {
        "Pj10iobUZ02yNHL_mn2r4Q#Value": "Weiter",
        "NP4LFJC0_0+gYJuZ4XVF8g#ValueExpression.269129445.1": "Geben Sie ein",
        "Joy7QHQO9U6PPn1ZP0kU6Q#ValueExpression.-1864880023.1": "Geben Sie Ihre Dokumentennummer ein",
        "Joy7QHQO9U6PPn1ZP0kU6Q#ValueExpression.269129445.1": "Geben Sie ein",
        "sVMUT2B9AEGgyTfLq4AQQg#ValueExpression.2067318222.1": "Dokumentnummer",
        "B6uOXJubvUqPXa6xy0IsQw#ValueExpression.-964944010.1": "W\xE4hlen Sie Ihren Dokumenttyp aus",
        "IsCVlHAg60yzbIoHFFOqgg#Value": "Dokumenttyp",
        "V+t_iesdbkGcAVN32D4V0w#Value": "\xDCberspringen",
        "Hj3pKCxUGESS3_0IZWlqhQ#Value.-1330566627.1": "Identit\xE4tspr\xFCfung",
        "8PranFMcskO1Vm95fI64Gg#Title": "Identit\xE4tsverifizierung | Deriv",
        "8PranFMcskO1Vm95fI64Gg#TitleExpression.1272643895.1": "Identit\xE4tsverifizierung | Deriv"
    },
    z = {
        "Pj10iobUZ02yNHL_mn2r4Q#Value": "Siguiente",
        "NP4LFJC0_0+gYJuZ4XVF8g#ValueExpression.269129445.1": "Introduzca su",
        "Joy7QHQO9U6PPn1ZP0kU6Q#ValueExpression.-1864880023.1": "Introduzca su n\xFAmero de documento",
        "Joy7QHQO9U6PPn1ZP0kU6Q#ValueExpression.269129445.1": "Introduzca su",
        "sVMUT2B9AEGgyTfLq4AQQg#ValueExpression.2067318222.1": "N\xFAmero de documento",
        "B6uOXJubvUqPXa6xy0IsQw#ValueExpression.-964944010.1": "Seleccione su tipo de documento",
        "IsCVlHAg60yzbIoHFFOqgg#Value": "Tipo de documento",
        "V+t_iesdbkGcAVN32D4V0w#Value": "Saltar",
        "Hj3pKCxUGESS3_0IZWlqhQ#Value.-1330566627.1": "Verificaci\xF3n de identidad",
        "8PranFMcskO1Vm95fI64Gg#Title": "Verificaci\xF3n de identidad | Deriv",
        "8PranFMcskO1Vm95fI64Gg#TitleExpression.1272643895.1": "Verificaci\xF3n de identidad | Deriv"
    },
    j = {
        "Pj10iobUZ02yNHL_mn2r4Q#Value": "Suivant",
        "NP4LFJC0_0+gYJuZ4XVF8g#ValueExpression.269129445.1": "Entrez votre",
        "Joy7QHQO9U6PPn1ZP0kU6Q#ValueExpression.-1864880023.1": "Entrez votre num\xE9ro de document",
        "Joy7QHQO9U6PPn1ZP0kU6Q#ValueExpression.269129445.1": "Entrez",
        "sVMUT2B9AEGgyTfLq4AQQg#ValueExpression.2067318222.1": "Num\xE9ro de document",
        "B6uOXJubvUqPXa6xy0IsQw#ValueExpression.-964944010.1": "S\xE9lectionnez votre type de document",
        "IsCVlHAg60yzbIoHFFOqgg#Value": "Type de document",
        "V+t_iesdbkGcAVN32D4V0w#Value": "Sauter",
        "Hj3pKCxUGESS3_0IZWlqhQ#Value.-1330566627.1": "V\xE9rification d'identit\xE9",
        "8PranFMcskO1Vm95fI64Gg#Title": "V\xE9rification d'identit\xE9 | Deriv",
        "8PranFMcskO1Vm95fI64Gg#TitleExpression.1272643895.1": "V\xE9rification d'identit\xE9 | Deriv"
    },
    $ = {
        "Pj10iobUZ02yNHL_mn2r4Q#Value": "Avanti",
        "NP4LFJC0_0+gYJuZ4XVF8g#ValueExpression.269129445.1": "Inserisci",
        "Joy7QHQO9U6PPn1ZP0kU6Q#ValueExpression.-1864880023.1": "Inserisci il numero del tuo documento",
        "Joy7QHQO9U6PPn1ZP0kU6Q#ValueExpression.269129445.1": "Inserisci",
        "sVMUT2B9AEGgyTfLq4AQQg#ValueExpression.2067318222.1": "Numero del documento",
        "B6uOXJubvUqPXa6xy0IsQw#ValueExpression.-964944010.1": "Seleziona il tipo di documento",
        "IsCVlHAg60yzbIoHFFOqgg#Value": "Tipo di documento",
        "V+t_iesdbkGcAVN32D4V0w#Value": "Salta",
        "Hj3pKCxUGESS3_0IZWlqhQ#Value.-1330566627.1": "Verifica dell'identit\xE0",
        "8PranFMcskO1Vm95fI64Gg#Title": "Verifica dell'identit\xE0 | Deriv",
        "8PranFMcskO1Vm95fI64Gg#TitleExpression.1272643895.1": "Verifica dell'identit\xE0 | Deriv"
    },
    q = {
        "Pj10iobUZ02yNHL_mn2r4Q#Value": "Dalej",
        "NP4LFJC0_0+gYJuZ4XVF8g#ValueExpression.269129445.1": "Wprowad\u017A",
        "Joy7QHQO9U6PPn1ZP0kU6Q#ValueExpression.-1864880023.1": "Wprowad\u017A sw\xF3j numer dokumentu",
        "Joy7QHQO9U6PPn1ZP0kU6Q#ValueExpression.269129445.1": "Wprowad\u017A",
        "sVMUT2B9AEGgyTfLq4AQQg#ValueExpression.2067318222.1": "Numer dokumentu",
        "B6uOXJubvUqPXa6xy0IsQw#ValueExpression.-964944010.1": "Wybierz sw\xF3j typ dokumentu",
        "IsCVlHAg60yzbIoHFFOqgg#Value": "Typ dokumentu",
        "V+t_iesdbkGcAVN32D4V0w#Value": "Pomi\u0144",
        "Hj3pKCxUGESS3_0IZWlqhQ#Value.-1330566627.1": "Weryfikacja to\u017Csamo\u015Bci",
        "8PranFMcskO1Vm95fI64Gg#Title": "Weryfikacja to\u017Csamo\u015Bci | Deriv",
        "8PranFMcskO1Vm95fI64Gg#TitleExpression.1272643895.1": "Weryfikacja to\u017Csamo\u015Bci | Deriv"
    },
    Z = {
        "Pj10iobUZ02yNHL_mn2r4Q#Value": "Pr\xF3ximo",
        "NP4LFJC0_0+gYJuZ4XVF8g#ValueExpression.269129445.1": "Introduza o seu",
        "Joy7QHQO9U6PPn1ZP0kU6Q#ValueExpression.-1864880023.1": "Insira o n\xFAmero do seu documento",
        "Joy7QHQO9U6PPn1ZP0kU6Q#ValueExpression.269129445.1": "Introduza",
        "sVMUT2B9AEGgyTfLq4AQQg#ValueExpression.2067318222.1": "N\xFAmero do documento",
        "B6uOXJubvUqPXa6xy0IsQw#ValueExpression.-964944010.1": "Selecione o seu tipo de documento",
        "IsCVlHAg60yzbIoHFFOqgg#Value": "Tipo de documento",
        "V+t_iesdbkGcAVN32D4V0w#Value": "Ignorar",
        "Hj3pKCxUGESS3_0IZWlqhQ#Value.-1330566627.1": "Verifica\xE7\xE3o de identidade",
        "8PranFMcskO1Vm95fI64Gg#Title": "Verifica\xE7\xE3o de identidade | Deriv",
        "8PranFMcskO1Vm95fI64Gg#TitleExpression.1272643895.1": "Verifica\xE7\xE3o de identidade | Deriv"
    },
    M = {
        "Pj10iobUZ02yNHL_mn2r4Q#Value": "\u0414\u0430\u043B\u0435\u0435",
        "NP4LFJC0_0+gYJuZ4XVF8g#ValueExpression.269129445.1": "\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0432\u0430\u0448\u0435",
        "Joy7QHQO9U6PPn1ZP0kU6Q#ValueExpression.-1864880023.1": "\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043D\u043E\u043C\u0435\u0440 \u0432\u0430\u0448\u0435\u0433\u043E \u0434\u043E\u043A\u0443\u043C\u0435\u043D\u0442\u0430",
        "Joy7QHQO9U6PPn1ZP0kU6Q#ValueExpression.269129445.1": "\u0412\u0432\u0435\u0434\u0438\u0442\u0435",
        "sVMUT2B9AEGgyTfLq4AQQg#ValueExpression.2067318222.1": "\u041D\u043E\u043C\u0435\u0440 \u0434\u043E\u043A\u0443\u043C\u0435\u043D\u0442\u0430",
        "B6uOXJubvUqPXa6xy0IsQw#ValueExpression.-964944010.1": "\u0412\u044B\u0431\u0435\u0440\u0438\u0442\u0435 \u0442\u0438\u043F \u0432\u0430\u0448\u0435\u0433\u043E \u0434\u043E\u043A\u0443\u043C\u0435\u043D\u0442\u0430",
        "IsCVlHAg60yzbIoHFFOqgg#Value": "\u0422\u0438\u043F \u0434\u043E\u043A\u0443\u043C\u0435\u043D\u0442\u0430",
        "V+t_iesdbkGcAVN32D4V0w#Value": "\u041F\u0440\u043E\u043F\u0443\u0441\u0442\u0438\u0442\u044C",
        "Hj3pKCxUGESS3_0IZWlqhQ#Value.-1330566627.1": "\u041F\u0440\u043E\u0432\u0435\u0440\u043A\u0430 \u043B\u0438\u0447\u043D\u043E\u0441\u0442\u0438",
        "8PranFMcskO1Vm95fI64Gg#Title": "\u041F\u0440\u043E\u0432\u0435\u0440\u043A\u0430 \u043B\u0438\u0447\u043D\u043E\u0441\u0442\u0438 | Deriv",
        "8PranFMcskO1Vm95fI64Gg#TitleExpression.1272643895.1": "\u041F\u0440\u043E\u0432\u0435\u0440\u043A\u0430 \u043B\u0438\u0447\u043D\u043E\u0441\u0442\u0438 | Deriv"
    },
    H = {
        "ar-001": {
            translations: U,
            isRTL: !0
        },
        "de-DE": {
            translations: G,
            isRTL: !1
        },
        "es-ES": {
            translations: z,
            isRTL: !1
        },
        "fr-FR": {
            translations: j,
            isRTL: !1
        },
        "it-IT": {
            translations: $,
            isRTL: !1
        },
        "pl-PL": {
            translations: q,
            isRTL: !1
        },
        "pt-PT": {
            translations: Z,
            isRTL: !1
        },
        "ru-RU": {
            translations: M,
            isRTL: !1
        }
    };

function I(a, v, T, n) {
    var o, i, s;
    let r = JSON.parse(a.Response).residence_list.find(u => u.value == a.Residence),
        t = Object.values(r.identity.services.idv.documents_supported);
    a.SupportedDocuments = JSON.stringify(t), a.AdditionalDocumentLabel = (s = (i = (o = t.find(u => u.display_name === a.SelectedDocument)) == null ? void 0 : o.additional) == null ? void 0 : i.display_name) != null ? s : ""
}
y(I, "default");

function N(a, v, T, n) {
    var o, i, s;
    let r = JSON.parse(a.Response).residence_list.find(u => u.value == a.Residence),
        t = Object.values(r.identity.services.idv.documents_supported);
    a.SupportedDocuments = JSON.stringify(t), a.AdditionalDocumentLabel = (s = (i = (o = t.find(u => u.display_name === a.SelectedDocument)) == null ? void 0 : o.additional) == null ? void 0 : i.display_name) != null ? s : ""
}
y(N, "default");

function E(a, v, T, n) {
    return new Promise(function(r, t) {
        var i, s, u;
        let o = JSON.parse((i = a.DocumentsList) != null ? i : JSON.stringify([])).find(d => d.display_name === a.SelectedDocument);
        a.AdditionalDocumentLabel = (u = (s = o == null ? void 0 : o.additional) == null ? void 0 : s.display_name) != null ? u : "", r()
    })
}
y(E, "default");

function R(a, v, T, n) {
    return new Promise(function(r, t) {
        var b, D, P, x, k;

        function o(...l) {
            let [V, ...g] = l;
            return g.reduce((S, Q) => S.concat(Q), V)
        }
        y(o, "mergeSchema");

        function i(l) {
            let V = /\(\?i\)/i,
                g = V.test(l),
                J = l.replace(V, ""),
                S = g ? "i" : "";
            return new RegExp(J, S)
        }
        y(i, "transformedRegex");
        let s, u, d;
        if (a.SelectedDocument) {
            let l = JSON.parse((b = a.SupportedDocuments) != null ? b : JSON.stringify([])).find(V => V.display_name === a.SelectedDocument);
            s = yup.object().shape({
                DocumentType: yup.string().required("Document type is required."),
                DocumentNumber: yup.string().required(l.display_name + " number is requried.").matches(i(l.format), l.display_name + " format is incorrect.")
            }), u = !!(l != null && l.additional), d = yup.object().shape({
                AdditionalDocumentNumber: yup.string().required(((D = l == null ? void 0 : l.additional) == null ? void 0 : D.display_name) + " number is requried.").matches(i((x = (P = l == null ? void 0 : l.additional) == null ? void 0 : P.format) != null ? x : ""), ((k = l == null ? void 0 : l.additional) == null ? void 0 : k.display_name) + " format is incorrect.")
            })
        } else s = yup.object().shape({
            DocumentType: yup.string().required("Document type is required."),
            DocumentNumber: yup.string().required("Document number is required.")
        });
        let p = {
            DocumentType: a.SelectedDocument,
            DocumentNumber: a.DocumentNumber
        };
        u && (p.AdditionalDocumentNumber = a.AdditionalDocumentNumber);
        let {
            errors: f,
            validFields: c
        } = validate(u ? o(s, d) : s, p);
        a.ValidationErrors = JSON.stringify(f), a.ValidFields = JSON.stringify(c), r()
    })
}
y(R, "default");
var e = w; {
    let v = class v extends e.Controller.BaseViewController {
        constructor(n, r, t) {
            super(n, r, t, H);
            var o = this.controller;
            this.clientActionProxies = {}, this.dataFetchDependenciesOriginal = {}, this.dataFetchDependentsGraph = {}, this.shouldSendClientVarsToDataSources = !1
        }
        get dataFetchActionNames() {
            return this.hasOwnProperty("_dataFetchActionNames") || (this._dataFetchActionNames = []), this._dataFetchActionNames
        }
        set dataFetchActionNames(n) {
            this._dataFetchActionNames = n
        }
        get _onReady$Action() {
            return this.hasOwnProperty("__onReady$Action") || (this.__onReady$Action = function(n) {
                var r = this.model,
                    t = this.controller,
                    o = this.idService;
                return e.Logger.startActiveSpan("OnReady", function(i) {
                    return i && (i.setAttribute("code.function", "OnReady"), i.setAttribute("outsystems.function.key", "185e439b-b1d2-4685-a325-06c7d3ebfd23"), i.setAttribute("outsystems.function.owner.name", "tradershub"), i.setAttribute("outsystems.function.owner.key", "2ad446d5-32d7-4fbf-959d-82d8325bcfbc"), i.setAttribute("outsystems.function.type", "CLIENT_SCREEN_ACTION")), e.Flow.tryFinally(function() {
                        t.ensureControllerAlive("OnReady"), n = t.callContext(n);
                        var s = new e.DataTypes.VariableHolder,
                            u = new e.DataTypes.VariableHolder,
                            d = new e.DataTypes.VariableHolder,
                            p = new e.DataTypes.VariableHolder(new(e.Controller.BaseController.getJSONDeserializeOutputType(A))),
                            f = new e.DataTypes.VariableHolder(new(e.Controller.BaseController.getJSONDeserializeOutputType(A)));
                        return e.Flow.executeAsyncFlow(function() {
                            return e.Flow.executeSequence(function() {
                                if (m.getRawResidenceListResponse() !== e.BuiltinFunctions.nullTextIdentifier()) d.value = e.Logger.startActiveSpan("GetIDVCountry", function(c) {
                                    c && (c.setAttribute("code.function", "GetIDVCountry"), c.setAttribute("outsystems.function.key", "74c1a47e-f0f5-4e93-aeda-0189185064c0"), c.setAttribute("outsystems.function.owner.name", "tradershub"), c.setAttribute("outsystems.function.owner.key", "2ad446d5-32d7-4fbf-959d-82d8325bcfbc"), c.setAttribute("outsystems.function.type", "JAVASCRIPT"));
                                    try {
                                        return t.safeExecuteJSNode(N, "GetIDVCountry", "OnReady", {
                                            SelectedDocument: e.DataConversion.JSNodeParamConverter.to(m.getRealSignupIDVDocumentName(), e.DataTypes.DataTypes.Text),
                                            Response: e.DataConversion.JSNodeParamConverter.to(m.getRawResidenceListResponse(), e.DataTypes.DataTypes.Text),
                                            Residence: e.DataConversion.JSNodeParamConverter.to(m.getSelectedResidence(), e.DataTypes.DataTypes.Text),
                                            SupportedDocuments: e.DataConversion.JSNodeParamConverter.to("", e.DataTypes.DataTypes.Text),
                                            AdditionalDocumentLabel: e.DataConversion.JSNodeParamConverter.to("", e.DataTypes.DataTypes.Text)
                                        }, function(b) {
                                            var D = new(t.constructor.getVariableGroupType("tradershub.RealAccountCreation.IdentityVerification.OnReady$getIDVCountryJSResult"));
                                            return D.supportedDocumentsOut = e.DataConversion.JSNodeParamConverter.from(b.SupportedDocuments, e.DataTypes.DataTypes.Text), D.additionalDocumentLabelOut = e.DataConversion.JSNodeParamConverter.from(b.AdditionalDocumentLabel, e.DataTypes.DataTypes.Text), D
                                        }, {}, {})
                                    } finally {
                                        c && c.end()
                                    }
                                }, 1), p.value.dataOut = e.JSONUtils.deserializeFromJSON(d.value.supportedDocumentsOut, A, !1), r.variables.supportedDocumentsVar = p.value.dataOut, r.variables.additionalDocumentLabelVar = d.value.additionalDocumentLabelOut;
                                else return r.flush(), h.derivApiSendMessage$Action("", "residence_list", n).then(function(c) {
                                    s.value = c
                                }).then(function() {
                                    m.setRawResidenceListResponse(s.value.responseOut), u.value = e.Logger.startActiveSpan("GetIDVCountry2", function(c) {
                                        c && (c.setAttribute("code.function", "GetIDVCountry2"), c.setAttribute("outsystems.function.key", "138518ed-9175-409b-b9d7-262301695d60"), c.setAttribute("outsystems.function.owner.name", "tradershub"), c.setAttribute("outsystems.function.owner.key", "2ad446d5-32d7-4fbf-959d-82d8325bcfbc"), c.setAttribute("outsystems.function.type", "JAVASCRIPT"));
                                        try {
                                            return t.safeExecuteJSNode(I, "GetIDVCountry2", "OnReady", {
                                                Residence: e.DataConversion.JSNodeParamConverter.to(m.getSelectedResidence(), e.DataTypes.DataTypes.Text),
                                                Response: e.DataConversion.JSNodeParamConverter.to(s.value.responseOut, e.DataTypes.DataTypes.Text),
                                                SelectedDocument: e.DataConversion.JSNodeParamConverter.to(m.getRealSignupIDVDocumentName(), e.DataTypes.DataTypes.Text),
                                                SupportedDocuments: e.DataConversion.JSNodeParamConverter.to("", e.DataTypes.DataTypes.Text),
                                                AdditionalDocumentLabel: e.DataConversion.JSNodeParamConverter.to("", e.DataTypes.DataTypes.Text)
                                            }, function(b) {
                                                var D = new(t.constructor.getVariableGroupType("tradershub.RealAccountCreation.IdentityVerification.OnReady$getIDVCountry2JSResult"));
                                                return D.supportedDocumentsOut = e.DataConversion.JSNodeParamConverter.from(b.SupportedDocuments, e.DataTypes.DataTypes.Text), D.additionalDocumentLabelOut = e.DataConversion.JSNodeParamConverter.from(b.AdditionalDocumentLabel, e.DataTypes.DataTypes.Text), D
                                            }, {}, {})
                                        } finally {
                                            c && c.end()
                                        }
                                    }, 1), f.value.dataOut = e.JSONUtils.deserializeFromJSON(u.value.supportedDocumentsOut, A, !1), r.variables.supportedDocumentsVar = f.value.dataOut, r.variables.additionalDocumentLabelVar = u.value.additionalDocumentLabelOut
                                })
                            })
                        })
                    }, function() {
                        i && i.end()
                    })
                }, 1)
            }), this.__onReady$Action
        }
        set _onReady$Action(n) {
            this.__onReady$Action = n
        }
        get _onInitialize$Action() {
            return this.hasOwnProperty("__onInitialize$Action") || (this.__onInitialize$Action = function(n) {
                var r = this.model,
                    t = this.controller,
                    o = this.idService;
                return e.Logger.startActiveSpan("OnInitialize", function(i) {
                    i && (i.setAttribute("code.function", "OnInitialize"), i.setAttribute("outsystems.function.key", "4f73d4f9-d569-4fc0-9c5b-220f61efada1"), i.setAttribute("outsystems.function.owner.name", "tradershub"), i.setAttribute("outsystems.function.owner.key", "2ad446d5-32d7-4fbf-959d-82d8325bcfbc"), i.setAttribute("outsystems.function.type", "CLIENT_SCREEN_ACTION"));
                    try {
                        t.ensureControllerAlive("OnInitialize"), n = t.callContext(n), m.setRealSignupCurrentStep(3)
                    } finally {
                        i && i.end()
                    }
                }, 1)
            }), this.__onInitialize$Action
        }
        set _onInitialize$Action(n) {
            this.__onInitialize$Action = n
        }
        get _skipOnClick$Action() {
            return this.hasOwnProperty("__skipOnClick$Action") || (this.__skipOnClick$Action = function(n) {
                var r = this.model,
                    t = this.controller,
                    o = this.idService;
                return e.Logger.startActiveSpan("SkipOnClick", function(i) {
                    i && (i.setAttribute("code.function", "SkipOnClick"), i.setAttribute("outsystems.function.key", "c20ad14c-1d8d-4bea-a286-9ca4ed03eed8"), i.setAttribute("outsystems.function.owner.name", "tradershub"), i.setAttribute("outsystems.function.owner.key", "2ad446d5-32d7-4fbf-959d-82d8325bcfbc"), i.setAttribute("outsystems.function.type", "CLIENT_SCREEN_ACTION"));
                    try {
                        return t.ensureControllerAlive("SkipOnClick"), n = t.callContext(n), m.setRealSignupSkippedIDV(!0), e.Navigation.navigateTo(e.Navigation.generateScreenURL("tradershub", "employment-details", {}), e.Transitions.createTransition(e.Transitions.TransitionAnimation.Default), n, !0)
                    } finally {
                        i && i.end()
                    }
                }, 1)
            }), this.__skipOnClick$Action
        }
        set _skipOnClick$Action(n) {
            this.__skipOnClick$Action = n
        }
        get _input_DocumentTypeOnChange$Action() {
            return this.hasOwnProperty("__input_DocumentTypeOnChange$Action") || (this.__input_DocumentTypeOnChange$Action = function(n) {
                var r = this.model,
                    t = this.controller,
                    o = this.idService;
                return e.Logger.startActiveSpan("Input_DocumentTypeOnChange", function(i) {
                    return i && (i.setAttribute("code.function", "Input_DocumentTypeOnChange"), i.setAttribute("outsystems.function.key", "de19446b-6b5a-44ed-b667-aede24fcc569"), i.setAttribute("outsystems.function.owner.name", "tradershub"), i.setAttribute("outsystems.function.owner.key", "2ad446d5-32d7-4fbf-959d-82d8325bcfbc"), i.setAttribute("outsystems.function.type", "CLIENT_SCREEN_ACTION")), e.Flow.tryFinally(function() {
                        t.ensureControllerAlive("Input_DocumentTypeOnChange"), n = t.callContext(n);
                        var s = new e.DataTypes.VariableHolder,
                            u = new e.DataTypes.VariableHolder(new e.DataTypes.JSONSerializeOutputType);
                        return e.Flow.executeAsyncFlow(function() {
                            return u.value.jSONOut = e.JSONUtils.serializeToJSON(r.variables.supportedDocumentsVar, !1, !1), e.Logger.startActiveSpan("JavaScript1", function(d) {
                                d && (d.setAttribute("code.function", "JavaScript1"), d.setAttribute("outsystems.function.key", "7cdac7be-6744-4622-a2dc-94b0aee3ca4c"), d.setAttribute("outsystems.function.owner.name", "tradershub"), d.setAttribute("outsystems.function.owner.key", "2ad446d5-32d7-4fbf-959d-82d8325bcfbc"), d.setAttribute("outsystems.function.type", "JAVASCRIPT"));
                                try {
                                    return t.safeExecuteAsyncJSNode(E, "JavaScript1", "Input_DocumentTypeOnChange", {
                                        SelectedDocument: e.DataConversion.JSNodeParamConverter.to(m.getRealSignupIDVDocumentName(), e.DataTypes.DataTypes.Text),
                                        DocumentsList: e.DataConversion.JSNodeParamConverter.to(u.value.jSONOut, e.DataTypes.DataTypes.Text),
                                        AdditionalDocumentLabel: e.DataConversion.JSNodeParamConverter.to("", e.DataTypes.DataTypes.Text)
                                    }, function(p) {
                                        var f = new(t.constructor.getVariableGroupType("tradershub.RealAccountCreation.IdentityVerification.Input_DocumentTypeOnChange$javaScript1JSResult"));
                                        return f.additionalDocumentLabelOut = e.DataConversion.JSNodeParamConverter.from(p.AdditionalDocumentLabel, e.DataTypes.DataTypes.Text), f
                                    }, {}, {})
                                } finally {
                                    d && d.end()
                                }
                            }, 1).then(function(d) {
                                s.value = d
                            }).then(function() {
                                r.variables.additionalDocumentLabelVar = s.value.additionalDocumentLabelOut, m.setRealSignupIDVDocumentNumber(e.BuiltinFunctions.nullTextIdentifier()), m.setRealSignupIDVAdditionalDocumentNumber(e.BuiltinFunctions.nullTextIdentifier())
                            })
                        })
                    }, function() {
                        i && i.end()
                    })
                }, 1)
            }), this.__input_DocumentTypeOnChange$Action
        }
        set _input_DocumentTypeOnChange$Action(n) {
            this.__input_DocumentTypeOnChange$Action = n
        }
        get _nextOnClick$Action() {
            return this.hasOwnProperty("__nextOnClick$Action") || (this.__nextOnClick$Action = function(n) {
                var r = this.model,
                    t = this.controller,
                    o = this.idService;
                return e.Logger.startActiveSpan("NextOnClick", function(i) {
                    return i && (i.setAttribute("code.function", "NextOnClick"), i.setAttribute("outsystems.function.key", "e493d082-514b-480e-9f14-952b1a1dcfa4"), i.setAttribute("outsystems.function.owner.name", "tradershub"), i.setAttribute("outsystems.function.owner.key", "2ad446d5-32d7-4fbf-959d-82d8325bcfbc"), i.setAttribute("outsystems.function.type", "CLIENT_SCREEN_ACTION")), e.Flow.tryFinally(function() {
                        t.ensureControllerAlive("NextOnClick"), n = t.callContext(n);
                        var s = new e.DataTypes.VariableHolder,
                            u = new e.DataTypes.VariableHolder(new e.DataTypes.JSONSerializeOutputType),
                            d = new e.DataTypes.VariableHolder(new(e.Controller.BaseController.getJSONDeserializeOutputType(O))),
                            p = new e.DataTypes.VariableHolder(new(e.Controller.BaseController.getJSONDeserializeOutputType(C)));
                        return e.Flow.executeAsyncFlow(function() {
                            return u.value.jSONOut = e.JSONUtils.serializeToJSON(r.variables.supportedDocumentsVar, !1, !1), e.Logger.startActiveSpan("ValidateIDV", function(f) {
                                f && (f.setAttribute("code.function", "ValidateIDV"), f.setAttribute("outsystems.function.key", "1f392b2d-d376-4b77-91fc-e8aaabdb72f9"), f.setAttribute("outsystems.function.owner.name", "tradershub"), f.setAttribute("outsystems.function.owner.key", "2ad446d5-32d7-4fbf-959d-82d8325bcfbc"), f.setAttribute("outsystems.function.type", "JAVASCRIPT"));
                                try {
                                    return t.safeExecuteAsyncJSNode(R, "ValidateIDV", "NextOnClick", {
                                        SelectedDocument: e.DataConversion.JSNodeParamConverter.to(m.getRealSignupIDVDocumentName(), e.DataTypes.DataTypes.Text),
                                        SupportedDocuments: e.DataConversion.JSNodeParamConverter.to(u.value.jSONOut, e.DataTypes.DataTypes.Text),
                                        DocumentNumber: e.DataConversion.JSNodeParamConverter.to(m.getRealSignupIDVDocumentNumber(), e.DataTypes.DataTypes.Text),
                                        AdditionalDocumentNumber: e.DataConversion.JSNodeParamConverter.to(m.getRealSignupIDVAdditionalDocumentNumber(), e.DataTypes.DataTypes.Text),
                                        ValidationErrors: e.DataConversion.JSNodeParamConverter.to("", e.DataTypes.DataTypes.Text),
                                        ValidFields: e.DataConversion.JSNodeParamConverter.to("", e.DataTypes.DataTypes.Text)
                                    }, function(c) {
                                        var b = new(t.constructor.getVariableGroupType("tradershub.RealAccountCreation.IdentityVerification.NextOnClick$validateIDVJSResult"));
                                        return b.validationErrorsOut = e.DataConversion.JSNodeParamConverter.from(c.ValidationErrors, e.DataTypes.DataTypes.Text), b.validFieldsOut = e.DataConversion.JSNodeParamConverter.from(c.ValidFields, e.DataTypes.DataTypes.Text), b
                                    }, {}, {})
                                } finally {
                                    f && f.end()
                                }
                            }, 1).then(function(f) {
                                s.value = f
                            }).then(function() {
                                p.value.dataOut = e.JSONUtils.deserializeFromJSON(s.value.validationErrorsOut, C, !1), d.value.dataOut = e.JSONUtils.deserializeFromJSON(s.value.validFieldsOut, O, !1), r.widgets.get(o.getId("Input_DocumentNumber")).validAttr = d.value.dataOut.documentNumberAttr, r.widgets.get(o.getId("Input_DocumentNumber")).validationMessageAttr = p.value.dataOut.documentNumberAttr, r.widgets.get(o.getId("Input_DocumentNumber2")).validAttr = d.value.dataOut.additionalDocumentNumberAttr, r.widgets.get(o.getId("Input_DocumentNumber2")).validationMessageAttr = p.value.dataOut.additionalDocumentNumberAttr, r.widgets.get(o.getId("Input_DocumentType")).validAttr = d.value.dataOut.documentTypeAttr, r.widgets.get(o.getId("Input_DocumentType")).validationMessageAttr = p.value.dataOut.documentTypeAttr
                            }).then(function() {
                                if (r.widgets.get(o.getId("Form")).validAttr) return m.setRealSignupSkippedIDV(!1), m.setRealSignupPassedStepCount(3), e.Flow.returnAsync(e.Navigation.navigateTo(e.Navigation.generateScreenURL("tradershub", "employment-details", {}), e.Transitions.createTransition(e.Transitions.TransitionAnimation.Default), n, !0))
                            })
                        })
                    }, function() {
                        i && i.end()
                    })
                }, 1)
            }), this.__nextOnClick$Action
        }
        set _nextOnClick$Action(n) {
            this.__nextOnClick$Action = n
        }
        onReady$Action(n) {
            var r = this.controller;
            return e.Logger.startActiveSpan("OnReady__proxy", function(t) {
                return t && (t.setAttribute("code.function", "OnReady"), t.setAttribute("outsystems.function.key", "185e439b-b1d2-4685-a325-06c7d3ebfd23"), t.setAttribute("outsystems.function.owner.name", "tradershub"), t.setAttribute("outsystems.function.owner.key", "2ad446d5-32d7-4fbf-959d-82d8325bcfbc"), t.setAttribute("outsystems.function.type", "CLIENT_SCREEN_ACTION")), e.Flow.tryFinally(function() {
                    return r.safeExecuteClientAction(r._onReady$Action, n)
                }, function() {
                    t && t.end()
                })
            }, 0)
        }
        onInitialize$Action(n) {
            var r = this.controller;
            return e.Logger.startActiveSpan("OnInitialize__proxy", function(t) {
                t && (t.setAttribute("code.function", "OnInitialize"), t.setAttribute("outsystems.function.key", "4f73d4f9-d569-4fc0-9c5b-220f61efada1"), t.setAttribute("outsystems.function.owner.name", "tradershub"), t.setAttribute("outsystems.function.owner.key", "2ad446d5-32d7-4fbf-959d-82d8325bcfbc"), t.setAttribute("outsystems.function.type", "CLIENT_SCREEN_ACTION"));
                try {
                    return r.safeExecuteClientAction(r._onInitialize$Action, n)
                } finally {
                    t && t.end()
                }
            }, 0)
        }
        skipOnClick$Action(n) {
            var r = this.controller;
            return e.Logger.startActiveSpan("SkipOnClick__proxy", function(t) {
                t && (t.setAttribute("code.function", "SkipOnClick"), t.setAttribute("outsystems.function.key", "c20ad14c-1d8d-4bea-a286-9ca4ed03eed8"), t.setAttribute("outsystems.function.owner.name", "tradershub"), t.setAttribute("outsystems.function.owner.key", "2ad446d5-32d7-4fbf-959d-82d8325bcfbc"), t.setAttribute("outsystems.function.type", "CLIENT_SCREEN_ACTION"));
                try {
                    return r.safeExecuteClientAction(r._skipOnClick$Action, n)
                } finally {
                    t && t.end()
                }
            }, 0)
        }
        input_DocumentTypeOnChange$Action(n) {
            var r = this.controller;
            return e.Logger.startActiveSpan("Input_DocumentTypeOnChange__proxy", function(t) {
                return t && (t.setAttribute("code.function", "Input_DocumentTypeOnChange"), t.setAttribute("outsystems.function.key", "de19446b-6b5a-44ed-b667-aede24fcc569"), t.setAttribute("outsystems.function.owner.name", "tradershub"), t.setAttribute("outsystems.function.owner.key", "2ad446d5-32d7-4fbf-959d-82d8325bcfbc"), t.setAttribute("outsystems.function.type", "CLIENT_SCREEN_ACTION")), e.Flow.tryFinally(function() {
                    return r.safeExecuteClientAction(r._input_DocumentTypeOnChange$Action, n)
                }, function() {
                    t && t.end()
                })
            }, 0)
        }
        nextOnClick$Action(n) {
            var r = this.controller;
            return e.Logger.startActiveSpan("NextOnClick__proxy", function(t) {
                return t && (t.setAttribute("code.function", "NextOnClick"), t.setAttribute("outsystems.function.key", "e493d082-514b-480e-9f14-952b1a1dcfa4"), t.setAttribute("outsystems.function.owner.name", "tradershub"), t.setAttribute("outsystems.function.owner.key", "2ad446d5-32d7-4fbf-959d-82d8325bcfbc"), t.setAttribute("outsystems.function.type", "CLIENT_SCREEN_ACTION")), e.Flow.tryFinally(function() {
                    return r.safeExecuteClientAction(r._nextOnClick$Action, n)
                }, function() {
                    t && t.end()
                })
            }, 0)
        }
        get onInitializeEventHandler() {
            return this.hasOwnProperty("_onInitializeEventHandler") || (this._onInitializeEventHandler = function(n) {
                var r = this.controller,
                    t = this.model,
                    o = this.idService;
                return r.onInitialize$Action(n)
            }), this._onInitializeEventHandler
        }
        set onInitializeEventHandler(n) {
            this._onInitializeEventHandler = n
        }
        get onReadyEventHandler() {
            return this.hasOwnProperty("_onReadyEventHandler") || (this._onReadyEventHandler = function(n) {
                var r = this.controller,
                    t = this.model,
                    o = this.idService;
                return r.onReady$Action(n)
            }), this._onReadyEventHandler
        }
        set onReadyEventHandler(n) {
            this._onReadyEventHandler = n
        }
        get onRenderEventHandler() {
            return this.hasOwnProperty("_onRenderEventHandler") || (this._onRenderEventHandler = null), this._onRenderEventHandler
        }
        set onRenderEventHandler(n) {
            this._onRenderEventHandler = n
        }
        get onDestroyEventHandler() {
            return this.hasOwnProperty("_onDestroyEventHandler") || (this._onDestroyEventHandler = null), this._onDestroyEventHandler
        }
        set onDestroyEventHandler(n) {
            this._onDestroyEventHandler = n
        }
        get onParametersChangedEventHandler() {
            return this.hasOwnProperty("_onParametersChangedEventHandler") || (this._onParametersChangedEventHandler = null), this._onParametersChangedEventHandler
        }
        set onParametersChangedEventHandler(n) {
            this._onParametersChangedEventHandler = n
        }
        get handleError() {
            return this.hasOwnProperty("_handleError") || (this._handleError = function(n) {
                return L.default.handleError(n, this.callContext())
            }), this._handleError
        }
        set handleError(n) {
            this._handleError = n
        }
        static checkPermissions() {}
        getDefaultTimeout() {
            return h.defaultTimeout
        }
    };
    y(v, "ControllerInner");
    let a = v;
    _ = a, _.registerVariableGroupType("tradershub.RealAccountCreation.IdentityVerification.OnReady$getIDVCountry2JSResult", [{
        name: "SupportedDocuments",
        attrName: "supportedDocumentsOut",
        mandatory: !0,
        dataType: e.DataTypes.DataTypes.Text,
        defaultValue: y(function() {
            return ""
        }, "defaultValue")
    }, {
        name: "AdditionalDocumentLabel",
        attrName: "additionalDocumentLabelOut",
        mandatory: !0,
        dataType: e.DataTypes.DataTypes.Text,
        defaultValue: y(function() {
            return ""
        }, "defaultValue")
    }]), _.registerVariableGroupType("tradershub.RealAccountCreation.IdentityVerification.OnReady$getIDVCountryJSResult", [{
        name: "SupportedDocuments",
        attrName: "supportedDocumentsOut",
        mandatory: !0,
        dataType: e.DataTypes.DataTypes.Text,
        defaultValue: y(function() {
            return ""
        }, "defaultValue")
    }, {
        name: "AdditionalDocumentLabel",
        attrName: "additionalDocumentLabelOut",
        mandatory: !0,
        dataType: e.DataTypes.DataTypes.Text,
        defaultValue: y(function() {
            return ""
        }, "defaultValue")
    }]), _.registerVariableGroupType("tradershub.RealAccountCreation.IdentityVerification.Input_DocumentTypeOnChange$javaScript1JSResult", [{
        name: "AdditionalDocumentLabel",
        attrName: "additionalDocumentLabelOut",
        mandatory: !0,
        dataType: e.DataTypes.DataTypes.Text,
        defaultValue: y(function() {
            return ""
        }, "defaultValue")
    }]), _.registerVariableGroupType("tradershub.RealAccountCreation.IdentityVerification.NextOnClick$validateIDVJSResult", [{
        name: "ValidationErrors",
        attrName: "validationErrorsOut",
        mandatory: !0,
        dataType: e.DataTypes.DataTypes.Text,
        defaultValue: y(function() {
            return ""
        }, "defaultValue")
    }, {
        name: "ValidFields",
        attrName: "validFieldsOut",
        mandatory: !0,
        dataType: e.DataTypes.DataTypes.Text,
        defaultValue: y(function() {
            return ""
        }, "defaultValue")
    }])
}
var _, be = new e.Controller.ControllerFactory(_, F);
export {
    be as a
};