import {
    a as Ut,
    b as Bt,
    c as tt,
    d as Gt,
    e as X,
    f as ve,
    g as qt,
    h as jt
} from "./_oschunk-UPPOZAZ6.js";
import {
    a as Jt
} from "./_oschunk-QLNDJKPS.js";
import {
    a as ur
} from "./_oschunk-DSG4HYDQ.js";
import {
    a as zt,
    b as be
} from "./_oschunk-AFO3ZMSV.js";
import {
    a as Kn,
    b as Zn,
    c as Yn,
    d as Qn,
    e as Xn,
    f as er,
    g as tr,
    h as nr,
    i as rr,
    j as ir,
    k as or,
    l as ar,
    m as sr,
    n as cr,
    o as lr
} from "./_oschunk-P5Y2VF4U.js";
import "./_oschunk-EU2TENQY.js";
import "./_oschunk-2XQYSV6A.js";
import "./_oschunk-XH5MAFIM.js";
import "./_oschunk-EJVAXX3S.js";
import {
    a as Lt
} from "./_oschunk-IBUKHOCS.js";
import {
    a as Mt,
    b as Ht,
    c as Wt,
    d as yt
} from "./_oschunk-GHBQIAUS.js";
import {
    a as j
} from "./_oschunk-SI24YMBJ.js";
import "./_oschunk-FSWTA5WV.js";
import "./_oschunk-ENDX3VJY.js";
import {
    a as _e
} from "./_oschunk-GPNNXU3M.js";
import {
    a as Jn,
    b as ue,
    c as Gn,
    d as y,
    f as z,
    g as dt,
    h as qn,
    i as ft,
    j as mt,
    k as U,
    l as ge,
    m as he,
    n as vt,
    p as jn,
    r as _
} from "./_oschunk-M2CKCDBB.js";
import "./_oschunk-JZPYLYYR.js";
import "./_oschunk-DSZRJG3L.js";
import "./_oschunk-FX7ZCYVH.js";
import {
    a as H
} from "./_oschunk-NQZZDANH.js";
import {
    a as ie,
    g as M,
    i as T
} from "./_oschunk-WZHUAZJP.js";
import "./_oschunk-NRRLMT6C.js";
import "./_oschunk-XBVY76NY.js";
import "./_oschunk-5MMGFCSA.js";
import "./_oschunk-ZHFHVHFO.js";
import "./_oschunk-P7KMMADX.js";
import {
    a as V,
    m as zn,
    n as me,
    o as F
} from "./_oschunk-KZFTAIEG.js";
import {
    Ed as qe,
    Gj as pe,
    Jg as Wn,
    Ni as ct,
    Ve as et,
    Xb as de,
    Ya as Mn,
    a as Q,
    ck as lt,
    fg as Hn,
    fh as Un,
    hj as Bn,
    jk as ut,
    qd as kt,
    sk as Ie,
    te as fe,
    w as Xe,
    zg as J
} from "./_oschunk-UATY3RVV.js";
import {
    ia as D
} from "./_oschunk-3RH6DZJJ.js";
import {
    c as a,
    h as re,
    i as Qe
} from "./_oschunk-QHO7QY6K.js";
var L = re(ie());
var Ae = re(ie());
var dr = D; {
    let r = class r extends dr.Controller.BaseViewController {
        constructor(e, n, t) {
            super(e, n, t);
            var s = this.controller;
            this.clientActionProxies = {}, this.dataFetchDependenciesOriginal = {}, this.dataFetchDependentsGraph = {}, this.shouldSendClientVarsToDataSources = !1
        }
        get dataFetchActionNames() {
            return this.hasOwnProperty("_dataFetchActionNames") || (this._dataFetchActionNames = []), this._dataFetchActionNames
        }
        set dataFetchActionNames(e) {
            this._dataFetchActionNames = e
        }
        get onInitializeEventHandler() {
            return this.hasOwnProperty("_onInitializeEventHandler") || (this._onInitializeEventHandler = null), this._onInitializeEventHandler
        }
        set onInitializeEventHandler(e) {
            this._onInitializeEventHandler = e
        }
        get onReadyEventHandler() {
            return this.hasOwnProperty("_onReadyEventHandler") || (this._onReadyEventHandler = null), this._onReadyEventHandler
        }
        set onReadyEventHandler(e) {
            this._onReadyEventHandler = e
        }
        get onRenderEventHandler() {
            return this.hasOwnProperty("_onRenderEventHandler") || (this._onRenderEventHandler = null), this._onRenderEventHandler
        }
        set onRenderEventHandler(e) {
            this._onRenderEventHandler = e
        }
        get onDestroyEventHandler() {
            return this.hasOwnProperty("_onDestroyEventHandler") || (this._onDestroyEventHandler = null), this._onDestroyEventHandler
        }
        set onDestroyEventHandler(e) {
            this._onDestroyEventHandler = e
        }
        get onParametersChangedEventHandler() {
            return this.hasOwnProperty("_onParametersChangedEventHandler") || (this._onParametersChangedEventHandler = null), this._onParametersChangedEventHandler
        }
        set onParametersChangedEventHandler(e) {
            this._onParametersChangedEventHandler = e
        }
        get handleError() {
            return this.hasOwnProperty("_handleError") || (this._handleError = function(e) {
                return controller.handleError(e)
            }), this._handleError
        }
        set handleError(e) {
            this._handleError = e
        }
        static checkPermissions() {}
        getDefaultTimeout() {
            return F.defaultTimeout
        }
    };
    a(r, "ControllerInner");
    let m = r;
    fr = m
}
var fr, mr = new dr.Controller.ControllerFactory(fr, H);
var Kt = D,
    Pe = T.PlaceholderContent,
    Kr = T.IteratorPlaceholderContent,
    Ee = class Ee extends M.BaseWebBlock {
        static get displayName() {
            return "ProofOfIdentity.POINavigationWizardItem"
        }
        static getAttributes() {
            return {
                codeFunction: "POINavigationWizardItem",
                functionKey: "77188b34-b7a1-491a-971b-792bc09a2602",
                functionOwnerName: "Accounts",
                functionOwnerKey: "8a32fa32-34f5-4338-b6db-4f1ce8fdd638",
                screen: ""
            }
        }
        static getCssDependencies() {
            return ["css/OutSystemsReactWidgets.css"]
        }
        static getJsDependencies() {
            return []
        }
        static getBlocks() {
            return [Bt, tt]
        }
        get modelFactory() {
            return Kn
        }
        get controllerFactory() {
            return mr
        }
        get title() {
            return ""
        }
        internalRender() {
            let r = this.model,
                l = this.controller,
                e = this.idService,
                n = l.validationService,
                t = this.widgetsRecordProvider,
                s = l.callContext(),
                i = Ee.ifWidget,
                f = Ee.textWidget,
                c = Ee.asPrimitiveValue,
                d = Ee.getTranslation,
                u = this;
            return Ae.createElement("div", this.getRootNodeProperties(), Ae.createElement(Bt, {
                getOwnerSpan: a(function() {
                    return u.getChildSpan("render")
                }, "getOwnerSpan"),
                getOwnerDisposeSpan: a(function() {
                    return u.getChildSpan("destroy")
                }, "getOwnerDisposeSpan"),
                inputs: {
                    IsVertical: !0
                },
                events: {
                    _handleError: a(function(o) {
                        l.handleError(o)
                    }, "_handleError")
                },
                _validationProps: {
                    validationService: n
                },
                _idProps: {
                    service: e,
                    uuid: "0",
                    alias: "1"
                },
                _widgetRecordProvider: t,
                placeholders: {
                    content: new Pe(function() {
                        return [Ae.createElement(tt, {
                            getOwnerSpan: a(function() {
                                return u.getChildSpan("render")
                            }, "getOwnerSpan"),
                            getOwnerDisposeSpan: a(function() {
                                return u.getChildSpan("destroy")
                            }, "getOwnerDisposeSpan"),
                            inputs: {
                                UseTopLabel: !1,
                                Status: r.getCachedValue(e.getId("Step1.Status"), function() {
                                    return r.variables.currentStepIn === 1 ? Q.steps.active : r.variables.currentStepIn < 1 ? Q.steps.next : Q.steps.past
                                }, function() {
                                    return r.variables.currentStepIn
                                }),
                                _statusInDataFetchStatus: Kt.Model.calculateDataFetchStatus(r.variables._currentStepInDataFetchStatus)
                            },
                            events: {
                                _handleError: a(function(o) {
                                    l.handleError(o)
                                }, "_handleError")
                            },
                            _validationProps: {
                                validationService: n
                            },
                            _idProps: {
                                service: e,
                                name: "Step1",
                                alias: "2"
                            },
                            _widgetRecordProvider: t,
                            placeholders: {
                                icon: new Pe(function() {
                                    return [i(r.variables.currentStepIn > 1, !1, this, function() {
                                        return [Ae.createElement(mt, {
                                            extendedProperties: {
                                                style: "font-size: 12px;"
                                            },
                                            icon: "check",
                                            iconSize: 1,
                                            style: "icon",
                                            visible: !0,
                                            _idProps: {
                                                service: e,
                                                uuid: "2"
                                            },
                                            _widgetRecordProvider: t
                                        })]
                                    }, function() {
                                        return []
                                    })]
                                }),
                                label: new Pe(function() {
                                    return ["Country selection"]
                                })
                            },
                            _dependencies: [c(r.variables._currentStepInDataFetchStatus), c(r.variables.currentStepIn)]
                        }), Ae.createElement(tt, {
                            getOwnerSpan: a(function() {
                                return u.getChildSpan("render")
                            }, "getOwnerSpan"),
                            getOwnerDisposeSpan: a(function() {
                                return u.getChildSpan("destroy")
                            }, "getOwnerDisposeSpan"),
                            inputs: {
                                Status: r.getCachedValue(e.getId("Step2.Status"), function() {
                                    return r.variables.currentStepIn === 2 ? Q.steps.active : r.variables.currentStepIn < 2 ? Q.steps.next : Q.steps.past
                                }, function() {
                                    return r.variables.currentStepIn
                                }),
                                _statusInDataFetchStatus: Kt.Model.calculateDataFetchStatus(r.variables._currentStepInDataFetchStatus)
                            },
                            events: {
                                _handleError: a(function(o) {
                                    l.handleError(o)
                                }, "_handleError")
                            },
                            _validationProps: {
                                validationService: n
                            },
                            _idProps: {
                                service: e,
                                name: "Step2",
                                alias: "3"
                            },
                            _widgetRecordProvider: t,
                            placeholders: {
                                icon: new Pe(function() {
                                    return [i(r.variables.currentStepIn > 2, !1, this, function() {
                                        return [Ae.createElement(mt, {
                                            extendedProperties: {
                                                style: "font-size: 12px;"
                                            },
                                            icon: "check",
                                            iconSize: 1,
                                            style: "icon",
                                            visible: !0,
                                            _idProps: {
                                                service: e,
                                                uuid: "4"
                                            },
                                            _widgetRecordProvider: t
                                        })]
                                    }, function() {
                                        return []
                                    })]
                                }),
                                label: new Pe(function() {
                                    return ["Personal details"]
                                })
                            },
                            _dependencies: [c(r.variables._currentStepInDataFetchStatus), c(r.variables.currentStepIn)]
                        }), Ae.createElement(tt, {
                            getOwnerSpan: a(function() {
                                return u.getChildSpan("render")
                            }, "getOwnerSpan"),
                            getOwnerDisposeSpan: a(function() {
                                return u.getChildSpan("destroy")
                            }, "getOwnerDisposeSpan"),
                            inputs: {
                                Status: r.getCachedValue(e.getId("Step3.Status"), function() {
                                    return r.variables.currentStepIn === 3 ? Q.steps.active : r.variables.currentStepIn < 3 ? Q.steps.next : Q.steps.past
                                }, function() {
                                    return r.variables.currentStepIn
                                }),
                                _statusInDataFetchStatus: Kt.Model.calculateDataFetchStatus(r.variables._currentStepInDataFetchStatus)
                            },
                            events: {
                                _handleError: a(function(o) {
                                    l.handleError(o)
                                }, "_handleError")
                            },
                            _validationProps: {
                                validationService: n
                            },
                            _idProps: {
                                service: e,
                                name: "Step3",
                                alias: "4"
                            },
                            _widgetRecordProvider: t,
                            placeholders: {
                                icon: new Pe(function() {
                                    return [i(r.variables.currentStepIn > 3, !1, this, function() {
                                        return [Ae.createElement(mt, {
                                            extendedProperties: {
                                                style: "font-size: 12px;"
                                            },
                                            icon: "check",
                                            iconSize: 1,
                                            style: "icon",
                                            visible: !0,
                                            _idProps: {
                                                service: e,
                                                uuid: "6"
                                            },
                                            _widgetRecordProvider: t
                                        })]
                                    }, function() {
                                        return []
                                    })]
                                }),
                                label: new Pe(function() {
                                    return ["Identity verification"]
                                })
                            },
                            _dependencies: [c(r.variables._currentStepInDataFetchStatus), c(r.variables.currentStepIn)]
                        })]
                    })
                },
                _dependencies: [c(r.variables._currentStepInDataFetchStatus), c(r.variables.currentStepIn)]
            }))
        }
    };
a(Ee, "View");
var Zt = Ee,
    Yt = Zt;
var ee = re(ie());

function Qt(m, r, l, e) {
    let t = JSON.parse(m.ResidenceListResponse).map(s => ({
        text: s.text,
        value: s.value
    }));
    m.FormattedResidenceList = JSON.stringify(t)
}
a(Qt, "default");
var w = D; {
    let r = class r extends w.Controller.BaseViewController {
        constructor(e, n, t) {
            super(e, n, t);
            var s = this.controller;
            this.clientActionProxies = {}, this.dataFetchDependenciesOriginal = {}, this.dataFetchDependentsGraph = {}, this.shouldSendClientVarsToDataSources = !1
        }
        get dataFetchActionNames() {
            return this.hasOwnProperty("_dataFetchActionNames") || (this._dataFetchActionNames = []), this._dataFetchActionNames
        }
        set dataFetchActionNames(e) {
            this._dataFetchActionNames = e
        }
        get _onReady$Action() {
            return this.hasOwnProperty("__onReady$Action") || (this.__onReady$Action = function(e) {
                var n = this.model,
                    t = this.controller,
                    s = this.idService;
                return w.Logger.startActiveSpan("OnReady", function(i) {
                    return i && (i.setAttribute("code.function", "OnReady"), i.setAttribute("outsystems.function.key", "061c1c97-11fa-4f29-abc8-566b89249502"), i.setAttribute("outsystems.function.owner.name", "Accounts"), i.setAttribute("outsystems.function.owner.key", "8a32fa32-34f5-4338-b6db-4f1ce8fdd638"), i.setAttribute("outsystems.function.type", "CLIENT_SCREEN_ACTION")), w.Flow.tryFinally(function() {
                        t.ensureControllerAlive("OnReady"), e = t.callContext(e);
                        var f = new w.DataTypes.VariableHolder,
                            c = new w.DataTypes.VariableHolder,
                            d = new w.DataTypes.VariableHolder,
                            u = new w.DataTypes.VariableHolder(new w.DataTypes.JSONSerializeOutputType),
                            o = new w.DataTypes.VariableHolder(new(w.Controller.BaseController.getJSONDeserializeOutputType(pe)));
                        return w.Flow.executeAsyncFlow(function() {
                            return n.variables.isLoadingVar = !0, n.flush(), me.residenceList$Action(V.getServer(), V.getAppId(), "en", e).then(function(v) {
                                f.value = v
                            }).then(function() {
                                u.value.jSONOut = w.JSONUtils.serializeToJSON(f.value.responseOut.residence_listAttr, !1, !1), d.value = w.Logger.startActiveSpan("PickKeyValue", function(v) {
                                    v && (v.setAttribute("code.function", "PickKeyValue"), v.setAttribute("outsystems.function.key", "11a92694-b420-4f4d-94b9-29c999dcdd1e"), v.setAttribute("outsystems.function.owner.name", "Accounts"), v.setAttribute("outsystems.function.owner.key", "8a32fa32-34f5-4338-b6db-4f1ce8fdd638"), v.setAttribute("outsystems.function.type", "JAVASCRIPT"));
                                    try {
                                        return t.safeExecuteJSNode(Qt, "PickKeyValue", "OnReady", {
                                            ResidenceListResponse: w.DataConversion.JSNodeParamConverter.to(u.value.jSONOut, w.DataTypes.DataTypes.Text),
                                            FormattedResidenceList: w.DataConversion.JSNodeParamConverter.to("", w.DataTypes.DataTypes.Text)
                                        }, function(p) {
                                            var W = new(t.constructor.getVariableGroupType("Accounts.ProofOfIdentity.Desktop_DocumentIssuingCountry.OnReady$pickKeyValueJSResult"));
                                            return W.formattedResidenceListOut = w.DataConversion.JSNodeParamConverter.from(p.FormattedResidenceList, w.DataTypes.DataTypes.Text), W
                                        }, {}, {})
                                    } finally {
                                        v && v.end()
                                    }
                                }, 1), o.value.dataOut = w.JSONUtils.deserializeFromJSON(d.value.formattedResidenceListOut, pe, !1), n.variables.residenceListInputVar = o.value.dataOut
                            }).then(function() {
                                n.variables.selectedResidenceIn.valueAttr === w.BuiltinFunctions.nullTextIdentifier() && (c.value = w.SystemActions.listFilter(n.variables.residenceListInputVar, function(v) {
                                    return V.getCountry() === v.valueAttr
                                }, e), n.variables.selectedResidenceIn = c.value.filteredListOut.getCurrent(e.iterationContext), t._dropdownSearchOnChanged$Action(function() {
                                    var v = new Ie;
                                    return v.pushAll([function() {
                                        var p = new ut;
                                        return p.valueAttr = n.variables.selectedResidenceIn.valueAttr, p.labelAttr = n.variables.selectedResidenceIn.textAttr, p
                                    }()]), v
                                }(), e)), n.variables.isLoadingVar = !1
                            })
                        })
                    }, function() {
                        i && i.end()
                    })
                }, 1)
            }), this.__onReady$Action
        }
        set _onReady$Action(e) {
            this.__onReady$Action = e
        }
        get _dropdownSearchOnChanged$Action() {
            return this.hasOwnProperty("__dropdownSearchOnChanged$Action") || (this.__dropdownSearchOnChanged$Action = function(e, n) {
                var t = this.model,
                    s = this.controller,
                    i = this.idService;
                return w.Logger.startActiveSpan("DropdownSearchOnChanged", function(f) {
                    f && (f.setAttribute("code.function", "DropdownSearchOnChanged"), f.setAttribute("outsystems.function.key", "1b06c620-1c3d-49cd-8be5-a981e7544966"), f.setAttribute("outsystems.function.owner.name", "Accounts"), f.setAttribute("outsystems.function.owner.key", "8a32fa32-34f5-4338-b6db-4f1ce8fdd638"), f.setAttribute("outsystems.function.type", "CLIENT_SCREEN_ACTION"));
                    try {
                        s.ensureControllerAlive("DropdownSearchOnChanged"), n = s.callContext(n);
                        var c = new w.DataTypes.VariableHolder(new(s.constructor.getVariableGroupType("Accounts.ProofOfIdentity.Desktop_DocumentIssuingCountry.DropdownSearchOnChanged$vars")));
                        c.value.selectedOptionListInLocal = e.clone(), t.variables.selectedResidenceIn = w.DataConversion.JSConversions.typeConvertRecord(c.value.selectedOptionListInLocal.getCurrent(n.iterationContext), new Mn, function(d, u) {
                            return u.textAttr = d.labelAttr, u.valueAttr = d.valueAttr, u
                        }), t.variables.selectedResidenceIn.valueAttr === w.BuiltinFunctions.nullTextIdentifier() ? t.variables.errorMessageVar = "Country of document issuance is required." : t.variables.errorMessageVar = w.BuiltinFunctions.nullTextIdentifier()
                    } finally {
                        f && f.end()
                    }
                }, 1)
            }), this.__dropdownSearchOnChanged$Action
        }
        set _dropdownSearchOnChanged$Action(e) {
            this.__dropdownSearchOnChanged$Action = e
        }
        get _onModalToggle$Action() {
            return this.hasOwnProperty("__onModalToggle$Action") || (this.__onModalToggle$Action = function(e) {
                var n = this.model,
                    t = this.controller,
                    s = this.idService;
                return w.Logger.startActiveSpan("OnModalToggle", function(i) {
                    i && (i.setAttribute("code.function", "OnModalToggle"), i.setAttribute("outsystems.function.key", "30233ade-d56f-4e1a-951f-b2b413a14fa7"), i.setAttribute("outsystems.function.owner.name", "Accounts"), i.setAttribute("outsystems.function.owner.key", "8a32fa32-34f5-4338-b6db-4f1ce8fdd638"), i.setAttribute("outsystems.function.type", "CLIENT_SCREEN_ACTION"));
                    try {
                        t.ensureControllerAlive("OnModalToggle"), e = t.callContext(e), V.getIsWorkflow() ? F.closeTab$Action(e) : n.variables.shouldDisplayExitConfimModalVar = !n.variables.shouldDisplayExitConfimModalVar
                    } finally {
                        i && i.end()
                    }
                }, 1)
            }), this.__onModalToggle$Action
        }
        set _onModalToggle$Action(e) {
            this.__onModalToggle$Action = e
        }
        get _contentHeaderOnClickBackButton$Action() {
            return this.hasOwnProperty("__contentHeaderOnClickBackButton$Action") || (this.__contentHeaderOnClickBackButton$Action = function(e) {
                var n = this.model,
                    t = this.controller,
                    s = this.idService;
                return w.Logger.startActiveSpan("ContentHeaderOnClickBackButton", function(i) {
                    i && (i.setAttribute("code.function", "ContentHeaderOnClickBackButton"), i.setAttribute("outsystems.function.key", "639a4896-14e0-4ff9-9b7b-bd3ae968690c"), i.setAttribute("outsystems.function.owner.name", "Accounts"), i.setAttribute("outsystems.function.owner.key", "8a32fa32-34f5-4338-b6db-4f1ce8fdd638"), i.setAttribute("outsystems.function.type", "CLIENT_SCREEN_ACTION"));
                    try {
                        if (t.ensureControllerAlive("ContentHeaderOnClickBackButton"), e = t.callContext(e), V.getIsWorkflow()) F.closeTab$Action(e);
                        else return w.Navigation.navigateTo(w.Navigation.generateScreenURL("Accounts", "Verification", {}), w.Transitions.createTransition(w.Transitions.TransitionAnimation.Default), e, !0)
                    } finally {
                        i && i.end()
                    }
                }, 1)
            }), this.__contentHeaderOnClickBackButton$Action
        }
        set _contentHeaderOnClickBackButton$Action(e) {
            this.__contentHeaderOnClickBackButton$Action = e
        }
        get _nextOnClick$Action() {
            return this.hasOwnProperty("__nextOnClick$Action") || (this.__nextOnClick$Action = function(e) {
                var n = this.model,
                    t = this.controller,
                    s = this.idService;
                return w.Logger.startActiveSpan("NextOnClick", function(i) {
                    return i && (i.setAttribute("code.function", "NextOnClick"), i.setAttribute("outsystems.function.key", "f4dcb99b-19f1-4757-8475-78df462083ae"), i.setAttribute("outsystems.function.owner.name", "Accounts"), i.setAttribute("outsystems.function.owner.key", "8a32fa32-34f5-4338-b6db-4f1ce8fdd638"), i.setAttribute("outsystems.function.type", "CLIENT_SCREEN_ACTION")), w.Flow.tryFinally(function() {
                        return t.ensureControllerAlive("NextOnClick"), e = t.callContext(e), w.Flow.executeAsyncFlow(function() {
                            return t.nextStep$Action(2, n.variables.selectedResidenceIn, e)
                        })
                    }, function() {
                        i && i.end()
                    })
                }, 1)
            }), this.__nextOnClick$Action
        }
        set _nextOnClick$Action(e) {
            this.__nextOnClick$Action = e
        }
        onReady$Action(e) {
            var n = this.controller;
            return w.Logger.startActiveSpan("OnReady__proxy", function(t) {
                return t && (t.setAttribute("code.function", "OnReady"), t.setAttribute("outsystems.function.key", "061c1c97-11fa-4f29-abc8-566b89249502"), t.setAttribute("outsystems.function.owner.name", "Accounts"), t.setAttribute("outsystems.function.owner.key", "8a32fa32-34f5-4338-b6db-4f1ce8fdd638"), t.setAttribute("outsystems.function.type", "CLIENT_SCREEN_ACTION")), w.Flow.tryFinally(function() {
                    return n.safeExecuteClientAction(n._onReady$Action, e)
                }, function() {
                    t && t.end()
                })
            }, 0)
        }
        dropdownSearchOnChanged$Action(e, n) {
            var t = this.controller;
            return w.Logger.startActiveSpan("DropdownSearchOnChanged__proxy", function(s) {
                s && (s.setAttribute("code.function", "DropdownSearchOnChanged"), s.setAttribute("outsystems.function.key", "1b06c620-1c3d-49cd-8be5-a981e7544966"), s.setAttribute("outsystems.function.owner.name", "Accounts"), s.setAttribute("outsystems.function.owner.key", "8a32fa32-34f5-4338-b6db-4f1ce8fdd638"), s.setAttribute("outsystems.function.type", "CLIENT_SCREEN_ACTION"));
                try {
                    return t.safeExecuteClientAction(t._dropdownSearchOnChanged$Action, n, e)
                } finally {
                    s && s.end()
                }
            }, 0)
        }
        onModalToggle$Action(e) {
            var n = this.controller;
            return w.Logger.startActiveSpan("OnModalToggle__proxy", function(t) {
                t && (t.setAttribute("code.function", "OnModalToggle"), t.setAttribute("outsystems.function.key", "30233ade-d56f-4e1a-951f-b2b413a14fa7"), t.setAttribute("outsystems.function.owner.name", "Accounts"), t.setAttribute("outsystems.function.owner.key", "8a32fa32-34f5-4338-b6db-4f1ce8fdd638"), t.setAttribute("outsystems.function.type", "CLIENT_SCREEN_ACTION"));
                try {
                    return n.safeExecuteClientAction(n._onModalToggle$Action, e)
                } finally {
                    t && t.end()
                }
            }, 0)
        }
        contentHeaderOnClickBackButton$Action(e) {
            var n = this.controller;
            return w.Logger.startActiveSpan("ContentHeaderOnClickBackButton__proxy", function(t) {
                t && (t.setAttribute("code.function", "ContentHeaderOnClickBackButton"), t.setAttribute("outsystems.function.key", "639a4896-14e0-4ff9-9b7b-bd3ae968690c"), t.setAttribute("outsystems.function.owner.name", "Accounts"), t.setAttribute("outsystems.function.owner.key", "8a32fa32-34f5-4338-b6db-4f1ce8fdd638"), t.setAttribute("outsystems.function.type", "CLIENT_SCREEN_ACTION"));
                try {
                    return n.safeExecuteClientAction(n._contentHeaderOnClickBackButton$Action, e)
                } finally {
                    t && t.end()
                }
            }, 0)
        }
        nextOnClick$Action(e) {
            var n = this.controller;
            return w.Logger.startActiveSpan("NextOnClick__proxy", function(t) {
                return t && (t.setAttribute("code.function", "NextOnClick"), t.setAttribute("outsystems.function.key", "f4dcb99b-19f1-4757-8475-78df462083ae"), t.setAttribute("outsystems.function.owner.name", "Accounts"), t.setAttribute("outsystems.function.owner.key", "8a32fa32-34f5-4338-b6db-4f1ce8fdd638"), t.setAttribute("outsystems.function.type", "CLIENT_SCREEN_ACTION")), w.Flow.tryFinally(function() {
                    return n.safeExecuteClientAction(n._nextOnClick$Action, e)
                }, function() {
                    t && t.end()
                })
            }, 0)
        }
        get nextStep$Action() {
            return this.hasOwnProperty("_nextStep$Action") || (this._nextStep$Action = function() {
                return Promise.resolve()
            }), this._nextStep$Action
        }
        set nextStep$Action(e) {
            this._nextStep$Action = e
        }
        get onInitializeEventHandler() {
            return this.hasOwnProperty("_onInitializeEventHandler") || (this._onInitializeEventHandler = null), this._onInitializeEventHandler
        }
        set onInitializeEventHandler(e) {
            this._onInitializeEventHandler = e
        }
        get onReadyEventHandler() {
            return this.hasOwnProperty("_onReadyEventHandler") || (this._onReadyEventHandler = function(e) {
                var n = this.controller,
                    t = this.model,
                    s = this.idService;
                return n.onReady$Action(e)
            }), this._onReadyEventHandler
        }
        set onReadyEventHandler(e) {
            this._onReadyEventHandler = e
        }
        get onRenderEventHandler() {
            return this.hasOwnProperty("_onRenderEventHandler") || (this._onRenderEventHandler = null), this._onRenderEventHandler
        }
        set onRenderEventHandler(e) {
            this._onRenderEventHandler = e
        }
        get onDestroyEventHandler() {
            return this.hasOwnProperty("_onDestroyEventHandler") || (this._onDestroyEventHandler = null), this._onDestroyEventHandler
        }
        set onDestroyEventHandler(e) {
            this._onDestroyEventHandler = e
        }
        get onParametersChangedEventHandler() {
            return this.hasOwnProperty("_onParametersChangedEventHandler") || (this._onParametersChangedEventHandler = null), this._onParametersChangedEventHandler
        }
        set onParametersChangedEventHandler(e) {
            this._onParametersChangedEventHandler = e
        }
        get handleError() {
            return this.hasOwnProperty("_handleError") || (this._handleError = function(e) {
                return controller.handleError(e)
            }), this._handleError
        }
        set handleError(e) {
            this._handleError = e
        }
        static checkPermissions() {}
        getDefaultTimeout() {
            return F.defaultTimeout
        }
    };
    a(r, "ControllerInner");
    let m = r;
    pt = m, pt.registerVariableGroupType("Accounts.ProofOfIdentity.Desktop_DocumentIssuingCountry.OnReady$pickKeyValueJSResult", [{
        name: "FormattedResidenceList",
        attrName: "formattedResidenceListOut",
        mandatory: !0,
        dataType: w.DataTypes.DataTypes.Text,
        defaultValue: a(function() {
            return ""
        }, "defaultValue")
    }]), pt.registerVariableGroupType("Accounts.ProofOfIdentity.Desktop_DocumentIssuingCountry.DropdownSearchOnChanged$vars", [{
        name: "SelectedOptionList",
        attrName: "selectedOptionListInLocal",
        mandatory: !0,
        dataType: w.DataTypes.DataTypes.RecordList,
        defaultValue: a(function() {
            return new Ie
        }, "defaultValue"),
        complexType: Ie
    }])
}
var pt, yr = new w.Controller.ControllerFactory(pt, H);
var gt = D,
    wr = T.PlaceholderContent,
    bi = T.IteratorPlaceholderContent,
    we = class we extends M.BaseWebBlock {
        static get displayName() {
            return "ProofOfIdentity.Desktop_DocumentIssuingCountry"
        }
        static getAttributes() {
            return {
                codeFunction: "Desktop_DocumentIssuingCountry",
                functionKey: "6a8554b0-aa0e-4a04-8d25-08c12ca299a0",
                functionOwnerName: "Accounts",
                functionOwnerKey: "8a32fa32-34f5-4338-b6db-4f1ce8fdd638",
                screen: ""
            }
        }
        static getCssDependencies() {
            return ["css/OutSystemsReactWidgets.css", "css/Accounts.ProofOfIdentity.Desktop_DocumentIssuingCountry.css"]
        }
        static getJsDependencies() {
            return []
        }
        static getBlocks() {
            return [j, zt, Jt, Gt]
        }
        get modelFactory() {
            return Zn
        }
        get controllerFactory() {
            return yr
        }
        get title() {
            return ""
        }
        internalRender() {
            let r = this.model,
                l = this.controller,
                e = this.idService,
                n = l.validationService,
                t = this.widgetsRecordProvider,
                s = l.callContext(),
                i = we.ifWidget,
                f = we.textWidget,
                c = we.asPrimitiveValue,
                d = we.getTranslation,
                u = this;
            return ee.createElement("div", this.getRootNodeProperties(), i(r.variables.isLoadingVar, !1, this, function() {
                return [ee.createElement(j, {
                    getOwnerSpan: a(function() {
                        return u.getChildSpan("render")
                    }, "getOwnerSpan"),
                    getOwnerDisposeSpan: a(function() {
                        return u.getChildSpan("destroy")
                    }, "getOwnerDisposeSpan"),
                    inputs: {},
                    events: {
                        _handleError: a(function(o) {
                            l.handleError(o)
                        }, "_handleError")
                    },
                    _validationProps: {
                        validationService: n
                    },
                    _idProps: {
                        service: e,
                        uuid: "0",
                        alias: "1"
                    },
                    _widgetRecordProvider: t,
                    _dependencies: []
                })]
            }, function() {
                return [ee.createElement(y, {
                    align: 0,
                    animate: !1,
                    style: "display-flex flex-direction-column align-items-center full-height full-width",
                    visible: !0,
                    _idProps: {
                        service: e,
                        name: "DocIssuingCountry"
                    },
                    _widgetRecordProvider: t
                }, ee.createElement(zt, {
                    getOwnerSpan: a(function() {
                        return u.getChildSpan("render")
                    }, "getOwnerSpan"),
                    getOwnerDisposeSpan: a(function() {
                        return u.getChildSpan("destroy")
                    }, "getOwnerDisposeSpan"),
                    inputs: {
                        IsOpen: r.variables.shouldDisplayExitConfimModalVar
                    },
                    events: {
                        _handleError: a(function(o) {
                            l.handleError(o)
                        }, "_handleError"),
                        event$Action: a(function(o) {
                            var v = s.clone();
                            l.onModalToggle$Action(l.callContext(v))
                        }, "event$Action")
                    },
                    _validationProps: {
                        validationService: n
                    },
                    _idProps: {
                        service: e,
                        uuid: "2",
                        alias: "2"
                    },
                    _widgetRecordProvider: t,
                    _dependencies: []
                }), ee.createElement(y, {
                    align: 0,
                    animate: !1,
                    style: "full-width",
                    visible: !0,
                    _idProps: {
                        service: e,
                        uuid: "3"
                    },
                    _widgetRecordProvider: t
                }, ee.createElement(Jt, {
                    getOwnerSpan: a(function() {
                        return u.getChildSpan("render")
                    }, "getOwnerSpan"),
                    getOwnerDisposeSpan: a(function() {
                        return u.getChildSpan("destroy")
                    }, "getOwnerDisposeSpan"),
                    inputs: {
                        ShouldDisplayBackButton: !0,
                        ShouldDisplayCloseButton: !0,
                        TextAlignment: "center",
                        Title: "Document issuing country"
                    },
                    events: {
                        _handleError: a(function(o) {
                            l.handleError(o)
                        }, "_handleError"),
                        onClickBackButton$Action: a(function() {
                            var o = s.clone();
                            l.contentHeaderOnClickBackButton$Action(l.callContext(o))
                        }, "onClickBackButton$Action"),
                        onClickClose$Action: a(function() {
                            var o = s.clone();
                            l.onModalToggle$Action(l.callContext(o))
                        }, "onClickClose$Action")
                    },
                    _validationProps: {
                        validationService: n
                    },
                    _idProps: {
                        service: e,
                        uuid: "4",
                        alias: "3"
                    },
                    _widgetRecordProvider: t,
                    placeholders: {
                        additionalcontent: wr.Empty
                    },
                    _dependencies: []
                })), ee.createElement(y, {
                    align: 0,
                    animate: !1,
                    style: "full-width",
                    visible: !0,
                    _idProps: {
                        service: e,
                        uuid: "5"
                    },
                    _widgetRecordProvider: t
                }, ee.createElement(y, {
                    align: 0,
                    animate: !1,
                    style: "margin-top-m margin-bottom-s document-issuing-country--field",
                    visible: !0,
                    _idProps: {
                        service: e,
                        uuid: "6"
                    },
                    _widgetRecordProvider: t
                }, ee.createElement(Gt, {
                    getOwnerSpan: a(function() {
                        return u.getChildSpan("render")
                    }, "getOwnerSpan"),
                    getOwnerDisposeSpan: a(function() {
                        return u.getChildSpan("destroy")
                    }, "getOwnerDisposeSpan"),
                    inputs: {
                        ExtendedClass: r.getCachedValue(e.getId("DocumentIssuingCountry.ExtendedClass"), function() {
                            return r.variables.errorMessageVar !== gt.BuiltinFunctions.nullTextIdentifier() ? "document-issuing-country__field--error" : ""
                        }, function() {
                            return r.variables.errorMessageVar
                        }),
                        StartingSelection: r.getCachedValue(e.getId("DocumentIssuingCountry.StartingSelection"), function() {
                            return function() {
                                var o = new Ie;
                                return o.pushAll([function() {
                                    var v = new ut;
                                    return v.valueAttr = r.variables.selectedResidenceIn.valueAttr !== "" ? r.variables.selectedResidenceIn.valueAttr : V.getCountry(), v.labelAttr = "", v
                                }()]), o
                            }()
                        }, function() {
                            return r.variables.selectedResidenceIn.valueAttr
                        }, function() {
                            return V.getCountry()
                        }),
                        _startingSelectionInDataFetchStatus: gt.Model.calculateDataFetchStatus(r.variables._selectedResidenceInDataFetchStatus),
                        OptionalConfigs: r.getCachedValue(e.getId("DocumentIssuingCountry.OptionalConfigs"), function() {
                            return function() {
                                var o = new Hn;
                                return o.noResultsTextAttr = "No result was found", o
                            }()
                        }),
                        OptionsList: r.getCachedValue(e.getId("DocumentIssuingCountry.OptionsList"), function() {
                            return gt.DataConversion.JSConversions.typeConvertRecordList(r.variables.residenceListInputVar, new Ie, function(o, v) {
                                return v.valueAttr = o.valueAttr, v.labelAttr = o.textAttr, v
                            })
                        }, function() {
                            return r.variables.residenceListInputVar
                        })
                    },
                    events: {
                        _handleError: a(function(o) {
                            l.handleError(o)
                        }, "_handleError"),
                        onChanged$Action: a(function(o, v) {
                            var p = s.clone();
                            l.dropdownSearchOnChanged$Action(v, l.callContext(p))
                        }, "onChanged$Action")
                    },
                    _validationProps: {
                        validationService: n
                    },
                    _idProps: {
                        service: e,
                        name: "DocumentIssuingCountry",
                        alias: "4"
                    },
                    _widgetRecordProvider: t,
                    _dependencies: []
                })), ee.createElement(y, {
                    align: 0,
                    animate: !1,
                    visible: !0,
                    _idProps: {
                        service: e,
                        uuid: "8"
                    },
                    _widgetRecordProvider: t
                }, i(r.variables.errorMessageVar === gt.BuiltinFunctions.nullTextIdentifier(), !1, this, function() {
                    return [ee.createElement(_, {
                        style: "font-size-s font-regular document-issuing-country--hint",
                        text: ["Select the country where your identity document was issued."],
                        _idProps: {
                            service: e,
                            uuid: "9"
                        },
                        _widgetRecordProvider: t
                    })]
                }, function() {
                    return [ee.createElement(z, {
                        style: "document-issuing-country--error-msg",
                        value: r.variables.errorMessageVar,
                        _idProps: {
                            service: e,
                            uuid: "10"
                        },
                        _widgetRecordProvider: t
                    })]
                })), ee.createElement(y, {
                    align: 0,
                    animate: !1,
                    extendedProperties: {
                        style: "text-align: left;"
                    },
                    style: "display-flex margin-top-base justify-content-flex-end",
                    visible: !0,
                    _idProps: {
                        service: e,
                        uuid: "11"
                    },
                    _widgetRecordProvider: t
                }, ee.createElement(ue, {
                    enabled: !0,
                    extendedProperties: {
                        style: "border-radius: 100px; height: 40px; margin-top: 0px;"
                    },
                    gridProperties: {
                        width: "128px"
                    },
                    isDefault: !1,
                    onClick: a(function() {
                        return u.validateWidget(""), Promise.resolve().then(function() {
                            var o = s.clone();
                            return l.nextOnClick$Action(l.callContext(o))
                        })
                    }, "onClick"),
                    style: "btn btn-primary ",
                    visible: !0,
                    _idProps: {
                        service: e,
                        uuid: "12"
                    },
                    _widgetRecordProvider: t
                }, ee.createElement(_, {
                    extendedProperties: {
                        style: "font-size: 14px;"
                    },
                    text: ["Next"],
                    _idProps: {
                        service: e,
                        uuid: "13"
                    },
                    _widgetRecordProvider: t
                })))))]
            }))
        }
    };
a(we, "View");
var Xt = we,
    en = Xt;
var N = re(ie());
var A = D; {
    let r = class r extends A.Controller.BaseViewController {
        constructor(e, n, t) {
            super(e, n, t);
            var s = this.controller;
            this.clientActionProxies = {}, this.dataFetchDependenciesOriginal = {
                isSmileIdEnabled$DataActRefresh: -1
            }, this.dataFetchDependentsGraph = {
                isSmileIdEnabled$DataActRefresh: []
            }, this.shouldSendClientVarsToDataSources = !1
        }
        get isSmileIdEnabled$DataActRefresh() {
            return this.hasOwnProperty("_isSmileIdEnabled$DataActRefresh") || (this._isSmileIdEnabled$DataActRefresh = function() {
                var e = function(i) {
                    var t = this.model,
                        s = this.controller,
                        i = s.callContext(i);
                    return s.callDataAction("DataActionIsSmileIdEnabled", "screenservices/Accounts/ProofOfIdentity/IdentityVerification/DataActionIsSmileIdEnabled", "o_m5_8gZw2ADOr9TD3PGGg", function(f) {
                        t.variables.isSmileIdEnabledDataAct.dataFetchStatusAttr = f
                    }, function(f) {
                        t.variables.isSmileIdEnabledDataAct.replaceWith(A.DataConversion.ServerDataConverter.from(f, t.variables.isSmileIdEnabledDataAct.constructor))
                    }, void 0, void 0, void 0, i, void 0, !1).then(function() {
                        s._isSmileIdEnabledOnAfterFetch$Action(s.callContext(i))
                    })
                }.bind(this);
                return A.Logger.startActiveSpan("IsSmileIdEnabled", function(n) {
                    return n && (n.setAttribute("code.function", "IsSmileIdEnabled"), n.setAttribute("outsystems.function.key", "503c8fdf-4818-4fd1-b34c-7aec40e6706d"), n.setAttribute("outsystems.function.owner.name", "Accounts"), n.setAttribute("outsystems.function.owner.key", "8a32fa32-34f5-4338-b6db-4f1ce8fdd638"), n.setAttribute("outsystems.function.type", "SCREEN_SERVICE_DATA_ACTION_CALL")), A.Flow.tryFinally(function() {
                        return e()
                    }, function() {
                        n && n.end()
                    })
                }, 0)
            }), this._isSmileIdEnabled$DataActRefresh
        }
        set isSmileIdEnabled$DataActRefresh(e) {
            this._isSmileIdEnabled$DataActRefresh = e
        }
        get dataFetchActionNames() {
            return this.hasOwnProperty("_dataFetchActionNames") || (this._dataFetchActionNames = ["isSmileIdEnabled$DataActRefresh"]), this._dataFetchActionNames
        }
        set dataFetchActionNames(e) {
            this._dataFetchActionNames = e
        }
        get _isSmileIdEnabledOnAfterFetch$Action() {
            return this.hasOwnProperty("__isSmileIdEnabledOnAfterFetch$Action") || (this.__isSmileIdEnabledOnAfterFetch$Action = function(e) {
                var n = this.model,
                    t = this.controller,
                    s = this.idService;
                return A.Logger.startActiveSpan("IsSmileIdEnabledOnAfterFetch", function(i) {
                    i && (i.setAttribute("code.function", "IsSmileIdEnabledOnAfterFetch"), i.setAttribute("outsystems.function.key", "06fd8cf8-fccd-4d5e-9800-cbf3066ca67c"), i.setAttribute("outsystems.function.owner.name", "Accounts"), i.setAttribute("outsystems.function.owner.key", "8a32fa32-34f5-4338-b6db-4f1ce8fdd638"), i.setAttribute("outsystems.function.type", "CLIENT_SCREEN_ACTION"));
                    try {
                        t.ensureControllerAlive("IsSmileIdEnabledOnAfterFetch"), e = t.callContext(e), F.logger$Action(n.variables.isSmileIdEnabled2Var ? "True" : "False", "Is smileIDEnabled", e), n.variables.isSmileIdEnabled2Var = n.variables.isSmileIdEnabledDataAct.isEnabledOut
                    } finally {
                        i && i.end()
                    }
                }, 1)
            }), this.__isSmileIdEnabledOnAfterFetch$Action
        }
        set _isSmileIdEnabledOnAfterFetch$Action(e) {
            this.__isSmileIdEnabledOnAfterFetch$Action = e
        }
        get _mobileNavigationWizardGoToPreviousStep$Action() {
            return this.hasOwnProperty("__mobileNavigationWizardGoToPreviousStep$Action") || (this.__mobileNavigationWizardGoToPreviousStep$Action = function(e) {
                var n = this.model,
                    t = this.controller,
                    s = this.idService;
                return A.Logger.startActiveSpan("MobileNavigationWizardGoToPreviousStep", function(i) {
                    return i && (i.setAttribute("code.function", "MobileNavigationWizardGoToPreviousStep"), i.setAttribute("outsystems.function.key", "10f3c102-910f-4378-9e12-4a0d3778f70e"), i.setAttribute("outsystems.function.owner.name", "Accounts"), i.setAttribute("outsystems.function.owner.key", "8a32fa32-34f5-4338-b6db-4f1ce8fdd638"), i.setAttribute("outsystems.function.type", "CLIENT_SCREEN_ACTION")), A.Flow.tryFinally(function() {
                        return t.ensureControllerAlive("MobileNavigationWizardGoToPreviousStep"), e = t.callContext(e), A.Flow.executeAsyncFlow(function() {
                            return A.Flow.executeSequence(function() {
                                if (n.variables.isDocumentSelectedVar) t._backToDocumentType$Action(e);
                                else return t._backToPersonalDetails$Action(e)
                            })
                        })
                    }, function() {
                        i && i.end()
                    })
                }, 1)
            }), this.__mobileNavigationWizardGoToPreviousStep$Action
        }
        set _mobileNavigationWizardGoToPreviousStep$Action(e) {
            this.__mobileNavigationWizardGoToPreviousStep$Action = e
        }
        get _updateManualDocData$Action() {
            return this.hasOwnProperty("__updateManualDocData$Action") || (this.__updateManualDocData$Action = function(e, n, t) {
                var s = this.model,
                    i = this.controller,
                    f = this.idService;
                return A.Logger.startActiveSpan("UpdateManualDocData", function(c) {
                    c && (c.setAttribute("code.function", "UpdateManualDocData"), c.setAttribute("outsystems.function.key", "117a3fd4-e326-43a4-892b-ada19bae786c"), c.setAttribute("outsystems.function.owner.name", "Accounts"), c.setAttribute("outsystems.function.owner.key", "8a32fa32-34f5-4338-b6db-4f1ce8fdd638"), c.setAttribute("outsystems.function.type", "CLIENT_SCREEN_ACTION"));
                    try {
                        i.ensureControllerAlive("UpdateManualDocData"), t = i.callContext(t);
                        var d = new A.DataTypes.VariableHolder(new(i.constructor.getVariableGroupType("Accounts.ProofOfIdentity.IdentityVerification.UpdateManualDocData$vars")));
                        d.value.documentNumber2InLocal = e, d.value.expiredDateInLocal = n, s.variables.documentNumberIn = d.value.documentNumber2InLocal, s.variables.documentExpiryDateIn = d.value.expiredDateInLocal
                    } finally {
                        c && c.end()
                    }
                }, 1)
            }), this.__updateManualDocData$Action
        }
        set _updateManualDocData$Action(e) {
            this.__updateManualDocData$Action = e
        }
        get _submitIDVData$Action() {
            return this.hasOwnProperty("__submitIDVData$Action") || (this.__submitIDVData$Action = function(e, n, t) {
                var s = this.model,
                    i = this.controller,
                    f = this.idService;
                return A.Logger.startActiveSpan("SubmitIDVData", function(c) {
                    return c && (c.setAttribute("code.function", "SubmitIDVData"), c.setAttribute("outsystems.function.key", "19e19b0a-3b06-43ae-b630-127f2a40b4f9"), c.setAttribute("outsystems.function.owner.name", "Accounts"), c.setAttribute("outsystems.function.owner.key", "8a32fa32-34f5-4338-b6db-4f1ce8fdd638"), c.setAttribute("outsystems.function.type", "CLIENT_SCREEN_ACTION")), A.Flow.tryFinally(function() {
                        i.ensureControllerAlive("SubmitIDVData"), t = i.callContext(t);
                        var d = new A.DataTypes.VariableHolder(new(i.constructor.getVariableGroupType("Accounts.ProofOfIdentity.IdentityVerification.SubmitIDVData$vars")));
                        d.value.documentNumber2InLocal = e, d.value.additionalDocNumberInLocal = n;
                        var u = new A.DataTypes.VariableHolder;
                        return A.Flow.executeAsyncFlow(function() {
                            return s.variables.documentNumberIn = d.value.documentNumber2InLocal, s.variables.additionalDocumentNumberIn = d.value.additionalDocNumberInLocal, s.flush(), me.iDVDocumentAdd$Action(V.getServer(), V.getAuthToken(), V.getAppId(), "en", function() {
                                var o = new Un;
                                return o.document_AdditionalAttr = s.variables.additionalDocumentNumberIn, o.document_NumberAttr = s.variables.documentNumberIn, o.document_TypeAttr = s.variables.selectedIdentityDocumentIn.availableServicesAttr.getCurrent(t.iterationContext).documentTypeAttr, o.issuing_countryAttr = s.variables.selectedCountryIn, o
                            }(), t).then(function(o) {
                                u.value = o
                            }).then(function() {
                                return A.Flow.executeSequence(function() {
                                    return u.value.responseOut.errorAttr.codeAttr !== A.BuiltinFunctions.nullTextIdentifier() || u.value.responseOut.errorAttr.messageAttr !== A.BuiltinFunctions.nullTextIdentifier() ? (s.variables.serverErrorVar = u.value.responseOut.errorAttr, i.onChangeIDVDocData$Action(s.variables.documentNumberIn, s.variables.additionalDocumentNumberIn, t)) : A.Flow.returnAsync(A.Navigation.navigateTo(A.Navigation.generateScreenURL("Accounts", "ProofOfIdentityStatus", {}), A.Transitions.createTransition(A.Transitions.TransitionAnimation.Default), t, !0))
                                })
                            })
                        })
                    }, function() {
                        c && c.end()
                    })
                }, 1)
            }), this.__submitIDVData$Action
        }
        set _submitIDVData$Action(e) {
            this.__submitIDVData$Action = e
        }
        get _liveChat_OnClick$Action() {
            return this.hasOwnProperty("__liveChat_OnClick$Action") || (this.__liveChat_OnClick$Action = function(e) {
                var n = this.model,
                    t = this.controller,
                    s = this.idService;
                return A.Logger.startActiveSpan("LiveChat_OnClick", function(i) {
                    i && (i.setAttribute("code.function", "LiveChat_OnClick"), i.setAttribute("outsystems.function.key", "1a891791-b236-42eb-9425-d7501fcd7f59"), i.setAttribute("outsystems.function.owner.name", "Accounts"), i.setAttribute("outsystems.function.owner.key", "8a32fa32-34f5-4338-b6db-4f1ce8fdd638"), i.setAttribute("outsystems.function.type", "CLIENT_SCREEN_ACTION"));
                    try {
                        t.ensureControllerAlive("LiveChat_OnClick"), e = t.callContext(e), F.showLiveChat$Action(e)
                    } finally {
                        i && i.end()
                    }
                }, 1)
            }), this.__liveChat_OnClick$Action
        }
        set _liveChat_OnClick$Action(e) {
            this.__liveChat_OnClick$Action = e
        }
        get _backToPersonalDetails$Action() {
            return this.hasOwnProperty("__backToPersonalDetails$Action") || (this.__backToPersonalDetails$Action = function(e) {
                var n = this.model,
                    t = this.controller,
                    s = this.idService;
                return A.Logger.startActiveSpan("BackToPersonalDetails", function(i) {
                    return i && (i.setAttribute("code.function", "BackToPersonalDetails"), i.setAttribute("outsystems.function.key", "30bd43f3-0c5a-484c-8b44-734deed438a7"), i.setAttribute("outsystems.function.owner.name", "Accounts"), i.setAttribute("outsystems.function.owner.key", "8a32fa32-34f5-4338-b6db-4f1ce8fdd638"), i.setAttribute("outsystems.function.type", "CLIENT_SCREEN_ACTION")), A.Flow.tryFinally(function() {
                        return t.ensureControllerAlive("BackToPersonalDetails"), e = t.callContext(e), A.Flow.executeAsyncFlow(function() {
                            return t.backToPreviousStep$Action(2, e)
                        })
                    }, function() {
                        i && i.end()
                    })
                }, 1)
            }), this.__backToPersonalDetails$Action
        }
        set _backToPersonalDetails$Action(e) {
            this.__backToPersonalDetails$Action = e
        }
        get _onReady$Action() {
            return this.hasOwnProperty("__onReady$Action") || (this.__onReady$Action = function(e) {
                var n = this.model,
                    t = this.controller,
                    s = this.idService;
                return A.Logger.startActiveSpan("OnReady", function(i) {
                    return i && (i.setAttribute("code.function", "OnReady"), i.setAttribute("outsystems.function.key", "55e69b7f-c0bb-43d0-a720-70b747190be5"), i.setAttribute("outsystems.function.owner.name", "Accounts"), i.setAttribute("outsystems.function.owner.key", "8a32fa32-34f5-4338-b6db-4f1ce8fdd638"), i.setAttribute("outsystems.function.type", "CLIENT_SCREEN_ACTION")), A.Flow.tryFinally(function() {
                        t.ensureControllerAlive("OnReady"), e = t.callContext(e);
                        var f = new A.DataTypes.VariableHolder,
                            c = new A.DataTypes.VariableHolder,
                            d = new A.DataTypes.VariableHolder(new A.DataTypes.JSONSerializeOutputType);
                        return A.Flow.executeAsyncFlow(function() {
                            return n.variables.isLoadingVar = !0, n.flush(), me.kYCAuthStatus$Action(V.getServer(), V.getAuthToken(), V.getAppId(), "en", function() {
                                var u = new Bn;
                                return u.countryAttr = n.variables.selectedCountryIn, u
                            }(), e).then(function(u) {
                                f.value = u
                            }).then(function() {
                                d.value.jSONOut = A.JSONUtils.serializeToJSON(f.value.responseOut, !1, !1), c.value = A.SystemActions.listFilter(f.value.responseOut.kYCAuthStatusAttr.identityAttr.availableServicesAttr, function(u) {
                                    return u === "smile_id"
                                }, e)
                            }).then(function() {
                                return A.Flow.executeSequence(function() {
                                    if (!c.value.filteredListOut.isEmpty) {
                                        F.logger$Action(c.value.filteredListOut.isEmpty ? "True" : "False", "==>", e);
                                        var u = t.isSmileIdEnabled$DataActRefresh(e);
                                        return n.flush(), u
                                    }
                                })
                            }).then(function() {
                                n.variables.documentListVar = f.value.responseOut.kYCAuthStatusAttr.identityAttr.supportedDocumentsAttr, n.variables.isLoadingVar = !1
                            })
                        })
                    }, function() {
                        i && i.end()
                    })
                }, 1)
            }), this.__onReady$Action
        }
        set _onReady$Action(e) {
            this.__onReady$Action = e
        }
        get _backToDocumentType$Action() {
            return this.hasOwnProperty("__backToDocumentType$Action") || (this.__backToDocumentType$Action = function(e) {
                var n = this.model,
                    t = this.controller,
                    s = this.idService;
                return A.Logger.startActiveSpan("BackToDocumentType", function(i) {
                    i && (i.setAttribute("code.function", "BackToDocumentType"), i.setAttribute("outsystems.function.key", "69c82589-ca32-418d-be24-41d15248f868"), i.setAttribute("outsystems.function.owner.name", "Accounts"), i.setAttribute("outsystems.function.owner.key", "8a32fa32-34f5-4338-b6db-4f1ce8fdd638"), i.setAttribute("outsystems.function.type", "CLIENT_SCREEN_ACTION"));
                    try {
                        t.ensureControllerAlive("BackToDocumentType"), e = t.callContext(e), n.variables.isDocumentSelectedVar = !1
                    } finally {
                        i && i.end()
                    }
                }, 1)
            }), this.__backToDocumentType$Action
        }
        set _backToDocumentType$Action(e) {
            this.__backToDocumentType$Action = e
        }
        get _onSelectingIdentityDocument$Action() {
            return this.hasOwnProperty("__onSelectingIdentityDocument$Action") || (this.__onSelectingIdentityDocument$Action = function(e, n) {
                var t = this.model,
                    s = this.controller,
                    i = this.idService;
                return A.Logger.startActiveSpan("OnSelectingIdentityDocument", function(f) {
                    return f && (f.setAttribute("code.function", "OnSelectingIdentityDocument"), f.setAttribute("outsystems.function.key", "f4ceb366-0039-40a1-b123-d9ccdeb7da5b"), f.setAttribute("outsystems.function.owner.name", "Accounts"), f.setAttribute("outsystems.function.owner.key", "8a32fa32-34f5-4338-b6db-4f1ce8fdd638"), f.setAttribute("outsystems.function.type", "CLIENT_SCREEN_ACTION")), A.Flow.tryFinally(function() {
                        s.ensureControllerAlive("OnSelectingIdentityDocument"), n = s.callContext(n);
                        var c = new A.DataTypes.VariableHolder(new(s.constructor.getVariableGroupType("Accounts.ProofOfIdentity.IdentityVerification.OnSelectingIdentityDocument$vars")));
                        return c.value.selectedDocumentTypeInLocal = e.clone(), A.Flow.executeAsyncFlow(function() {
                            return t.variables.selectedIdentityDocumentIn = c.value.selectedDocumentTypeInLocal, t.variables.isDocumentSelectedVar = !0, s.onChangeIdentityDocument$Action(t.variables.selectedIdentityDocumentIn, n)
                        })
                    }, function() {
                        f && f.end()
                    })
                }, 1)
            }), this.__onSelectingIdentityDocument$Action
        }
        set _onSelectingIdentityDocument$Action(e) {
            this.__onSelectingIdentityDocument$Action = e
        }
        isSmileIdEnabledOnAfterFetch$Action(e) {
            var n = this.controller;
            return A.Logger.startActiveSpan("IsSmileIdEnabledOnAfterFetch__proxy", function(t) {
                t && (t.setAttribute("code.function", "IsSmileIdEnabledOnAfterFetch"), t.setAttribute("outsystems.function.key", "06fd8cf8-fccd-4d5e-9800-cbf3066ca67c"), t.setAttribute("outsystems.function.owner.name", "Accounts"), t.setAttribute("outsystems.function.owner.key", "8a32fa32-34f5-4338-b6db-4f1ce8fdd638"), t.setAttribute("outsystems.function.type", "CLIENT_SCREEN_ACTION"));
                try {
                    return n.safeExecuteClientAction(n._isSmileIdEnabledOnAfterFetch$Action, e)
                } finally {
                    t && t.end()
                }
            }, 0)
        }
        mobileNavigationWizardGoToPreviousStep$Action(e) {
            var n = this.controller;
            return A.Logger.startActiveSpan("MobileNavigationWizardGoToPreviousStep__proxy", function(t) {
                return t && (t.setAttribute("code.function", "MobileNavigationWizardGoToPreviousStep"), t.setAttribute("outsystems.function.key", "10f3c102-910f-4378-9e12-4a0d3778f70e"), t.setAttribute("outsystems.function.owner.name", "Accounts"), t.setAttribute("outsystems.function.owner.key", "8a32fa32-34f5-4338-b6db-4f1ce8fdd638"), t.setAttribute("outsystems.function.type", "CLIENT_SCREEN_ACTION")), A.Flow.tryFinally(function() {
                    return n.safeExecuteClientAction(n._mobileNavigationWizardGoToPreviousStep$Action, e)
                }, function() {
                    t && t.end()
                })
            }, 0)
        }
        updateManualDocData$Action(e, n, t) {
            var s = this.controller;
            return A.Logger.startActiveSpan("UpdateManualDocData__proxy", function(i) {
                i && (i.setAttribute("code.function", "UpdateManualDocData"), i.setAttribute("outsystems.function.key", "117a3fd4-e326-43a4-892b-ada19bae786c"), i.setAttribute("outsystems.function.owner.name", "Accounts"), i.setAttribute("outsystems.function.owner.key", "8a32fa32-34f5-4338-b6db-4f1ce8fdd638"), i.setAttribute("outsystems.function.type", "CLIENT_SCREEN_ACTION"));
                try {
                    return s.safeExecuteClientAction(s._updateManualDocData$Action, t, e, n)
                } finally {
                    i && i.end()
                }
            }, 0)
        }
        submitIDVData$Action(e, n, t) {
            var s = this.controller;
            return A.Logger.startActiveSpan("SubmitIDVData__proxy", function(i) {
                return i && (i.setAttribute("code.function", "SubmitIDVData"), i.setAttribute("outsystems.function.key", "19e19b0a-3b06-43ae-b630-127f2a40b4f9"), i.setAttribute("outsystems.function.owner.name", "Accounts"), i.setAttribute("outsystems.function.owner.key", "8a32fa32-34f5-4338-b6db-4f1ce8fdd638"), i.setAttribute("outsystems.function.type", "CLIENT_SCREEN_ACTION")), A.Flow.tryFinally(function() {
                    return s.safeExecuteClientAction(s._submitIDVData$Action, t, e, n)
                }, function() {
                    i && i.end()
                })
            }, 0)
        }
        liveChat_OnClick$Action(e) {
            var n = this.controller;
            return A.Logger.startActiveSpan("LiveChat_OnClick__proxy", function(t) {
                t && (t.setAttribute("code.function", "LiveChat_OnClick"), t.setAttribute("outsystems.function.key", "1a891791-b236-42eb-9425-d7501fcd7f59"), t.setAttribute("outsystems.function.owner.name", "Accounts"), t.setAttribute("outsystems.function.owner.key", "8a32fa32-34f5-4338-b6db-4f1ce8fdd638"), t.setAttribute("outsystems.function.type", "CLIENT_SCREEN_ACTION"));
                try {
                    return n.safeExecuteClientAction(n._liveChat_OnClick$Action, e)
                } finally {
                    t && t.end()
                }
            }, 0)
        }
        backToPersonalDetails$Action(e) {
            var n = this.controller;
            return A.Logger.startActiveSpan("BackToPersonalDetails__proxy", function(t) {
                return t && (t.setAttribute("code.function", "BackToPersonalDetails"), t.setAttribute("outsystems.function.key", "30bd43f3-0c5a-484c-8b44-734deed438a7"), t.setAttribute("outsystems.function.owner.name", "Accounts"), t.setAttribute("outsystems.function.owner.key", "8a32fa32-34f5-4338-b6db-4f1ce8fdd638"), t.setAttribute("outsystems.function.type", "CLIENT_SCREEN_ACTION")), A.Flow.tryFinally(function() {
                    return n.safeExecuteClientAction(n._backToPersonalDetails$Action, e)
                }, function() {
                    t && t.end()
                })
            }, 0)
        }
        onReady$Action(e) {
            var n = this.controller;
            return A.Logger.startActiveSpan("OnReady__proxy", function(t) {
                return t && (t.setAttribute("code.function", "OnReady"), t.setAttribute("outsystems.function.key", "55e69b7f-c0bb-43d0-a720-70b747190be5"), t.setAttribute("outsystems.function.owner.name", "Accounts"), t.setAttribute("outsystems.function.owner.key", "8a32fa32-34f5-4338-b6db-4f1ce8fdd638"), t.setAttribute("outsystems.function.type", "CLIENT_SCREEN_ACTION")), A.Flow.tryFinally(function() {
                    return n.safeExecuteClientAction(n._onReady$Action, e)
                }, function() {
                    t && t.end()
                })
            }, 0)
        }
        backToDocumentType$Action(e) {
            var n = this.controller;
            return A.Logger.startActiveSpan("BackToDocumentType__proxy", function(t) {
                t && (t.setAttribute("code.function", "BackToDocumentType"), t.setAttribute("outsystems.function.key", "69c82589-ca32-418d-be24-41d15248f868"), t.setAttribute("outsystems.function.owner.name", "Accounts"), t.setAttribute("outsystems.function.owner.key", "8a32fa32-34f5-4338-b6db-4f1ce8fdd638"), t.setAttribute("outsystems.function.type", "CLIENT_SCREEN_ACTION"));
                try {
                    return n.safeExecuteClientAction(n._backToDocumentType$Action, e)
                } finally {
                    t && t.end()
                }
            }, 0)
        }
        onSelectingIdentityDocument$Action(e, n) {
            var t = this.controller;
            return A.Logger.startActiveSpan("OnSelectingIdentityDocument__proxy", function(s) {
                return s && (s.setAttribute("code.function", "OnSelectingIdentityDocument"), s.setAttribute("outsystems.function.key", "f4ceb366-0039-40a1-b123-d9ccdeb7da5b"), s.setAttribute("outsystems.function.owner.name", "Accounts"), s.setAttribute("outsystems.function.owner.key", "8a32fa32-34f5-4338-b6db-4f1ce8fdd638"), s.setAttribute("outsystems.function.type", "CLIENT_SCREEN_ACTION")), A.Flow.tryFinally(function() {
                    return t.safeExecuteClientAction(t._onSelectingIdentityDocument$Action, n, e)
                }, function() {
                    s && s.end()
                })
            }, 0)
        }
        get onChangeIDVDocData$Action() {
            return this.hasOwnProperty("_onChangeIDVDocData$Action") || (this._onChangeIDVDocData$Action = function() {
                return Promise.resolve()
            }), this._onChangeIDVDocData$Action
        }
        set onChangeIDVDocData$Action(e) {
            this._onChangeIDVDocData$Action = e
        }
        get backToPreviousStep$Action() {
            return this.hasOwnProperty("_backToPreviousStep$Action") || (this._backToPreviousStep$Action = function() {
                return Promise.resolve()
            }), this._backToPreviousStep$Action
        }
        set backToPreviousStep$Action(e) {
            this._backToPreviousStep$Action = e
        }
        get onChangeManualDocData$Action() {
            return this.hasOwnProperty("_onChangeManualDocData$Action") || (this._onChangeManualDocData$Action = function() {
                return Promise.resolve()
            }), this._onChangeManualDocData$Action
        }
        set onChangeManualDocData$Action(e) {
            this._onChangeManualDocData$Action = e
        }
        get onChangeIdentityDocument$Action() {
            return this.hasOwnProperty("_onChangeIdentityDocument$Action") || (this._onChangeIdentityDocument$Action = function() {
                return Promise.resolve()
            }), this._onChangeIdentityDocument$Action
        }
        set onChangeIdentityDocument$Action(e) {
            this._onChangeIdentityDocument$Action = e
        }
        get onInitializeEventHandler() {
            return this.hasOwnProperty("_onInitializeEventHandler") || (this._onInitializeEventHandler = null), this._onInitializeEventHandler
        }
        set onInitializeEventHandler(e) {
            this._onInitializeEventHandler = e
        }
        get onReadyEventHandler() {
            return this.hasOwnProperty("_onReadyEventHandler") || (this._onReadyEventHandler = function(e) {
                var n = this.controller,
                    t = this.model,
                    s = this.idService;
                return n.onReady$Action(e)
            }), this._onReadyEventHandler
        }
        set onReadyEventHandler(e) {
            this._onReadyEventHandler = e
        }
        get onRenderEventHandler() {
            return this.hasOwnProperty("_onRenderEventHandler") || (this._onRenderEventHandler = null), this._onRenderEventHandler
        }
        set onRenderEventHandler(e) {
            this._onRenderEventHandler = e
        }
        get onDestroyEventHandler() {
            return this.hasOwnProperty("_onDestroyEventHandler") || (this._onDestroyEventHandler = null), this._onDestroyEventHandler
        }
        set onDestroyEventHandler(e) {
            this._onDestroyEventHandler = e
        }
        get onParametersChangedEventHandler() {
            return this.hasOwnProperty("_onParametersChangedEventHandler") || (this._onParametersChangedEventHandler = null), this._onParametersChangedEventHandler
        }
        set onParametersChangedEventHandler(e) {
            this._onParametersChangedEventHandler = e
        }
        get handleError() {
            return this.hasOwnProperty("_handleError") || (this._handleError = function(e) {
                return controller.handleError(e)
            }), this._handleError
        }
        set handleError(e) {
            this._handleError = e
        }
        static checkPermissions() {}
        getDefaultTimeout() {
            return F.defaultTimeout
        }
    };
    a(r, "ControllerInner");
    let m = r;
    nt = m, nt.registerVariableGroupType("Accounts.ProofOfIdentity.IdentityVerification.UpdateManualDocData$vars", [{
        name: "DocumentNumber2",
        attrName: "documentNumber2InLocal",
        mandatory: !0,
        dataType: A.DataTypes.DataTypes.Text,
        defaultValue: a(function() {
            return ""
        }, "defaultValue")
    }, {
        name: "ExpiredDate",
        attrName: "expiredDateInLocal",
        mandatory: !0,
        dataType: A.DataTypes.DataTypes.Date,
        defaultValue: a(function() {
            return A.DataTypes.DateTime.defaultValue
        }, "defaultValue")
    }]), nt.registerVariableGroupType("Accounts.ProofOfIdentity.IdentityVerification.SubmitIDVData$vars", [{
        name: "DocumentNumber2",
        attrName: "documentNumber2InLocal",
        mandatory: !0,
        dataType: A.DataTypes.DataTypes.Text,
        defaultValue: a(function() {
            return ""
        }, "defaultValue")
    }, {
        name: "AdditionalDocNumber",
        attrName: "additionalDocNumberInLocal",
        mandatory: !0,
        dataType: A.DataTypes.DataTypes.Text,
        defaultValue: a(function() {
            return ""
        }, "defaultValue")
    }]), nt.registerVariableGroupType("Accounts.ProofOfIdentity.IdentityVerification.OnSelectingIdentityDocument$vars", [{
        name: "SelectedDocumentType",
        attrName: "selectedDocumentTypeInLocal",
        mandatory: !0,
        dataType: A.DataTypes.DataTypes.Record,
        defaultValue: a(function() {
            return new qe
        }, "defaultValue"),
        complexType: qe
    }])
}
var nt, pr = new A.Controller.ControllerFactory(nt, H);
var G = re(ie());

function tn(m, r, l, e) {
    let n = JSON.parse(m.DocumentType),
        t = a(() => {
            var c, d, u;
            return m.AddDocumentNumberInput === ((c = n == null ? void 0 : n.additional) == null ? void 0 : c.example_format) ? "Please enter a valid ID number." : new RegExp((d = n == null ? void 0 : n.additional) == null ? void 0 : d.document_format, "i").test(m.AddDocumentNumberInput) ? "" : "Please enter the correct format. Example: " + ((u = n == null ? void 0 : n.additional) == null ? void 0 : u.example_format)
        }, "isAddDocNumberValid"),
        s = yup.string().required(n.additional.display_name + " is required.").test({
            name: "testAddDocumentNumber",
            test: a((i, f) => {
                let c = t(i);
                return c ? f.createError({
                    message: c
                }) : !0
            }, "test")
        });
    try {
        s.validateSync(m.AddDocumentNumberInput), m.ErrorMessage = ""
    } catch (i) {
        m.ErrorMessage = i.message
    }
}
a(tn, "default");

function nn(m, r, l, e) {
    let n = JSON.parse(m.DocumentType),
        t = [{
            regex_string: "^(?i)G[a-zA-Z0-9]{7,9}$",
            value: "^G[a-zA-Z0-9]{7,9}$",
            flags: "i"
        }],
        s = a(d => {
            let u = t.find(o => o.regex_string === d);
            return u ? new RegExp(u.value, u.flags) : new RegExp(d)
        }, "getRegex"),
        i = a(d => m.Country === "id" && (n == null ? void 0 : n.document_type) === "national_id" ? "NIK" : m.Country === "in" && (n == null ? void 0 : n.document_type) === "aadhaar" ? "Aadhar" : d, "formatDocumentName"),
        f = a(() => m.DocumentNumberInput === (n == null ? void 0 : n.example_format) ? "Please enter a valid ID number." : s(n.format).test(m.DocumentNumberInput) ? "" : i(n.document_type) + " number format is incorrect. Example: " + (n == null ? void 0 : n.example_format), "isDocumentNumberValid"),
        c = yup.string().required(n.display_name + " is required.").test({
            name: "testDocumentNumber",
            test: a((d, u) => {
                let o = f(d);
                return o ? u.createError({
                    message: o
                }) : !0
            }, "test")
        });
    try {
        c.validateSync(m.DocumentNumberInput), m.ErrorMessage = ""
    } catch (d) {
        m.ErrorMessage = d.message
    }
}
a(nn, "default");
var P = D; {
    let r = class r extends P.Controller.BaseViewController {
        constructor(e, n, t) {
            super(e, n, t);
            var s = this.controller;
            this.clientActionProxies = {}, this.dataFetchDependenciesOriginal = {}, this.dataFetchDependentsGraph = {}, this.shouldSendClientVarsToDataSources = !1
        }
        get dataFetchActionNames() {
            return this.hasOwnProperty("_dataFetchActionNames") || (this._dataFetchActionNames = []), this._dataFetchActionNames
        }
        set dataFetchActionNames(e) {
            this._dataFetchActionNames = e
        }
        get _onChangeAdditionalDocumentNumber$Action() {
            return this.hasOwnProperty("__onChangeAdditionalDocumentNumber$Action") || (this.__onChangeAdditionalDocumentNumber$Action = function(e) {
                var n = this.model,
                    t = this.controller,
                    s = this.idService;
                return P.Logger.startActiveSpan("OnChangeAdditionalDocumentNumber", function(i) {
                    i && (i.setAttribute("code.function", "OnChangeAdditionalDocumentNumber"), i.setAttribute("outsystems.function.key", "2fb4015d-d991-43c7-aac3-ab5250eb00d7"), i.setAttribute("outsystems.function.owner.name", "Accounts"), i.setAttribute("outsystems.function.owner.key", "8a32fa32-34f5-4338-b6db-4f1ce8fdd638"), i.setAttribute("outsystems.function.type", "CLIENT_SCREEN_ACTION"));
                    try {
                        t.ensureControllerAlive("OnChangeAdditionalDocumentNumber"), e = t.callContext(e);
                        var f = new P.DataTypes.VariableHolder,
                            c = new P.DataTypes.VariableHolder(new P.DataTypes.JSONSerializeOutputType);
                        c.value.jSONOut = P.JSONUtils.serializeToJSON(n.variables.selectedDocumentIn, !1, !1), f.value = P.Logger.startActiveSpan("ValidateAdditionalDocumentNumber", function(d) {
                            d && (d.setAttribute("code.function", "ValidateAdditionalDocumentNumber"), d.setAttribute("outsystems.function.key", "9ccd3ea1-dd95-4daa-ad4a-d2dacbc5be35"), d.setAttribute("outsystems.function.owner.name", "Accounts"), d.setAttribute("outsystems.function.owner.key", "8a32fa32-34f5-4338-b6db-4f1ce8fdd638"), d.setAttribute("outsystems.function.type", "JAVASCRIPT"));
                            try {
                                return t.safeExecuteJSNode(tn, "ValidateAdditionalDocumentNumber", "OnChangeAdditionalDocumentNumber", {
                                    AddDocumentNumberInput: P.DataConversion.JSNodeParamConverter.to(n.variables.additionalDocumentIn.valueAttr, P.DataTypes.DataTypes.Text),
                                    DocumentType: P.DataConversion.JSNodeParamConverter.to(c.value.jSONOut, P.DataTypes.DataTypes.Text),
                                    ErrorMessage: P.DataConversion.JSNodeParamConverter.to("", P.DataTypes.DataTypes.Text)
                                }, function(u) {
                                    var o = new(t.constructor.getVariableGroupType("Accounts.ProofOfIdentity.IDVDocumentNumber.OnChangeAdditionalDocumentNumber$validateAdditionalDocumentNumberJSResult"));
                                    return o.errorMessageOut = P.DataConversion.JSNodeParamConverter.from(u.ErrorMessage, P.DataTypes.DataTypes.Text), o
                                }, {}, {})
                            } finally {
                                d && d.end()
                            }
                        }, 1), n.widgets.get(s.getId("AdditionalDocField")).validAttr = f.value.errorMessageOut === P.BuiltinFunctions.nullTextIdentifier(), n.widgets.get(s.getId("AdditionalDocField")).validationMessageAttr = f.value.errorMessageOut
                    } finally {
                        i && i.end()
                    }
                }, 1)
            }), this.__onChangeAdditionalDocumentNumber$Action
        }
        set _onChangeAdditionalDocumentNumber$Action(e) {
            this.__onChangeAdditionalDocumentNumber$Action = e
        }
        get _verifyOnClick$Action() {
            return this.hasOwnProperty("__verifyOnClick$Action") || (this.__verifyOnClick$Action = function(e) {
                var n = this.model,
                    t = this.controller,
                    s = this.idService;
                return P.Logger.startActiveSpan("VerifyOnClick", function(i) {
                    return i && (i.setAttribute("code.function", "VerifyOnClick"), i.setAttribute("outsystems.function.key", "4cdf7e5c-fde6-460f-a958-37f25dcab393"), i.setAttribute("outsystems.function.owner.name", "Accounts"), i.setAttribute("outsystems.function.owner.key", "8a32fa32-34f5-4338-b6db-4f1ce8fdd638"), i.setAttribute("outsystems.function.type", "CLIENT_SCREEN_ACTION")), P.Flow.tryFinally(function() {
                        return t.ensureControllerAlive("VerifyOnClick"), e = t.callContext(e), P.Flow.executeAsyncFlow(function() {
                            return t._onChangeDocumentNumber$Action(e), n.variables.selectedDocumentIn.additionalDocumentAttr.displayNameAttr !== P.BuiltinFunctions.nullTextIdentifier() && t._onChangeAdditionalDocumentNumber$Action(e), t._checkboxOnChange$Action(e), P.Flow.executeSequence(function() {
                                if (n.widgets.get(s.getId("Form1")).validAttr) return t.updateIDVData$Action(n.variables.documentNumberIn.valueAttr, n.variables.additionalDocumentIn.valueAttr, e)
                            })
                        })
                    }, function() {
                        i && i.end()
                    })
                }, 1)
            }), this.__verifyOnClick$Action
        }
        set _verifyOnClick$Action(e) {
            this.__verifyOnClick$Action = e
        }
        get _onChangeDocumentNumber$Action() {
            return this.hasOwnProperty("__onChangeDocumentNumber$Action") || (this.__onChangeDocumentNumber$Action = function(e) {
                var n = this.model,
                    t = this.controller,
                    s = this.idService;
                return P.Logger.startActiveSpan("OnChangeDocumentNumber", function(i) {
                    i && (i.setAttribute("code.function", "OnChangeDocumentNumber"), i.setAttribute("outsystems.function.key", "89eaaae1-9fac-4558-9093-35e8f8f6e47f"), i.setAttribute("outsystems.function.owner.name", "Accounts"), i.setAttribute("outsystems.function.owner.key", "8a32fa32-34f5-4338-b6db-4f1ce8fdd638"), i.setAttribute("outsystems.function.type", "CLIENT_SCREEN_ACTION"));
                    try {
                        t.ensureControllerAlive("OnChangeDocumentNumber"), e = t.callContext(e);
                        var f = new P.DataTypes.VariableHolder,
                            c = new P.DataTypes.VariableHolder(new P.DataTypes.JSONSerializeOutputType);
                        c.value.jSONOut = P.JSONUtils.serializeToJSON(n.variables.selectedDocumentIn, !1, !1), f.value = P.Logger.startActiveSpan("ValidateDocumentNumber", function(d) {
                            d && (d.setAttribute("code.function", "ValidateDocumentNumber"), d.setAttribute("outsystems.function.key", "c94fd233-6dfe-45d5-9e31-8b11ab36e3cf"), d.setAttribute("outsystems.function.owner.name", "Accounts"), d.setAttribute("outsystems.function.owner.key", "8a32fa32-34f5-4338-b6db-4f1ce8fdd638"), d.setAttribute("outsystems.function.type", "JAVASCRIPT"));
                            try {
                                return t.safeExecuteJSNode(nn, "ValidateDocumentNumber", "OnChangeDocumentNumber", {
                                    DocumentType: P.DataConversion.JSNodeParamConverter.to(c.value.jSONOut, P.DataTypes.DataTypes.Text),
                                    DocumentNumberInput: P.DataConversion.JSNodeParamConverter.to(n.variables.documentNumberIn.valueAttr, P.DataTypes.DataTypes.Text),
                                    Country: P.DataConversion.JSNodeParamConverter.to(n.variables.selectedCountryIn, P.DataTypes.DataTypes.Text),
                                    ErrorMessage: P.DataConversion.JSNodeParamConverter.to("", P.DataTypes.DataTypes.Text)
                                }, function(u) {
                                    var o = new(t.constructor.getVariableGroupType("Accounts.ProofOfIdentity.IDVDocumentNumber.OnChangeDocumentNumber$validateDocumentNumberJSResult"));
                                    return o.errorMessageOut = P.DataConversion.JSNodeParamConverter.from(u.ErrorMessage, P.DataTypes.DataTypes.Text), o
                                }, {}, {})
                            } finally {
                                d && d.end()
                            }
                        }, 1), n.widgets.get(s.getId("Input_Value")).validAttr = f.value.errorMessageOut === P.BuiltinFunctions.nullTextIdentifier(), n.widgets.get(s.getId("Input_Value")).validationMessageAttr = f.value.errorMessageOut
                    } finally {
                        i && i.end()
                    }
                }, 1)
            }), this.__onChangeDocumentNumber$Action
        }
        set _onChangeDocumentNumber$Action(e) {
            this.__onChangeDocumentNumber$Action = e
        }
        get _checkboxOnChange$Action() {
            return this.hasOwnProperty("__checkboxOnChange$Action") || (this.__checkboxOnChange$Action = function(e) {
                var n = this.model,
                    t = this.controller,
                    s = this.idService;
                return P.Logger.startActiveSpan("CheckboxOnChange", function(i) {
                    i && (i.setAttribute("code.function", "CheckboxOnChange"), i.setAttribute("outsystems.function.key", "b8616c6a-308a-44c5-a388-a31c6e78942f"), i.setAttribute("outsystems.function.owner.name", "Accounts"), i.setAttribute("outsystems.function.owner.key", "8a32fa32-34f5-4338-b6db-4f1ce8fdd638"), i.setAttribute("outsystems.function.type", "CLIENT_SCREEN_ACTION"));
                    try {
                        t.ensureControllerAlive("CheckboxOnChange"), e = t.callContext(e), n.widgets.get(s.getId("Checkbox1")).validAttr = n.variables.acceptDocumentNumberVar, n.variables.acceptDocumentNumberVar ? n.widgets.get(s.getId("Checkbox1")).validationMessageAttr = "" : n.widgets.get(s.getId("Checkbox1")).validationMessageAttr = "This is required"
                    } finally {
                        i && i.end()
                    }
                }, 1)
            }), this.__checkboxOnChange$Action
        }
        set _checkboxOnChange$Action(e) {
            this.__checkboxOnChange$Action = e
        }
        onChangeAdditionalDocumentNumber$Action(e) {
            var n = this.controller;
            return P.Logger.startActiveSpan("OnChangeAdditionalDocumentNumber__proxy", function(t) {
                t && (t.setAttribute("code.function", "OnChangeAdditionalDocumentNumber"), t.setAttribute("outsystems.function.key", "2fb4015d-d991-43c7-aac3-ab5250eb00d7"), t.setAttribute("outsystems.function.owner.name", "Accounts"), t.setAttribute("outsystems.function.owner.key", "8a32fa32-34f5-4338-b6db-4f1ce8fdd638"), t.setAttribute("outsystems.function.type", "CLIENT_SCREEN_ACTION"));
                try {
                    return n.safeExecuteClientAction(n._onChangeAdditionalDocumentNumber$Action, e)
                } finally {
                    t && t.end()
                }
            }, 0)
        }
        verifyOnClick$Action(e) {
            var n = this.controller;
            return P.Logger.startActiveSpan("VerifyOnClick__proxy", function(t) {
                return t && (t.setAttribute("code.function", "VerifyOnClick"), t.setAttribute("outsystems.function.key", "4cdf7e5c-fde6-460f-a958-37f25dcab393"), t.setAttribute("outsystems.function.owner.name", "Accounts"), t.setAttribute("outsystems.function.owner.key", "8a32fa32-34f5-4338-b6db-4f1ce8fdd638"), t.setAttribute("outsystems.function.type", "CLIENT_SCREEN_ACTION")), P.Flow.tryFinally(function() {
                    return n.safeExecuteClientAction(n._verifyOnClick$Action, e)
                }, function() {
                    t && t.end()
                })
            }, 0)
        }
        onChangeDocumentNumber$Action(e) {
            var n = this.controller;
            return P.Logger.startActiveSpan("OnChangeDocumentNumber__proxy", function(t) {
                t && (t.setAttribute("code.function", "OnChangeDocumentNumber"), t.setAttribute("outsystems.function.key", "89eaaae1-9fac-4558-9093-35e8f8f6e47f"), t.setAttribute("outsystems.function.owner.name", "Accounts"), t.setAttribute("outsystems.function.owner.key", "8a32fa32-34f5-4338-b6db-4f1ce8fdd638"), t.setAttribute("outsystems.function.type", "CLIENT_SCREEN_ACTION"));
                try {
                    return n.safeExecuteClientAction(n._onChangeDocumentNumber$Action, e)
                } finally {
                    t && t.end()
                }
            }, 0)
        }
        checkboxOnChange$Action(e) {
            var n = this.controller;
            return P.Logger.startActiveSpan("CheckboxOnChange__proxy", function(t) {
                t && (t.setAttribute("code.function", "CheckboxOnChange"), t.setAttribute("outsystems.function.key", "b8616c6a-308a-44c5-a388-a31c6e78942f"), t.setAttribute("outsystems.function.owner.name", "Accounts"), t.setAttribute("outsystems.function.owner.key", "8a32fa32-34f5-4338-b6db-4f1ce8fdd638"), t.setAttribute("outsystems.function.type", "CLIENT_SCREEN_ACTION"));
                try {
                    return n.safeExecuteClientAction(n._checkboxOnChange$Action, e)
                } finally {
                    t && t.end()
                }
            }, 0)
        }
        get updateIDVData$Action() {
            return this.hasOwnProperty("_updateIDVData$Action") || (this._updateIDVData$Action = function() {
                return Promise.resolve()
            }), this._updateIDVData$Action
        }
        set updateIDVData$Action(e) {
            this._updateIDVData$Action = e
        }
        get onInitializeEventHandler() {
            return this.hasOwnProperty("_onInitializeEventHandler") || (this._onInitializeEventHandler = null), this._onInitializeEventHandler
        }
        set onInitializeEventHandler(e) {
            this._onInitializeEventHandler = e
        }
        get onReadyEventHandler() {
            return this.hasOwnProperty("_onReadyEventHandler") || (this._onReadyEventHandler = null), this._onReadyEventHandler
        }
        set onReadyEventHandler(e) {
            this._onReadyEventHandler = e
        }
        get onRenderEventHandler() {
            return this.hasOwnProperty("_onRenderEventHandler") || (this._onRenderEventHandler = null), this._onRenderEventHandler
        }
        set onRenderEventHandler(e) {
            this._onRenderEventHandler = e
        }
        get onDestroyEventHandler() {
            return this.hasOwnProperty("_onDestroyEventHandler") || (this._onDestroyEventHandler = null), this._onDestroyEventHandler
        }
        set onDestroyEventHandler(e) {
            this._onDestroyEventHandler = e
        }
        get onParametersChangedEventHandler() {
            return this.hasOwnProperty("_onParametersChangedEventHandler") || (this._onParametersChangedEventHandler = null), this._onParametersChangedEventHandler
        }
        set onParametersChangedEventHandler(e) {
            this._onParametersChangedEventHandler = e
        }
        get handleError() {
            return this.hasOwnProperty("_handleError") || (this._handleError = function(e) {
                return controller.handleError(e)
            }), this._handleError
        }
        set handleError(e) {
            this._handleError = e
        }
        static checkPermissions() {}
        getDefaultTimeout() {
            return F.defaultTimeout
        }
    };
    a(r, "ControllerInner");
    let m = r;
    _t = m, _t.registerVariableGroupType("Accounts.ProofOfIdentity.IDVDocumentNumber.OnChangeAdditionalDocumentNumber$validateAdditionalDocumentNumberJSResult", [{
        name: "ErrorMessage",
        attrName: "errorMessageOut",
        mandatory: !0,
        dataType: P.DataTypes.DataTypes.Text,
        defaultValue: a(function() {
            return ""
        }, "defaultValue")
    }]), _t.registerVariableGroupType("Accounts.ProofOfIdentity.IDVDocumentNumber.OnChangeDocumentNumber$validateDocumentNumberJSResult", [{
        name: "ErrorMessage",
        attrName: "errorMessageOut",
        mandatory: !0,
        dataType: P.DataTypes.DataTypes.Text,
        defaultValue: a(function() {
            return ""
        }, "defaultValue")
    }])
}
var _t, br = new P.Controller.ControllerFactory(_t, H);
var ce = D,
    qi = T.PlaceholderContent,
    ji = T.IteratorPlaceholderContent,
    Te = class Te extends M.BaseWebBlock {
        static get displayName() {
            return "ProofOfIdentity.IDVDocumentNumber"
        }
        static getAttributes() {
            return {
                codeFunction: "IDVDocumentNumber",
                functionKey: "ddccbc2c-7014-453a-b938-17837ec5ccd0",
                functionOwnerName: "Accounts",
                functionOwnerKey: "8a32fa32-34f5-4338-b6db-4f1ce8fdd638",
                screen: ""
            }
        }
        static getCssDependencies() {
            return ["css/OutSystemsReactWidgets.css", "css/Accounts.ProofOfIdentity.IDVDocumentNumber.css"]
        }
        static getJsDependencies() {
            return []
        }
        static getBlocks() {
            return []
        }
        get modelFactory() {
            return Yn
        }
        get controllerFactory() {
            return br
        }
        get title() {
            return ""
        }
        internalRender() {
            let r = this.model,
                l = this.controller,
                e = this.idService,
                n = l.validationService,
                t = this.widgetsRecordProvider,
                s = l.callContext(),
                i = Te.ifWidget,
                f = Te.textWidget,
                c = Te.asPrimitiveValue,
                d = Te.getTranslation,
                u = this;
            return G.createElement("div", this.getRootNodeProperties(), G.createElement(y, {
                align: 0,
                animate: !1,
                style: "display-flex flex-direction-column document-number__layout full-height",
                visible: !0,
                _idProps: {
                    service: e,
                    uuid: "0"
                },
                _widgetRecordProvider: t
            }, G.createElement(ft, {
                _validationProps: {
                    validationService: n
                },
                gridProperties: {
                    classes: "OSFillParent"
                },
                style: "form display-flex flex-direction-column row-gap-base document-number__form full-height",
                _idProps: {
                    service: e,
                    name: "Form1"
                },
                _widgetRecordProvider: t
            }, G.createElement(y, {
                align: 0,
                animate: !1,
                visible: !0,
                _idProps: {
                    service: e,
                    uuid: "2"
                },
                _widgetRecordProvider: t
            }, G.createElement(y, {
                align: 0,
                animate: !1,
                visible: !0,
                _idProps: {
                    service: e,
                    name: "DocNumberField"
                },
                _widgetRecordProvider: t
            }, G.createElement(he, {
                gridProperties: {
                    classes: "OSFillParent"
                },
                mandatory: !1,
                targetWidget: "Input_Value",
                _idProps: {
                    service: e,
                    uuid: "4"
                },
                _widgetRecordProvider: t
            }, G.createElement(z, {
                value: r.variables.selectedDocumentIn.displayNameAttr + " number",
                _idProps: {
                    service: e,
                    uuid: "5"
                },
                _widgetRecordProvider: t,
                value_dataFetchStatus: ce.Model.calculateDataFetchStatus(r.variables._selectedDocumentInDataFetchStatus)
            })), G.createElement(ge, {
                _validationProps: {
                    validationService: n,
                    validationParentId: e.getId("Form1")
                },
                enabled: !0,
                gridProperties: {
                    classes: "OSFillParent"
                },
                inputType: 0,
                mandatory: !1,
                maxLength: 50,
                onChange: a(function() {
                    var o = s.clone();
                    l.onChangeDocumentNumber$Action(l.callContext(o))
                }, "onChange"),
                prompt: "Enter your " + r.variables.selectedDocumentIn.displayNameAttr + " number",
                style: "form-control",
                variable: r.createVariable(ce.DataTypes.DataTypes.Text, r.variables.documentNumberIn.valueAttr, function(o) {
                    r.variables.documentNumberIn.valueAttr = o
                }),
                _idProps: {
                    service: e,
                    name: "Input_Value"
                },
                _widgetRecordProvider: t,
                prompt_dataFetchStatus: ce.Model.calculateDataFetchStatus(r.variables._selectedDocumentInDataFetchStatus),
                variable_dataFetchStatus: ce.Model.calculateDataFetchStatus(r.variables._documentNumberInDataFetchStatus)
            }))), i(r.variables.selectedDocumentIn.additionalDocumentAttr.displayNameAttr !== ce.BuiltinFunctions.nullTextIdentifier(), !1, this, function() {
                return [G.createElement(y, {
                    align: 0,
                    animate: !1,
                    visible: !0,
                    _idProps: {
                        service: e,
                        uuid: "7"
                    },
                    _widgetRecordProvider: t
                }, G.createElement(y, {
                    align: 0,
                    animate: !1,
                    visible: !0,
                    _idProps: {
                        service: e,
                        name: "AdditionalDoc"
                    },
                    _widgetRecordProvider: t
                }, G.createElement(he, {
                    gridProperties: {
                        classes: "OSFillParent"
                    },
                    mandatory: !1,
                    targetWidget: "AdditionalDocField",
                    _idProps: {
                        service: e,
                        uuid: "9"
                    },
                    _widgetRecordProvider: t
                }, G.createElement(z, {
                    value: r.variables.selectedDocumentIn.additionalDocumentAttr.displayNameAttr + " number",
                    _idProps: {
                        service: e,
                        uuid: "10"
                    },
                    _widgetRecordProvider: t,
                    value_dataFetchStatus: ce.Model.calculateDataFetchStatus(r.variables._selectedDocumentInDataFetchStatus)
                })), G.createElement(ge, {
                    _validationProps: {
                        validationService: n,
                        validationParentId: e.getId("Form1")
                    },
                    enabled: !0,
                    gridProperties: {
                        classes: "OSFillParent"
                    },
                    inputType: 0,
                    mandatory: !1,
                    maxLength: 50,
                    onChange: a(function() {
                        var o = s.clone();
                        l.onChangeAdditionalDocumentNumber$Action(l.callContext(o))
                    }, "onChange"),
                    prompt: "Enter your " + r.variables.selectedDocumentIn.additionalDocumentAttr.displayNameAttr + " number",
                    style: "form-control",
                    variable: r.createVariable(ce.DataTypes.DataTypes.Text, r.variables.additionalDocumentIn.valueAttr, function(o) {
                        r.variables.additionalDocumentIn.valueAttr = o
                    }),
                    _idProps: {
                        service: e,
                        name: "AdditionalDocField"
                    },
                    _widgetRecordProvider: t,
                    prompt_dataFetchStatus: ce.Model.calculateDataFetchStatus(r.variables._selectedDocumentInDataFetchStatus),
                    variable_dataFetchStatus: ce.Model.calculateDataFetchStatus(r.variables._additionalDocumentInDataFetchStatus)
                })))]
            }, function() {
                return []
            }), G.createElement(y, {
                align: 0,
                animate: !1,
                style: "display-flex flex-direction-column row-gap-xs",
                visible: !0,
                _idProps: {
                    service: e,
                    uuid: "12"
                },
                _widgetRecordProvider: t
            }, G.createElement(y, {
                align: 0,
                animate: !1,
                style: "display-flex column-gap-s align-items-center",
                visible: !0,
                _idProps: {
                    service: e,
                    uuid: "13"
                },
                _widgetRecordProvider: t
            }, G.createElement(Gn, {
                _validationProps: {
                    validationService: n,
                    validationParentId: e.getId("Form1")
                },
                enabled: r.getCachedValue(e.getId("Checkbox1.Enabled"), function() {
                    return r.widgets.get(e.getId("Input_Value")).validAttr && r.variables.documentNumberIn.valueAttr !== ce.BuiltinFunctions.nullTextIdentifier() && (r.variables.selectedDocumentIn.additionalDocumentAttr.displayNameAttr !== ce.BuiltinFunctions.nullTextIdentifier() ? r.variables.additionalDocumentIn.valueAttr !== ce.BuiltinFunctions.nullTextIdentifier() && r.widgets.get(e.getId("AdditionalDocField")).validAttr : !0)
                }, function() {
                    return r.widgets.get(e.getId("Input_Value")).validAttr
                }, function() {
                    return r.variables.documentNumberIn.valueAttr
                }, function() {
                    return r.variables.selectedDocumentIn.additionalDocumentAttr.displayNameAttr
                }, function() {
                    return r.variables.additionalDocumentIn.valueAttr
                }, function() {
                    return r.widgets.get(e.getId("AdditionalDocField")).validAttr
                }),
                onChange: a(function() {
                    var o = s.clone();
                    l.checkboxOnChange$Action(l.callContext(o))
                }, "onChange"),
                style: r.getCachedValue(e.getId("Checkbox1.Style"), function() {
                    return "checkbox" + (r.widgets.get(e.getId("Checkbox1")).validAttr ? "" : " error-state")
                }, function() {
                    return r.widgets.get(e.getId("Checkbox1")).validAttr
                }),
                variable: r.createVariable(ce.DataTypes.DataTypes.Boolean, r.variables.acceptDocumentNumberVar, function(o) {
                    r.variables.acceptDocumentNumberVar = o
                }),
                _idProps: {
                    service: e,
                    name: "Checkbox1"
                },
                _widgetRecordProvider: t,
                enabled_dataFetchStatus: ce.Model.calculateDataFetchStatus(r.variables._documentNumberInDataFetchStatus, r.variables._selectedDocumentInDataFetchStatus, r.variables._additionalDocumentInDataFetchStatus)
            }), G.createElement(he, {
                gridProperties: {
                    classes: "OSFillParent"
                },
                targetWidget: "Checkbox1",
                _idProps: {
                    service: e,
                    uuid: "15"
                },
                _widgetRecordProvider: t
            }, "I confirm that the name and date of birth on my identity document match my personal details.")))), G.createElement(y, {
                align: 0,
                animate: !1,
                style: "display-flex document-number__footer",
                visible: !0,
                _idProps: {
                    service: e,
                    uuid: "16"
                },
                _widgetRecordProvider: t
            }, G.createElement(y, {
                align: 0,
                animate: !1,
                style: "document-number__section-content",
                visible: !0,
                _idProps: {
                    service: e,
                    uuid: "17"
                },
                _widgetRecordProvider: t
            }, G.createElement(ue, {
                enabled: !0,
                extendedProperties: {
                    style: "border-radius: 100px; height: 40px; margin-top: 0px;"
                },
                isDefault: !1,
                onClick: a(function() {
                    return u.validateWidget(""), Promise.resolve().then(function() {
                        var o = s.clone();
                        return l.verifyOnClick$Action(l.callContext(o))
                    })
                }, "onClick"),
                style: "btn btn-primary document-number__btn",
                visible: !0,
                _idProps: {
                    service: e,
                    uuid: "18"
                },
                _widgetRecordProvider: t
            }, G.createElement(_, {
                extendedProperties: {
                    style: "font-size: 14px;"
                },
                text: ["Verify"],
                _idProps: {
                    service: e,
                    uuid: "19"
                },
                _widgetRecordProvider: t
            }))))))
        }
    };
a(Te, "View");
var rn = Te,
    At = rn;
var je = re(ie());

function on(m, r, l, e) {
    window.onfidoUtils ? m.ISOCountryCode = window.onfidoUtils.convertAlpha3toAlpha2(m.SelectedCountry) : (console.log("OnfidoUtils not loaded"), m.ISOCountryCode = m.SelectedCountry)
}
a(on, "default");

function an(m, r, l, e) {
    return new Promise(function(n, t) {
        window.onfidoUtils || console.log("OnfidoUtils not loaded");
        let s = null,
            i = a(c => Qe(this, null, function*() {
                yield s.tearDown();
                let d = Object.keys(c).map(o => {
                        var v;
                        return (v = c[o]) == null ? void 0 : v.id
                    }),
                    u = !1;
                if (d != null && d.length) {
                    let o = JSON.stringify(d);
                    u = yield r.UploadOnfidoDocument(o), n()
                }
                r.UploadCompleted(!!u), n()
            }), "handleComplete"),
            f = a(c => Qe(this, null, function*() {
                s = yield window.Onfido.init({
                    token: m.Token,
                    containerEl: document.querySelector(".onfido-container"),
                    useMemoryHistory: !0,
                    useModal: !1,
                    steps: [{
                        type: "document",
                        options: {
                            documentTypes: {
                                [m.SelectedDocumentType]: {
                                    country: c
                                }
                            },
                            hideCountrySelection: !0
                        }
                    }, "face"],
                    onComplete: i
                }), n()
            }), "configureOnfido");
        if (!window.Onfido) console.log("Onfido not loaded");
        else try {
            let c = window.onfidoUtils.convertAlpha2toAlpha3(m.Country);
            f(c), console.log("Resolved")
        } catch (c) {
            console.log("Error while setting up Onfido: ", c)
        }
    })
}
a(an, "default");

function sn(m, r, l) {
    return new Promise(function(e, n) {
        setTimeout(() => {
            e()
        }, 2e3)
    })
}
a(sn, "default");
var O = D; {
    let r = class r extends O.Controller.BaseViewController {
        constructor(e, n, t) {
            super(e, n, t);
            var s = this.controller;
            this.clientActionProxies = {
                uploadCompleted$Action: a(function(i) {
                    return i = i === void 0 ? !1 : i, s.executeActionInsideJSNode(s._uploadCompleted$Action.bind(s, O.DataConversion.JSNodeParamConverter.from(i, O.DataTypes.DataTypes.Boolean)), s.callContext(), function(f) {
                        return {}
                    }, function() {}, "UploadCompleted")
                }, "uploadCompleted$Action")
            }, this.dataFetchDependenciesOriginal = {}, this.dataFetchDependentsGraph = {}, this.shouldSendClientVarsToDataSources = !1
        }
        get dataFetchActionNames() {
            return this.hasOwnProperty("_dataFetchActionNames") || (this._dataFetchActionNames = []), this._dataFetchActionNames
        }
        set dataFetchActionNames(e) {
            this._dataFetchActionNames = e
        }
        get _onReady$Action() {
            return this.hasOwnProperty("__onReady$Action") || (this.__onReady$Action = function(e) {
                var n = this.model,
                    t = this.controller,
                    s = this.idService;
                return O.Logger.startActiveSpan("OnReady", function(i) {
                    return i && (i.setAttribute("code.function", "OnReady"), i.setAttribute("outsystems.function.key", "55d95980-e666-4b55-86f8-a8b27aa65749"), i.setAttribute("outsystems.function.owner.name", "Accounts"), i.setAttribute("outsystems.function.owner.key", "8a32fa32-34f5-4338-b6db-4f1ce8fdd638"), i.setAttribute("outsystems.function.type", "CLIENT_SCREEN_ACTION")), O.Flow.tryFinally(function() {
                        return t.ensureControllerAlive("OnReady"), e = t.callContext(e), O.Flow.executeAsyncFlow(function() {
                            return n.flush(), O.SystemActions.requireScript("https://sdk.onfido.com/v14", e).then(function() {
                                return t._initOnfido$Action(e)
                            })
                        })
                    }, function() {
                        i && i.end()
                    })
                }, 1)
            }), this.__onReady$Action
        }
        set _onReady$Action(e) {
            this.__onReady$Action = e
        }
        get _initOnfido$Action() {
            return this.hasOwnProperty("__initOnfido$Action") || (this.__initOnfido$Action = function(e) {
                var n = this.model,
                    t = this.controller,
                    s = this.idService;
                return O.Logger.startActiveSpan("InitOnfido", function(i) {
                    return i && (i.setAttribute("code.function", "InitOnfido"), i.setAttribute("outsystems.function.key", "9093e96d-7b6e-44a7-8efc-24d56d8f72a4"), i.setAttribute("outsystems.function.owner.name", "Accounts"), i.setAttribute("outsystems.function.owner.key", "8a32fa32-34f5-4338-b6db-4f1ce8fdd638"), i.setAttribute("outsystems.function.type", "CLIENT_SCREEN_ACTION")), O.Flow.tryFinally(function() {
                        t.ensureControllerAlive("InitOnfido"), e = t.callContext(e);
                        var f = new O.DataTypes.VariableHolder,
                            c = new O.DataTypes.VariableHolder;
                        return O.Flow.executeAsyncFlow(function() {
                            return c.value = O.Logger.startActiveSpan("GetISOCountryCode", function(d) {
                                d && (d.setAttribute("code.function", "GetISOCountryCode"), d.setAttribute("outsystems.function.key", "7bc2036d-65f5-4bc4-b647-2f2a20cafb50"), d.setAttribute("outsystems.function.owner.name", "Accounts"), d.setAttribute("outsystems.function.owner.key", "8a32fa32-34f5-4338-b6db-4f1ce8fdd638"), d.setAttribute("outsystems.function.type", "JAVASCRIPT"));
                                try {
                                    return t.safeExecuteJSNode(on, "GetISOCountryCode", "InitOnfido", {
                                        SelectedCountry: O.DataConversion.JSNodeParamConverter.to(n.variables.selectedCountryIn, O.DataTypes.DataTypes.Text),
                                        ISOCountryCode: O.DataConversion.JSNodeParamConverter.to("", O.DataTypes.DataTypes.Text)
                                    }, function(u) {
                                        var o = new(t.constructor.getVariableGroupType("Accounts.ProofOfIdentity.Onfido.InitOnfido$getISOCountryCodeJSResult"));
                                        return o.iSOCountryCodeOut = O.DataConversion.JSNodeParamConverter.from(u.ISOCountryCode, O.DataTypes.DataTypes.Text), o
                                    }, {}, {})
                                } finally {
                                    d && d.end()
                                }
                            }, 1), n.flush(), me.fetchServiceToken$Action(V.getServer(), V.getAuthToken(), V.getAppId(), "en", function() {
                                var d = new ct;
                                return d.serviceAttr = "onfido", d.countryAttr = c.value.iSOCountryCodeOut, d
                            }(), e).then(function(d) {
                                f.value = d
                            }).then(function() {
                                return O.Flow.executeSequence(function() {
                                    if (f.value.responseOut.errorAttr.codeAttr !== O.BuiltinFunctions.nullTextIdentifier()) O.FeedbackMessageService.showFeedbackMessage("Sorry, an error occurred while processing your request.", 3);
                                    else return O.Logger.startActiveSpan("InitializeOnfido", function(d) {
                                        d && (d.setAttribute("code.function", "InitializeOnfido"), d.setAttribute("outsystems.function.key", "b213309a-749d-4502-9b16-43b8ed7a76d9"), d.setAttribute("outsystems.function.owner.name", "Accounts"), d.setAttribute("outsystems.function.owner.key", "8a32fa32-34f5-4338-b6db-4f1ce8fdd638"), d.setAttribute("outsystems.function.type", "JAVASCRIPT"));
                                        try {
                                            return t.safeExecuteAsyncJSNode(an, "InitializeOnfido", "InitOnfido", {
                                                Token: O.DataConversion.JSNodeParamConverter.to(f.value.responseOut.serviceTokenAttr.onfidoAttr.tokenAttr, O.DataTypes.DataTypes.Text),
                                                Country: O.DataConversion.JSNodeParamConverter.to(n.variables.selectedCountryIn, O.DataTypes.DataTypes.Text),
                                                SelectedDocumentType: O.DataConversion.JSNodeParamConverter.to(n.variables.selectedDocumentIn, O.DataTypes.DataTypes.Text)
                                            }, function(u) {}, {
                                                UploadOnfidoDocument: F.clientActionProxies.uploadOnfidoDocument$Action,
                                                UploadCompleted: t.clientActionProxies.uploadCompleted$Action
                                            }, {})
                                        } finally {
                                            d && d.end()
                                        }
                                    }, 1)
                                })
                            })
                        })
                    }, function() {
                        i && i.end()
                    })
                }, 1)
            }), this.__initOnfido$Action
        }
        set _initOnfido$Action(e) {
            this.__initOnfido$Action = e
        }
        get _uploadCompleted$Action() {
            return this.hasOwnProperty("__uploadCompleted$Action") || (this.__uploadCompleted$Action = function(e, n) {
                var t = this.model,
                    s = this.controller,
                    i = this.idService;
                return O.Logger.startActiveSpan("UploadCompleted", function(f) {
                    return f && (f.setAttribute("code.function", "UploadCompleted"), f.setAttribute("outsystems.function.key", "bd02f76d-dd0e-4b9b-a419-836fc65a356a"), f.setAttribute("outsystems.function.owner.name", "Accounts"), f.setAttribute("outsystems.function.owner.key", "8a32fa32-34f5-4338-b6db-4f1ce8fdd638"), f.setAttribute("outsystems.function.type", "CLIENT_SCREEN_ACTION")), O.Flow.tryFinally(function() {
                        s.ensureControllerAlive("UploadCompleted"), n = s.callContext(n);
                        var c = new O.DataTypes.VariableHolder(new(s.constructor.getVariableGroupType("Accounts.ProofOfIdentity.Onfido.UploadCompleted$vars")));
                        return c.value.statusInLocal = e, O.Flow.executeAsyncFlow(function() {
                            return O.Flow.executeSequence(function() {
                                if (c.value.statusInLocal) return O.FeedbackMessageService.showFeedbackMessage("Data submitted", 1), t.variables.isLoadingVar = !0, O.Logger.startActiveSpan("Sleep", function(d) {
                                    d && (d.setAttribute("code.function", "Sleep"), d.setAttribute("outsystems.function.key", "b5a61f1b-7329-46ed-89c7-b76547107e8b"), d.setAttribute("outsystems.function.owner.name", "Accounts"), d.setAttribute("outsystems.function.owner.key", "8a32fa32-34f5-4338-b6db-4f1ce8fdd638"), d.setAttribute("outsystems.function.type", "JAVASCRIPT"));
                                    try {
                                        return s.safeExecuteAsyncJSNode(sn, "Sleep", "UploadCompleted", null, function(u) {}, {}, {})
                                    } finally {
                                        d && d.end()
                                    }
                                }, 1).then(function() {
                                    return t.variables.isLoadingVar = !1, O.Flow.returnAsync(O.Navigation.navigateTo(O.Navigation.generateScreenURL("Accounts", "ProofOfIdentityStatus", {}), O.Transitions.createTransition(O.Transitions.TransitionAnimation.Default), n, !0))
                                });
                                O.FeedbackMessageService.showFeedbackMessage("Data could not be submitted", 3)
                            })
                        })
                    }, function() {
                        f && f.end()
                    })
                }, 1)
            }), this.__uploadCompleted$Action
        }
        set _uploadCompleted$Action(e) {
            this.__uploadCompleted$Action = e
        }
        onReady$Action(e) {
            var n = this.controller;
            return O.Logger.startActiveSpan("OnReady__proxy", function(t) {
                return t && (t.setAttribute("code.function", "OnReady"), t.setAttribute("outsystems.function.key", "55d95980-e666-4b55-86f8-a8b27aa65749"), t.setAttribute("outsystems.function.owner.name", "Accounts"), t.setAttribute("outsystems.function.owner.key", "8a32fa32-34f5-4338-b6db-4f1ce8fdd638"), t.setAttribute("outsystems.function.type", "CLIENT_SCREEN_ACTION")), O.Flow.tryFinally(function() {
                    return n.safeExecuteClientAction(n._onReady$Action, e)
                }, function() {
                    t && t.end()
                })
            }, 0)
        }
        initOnfido$Action(e) {
            var n = this.controller;
            return O.Logger.startActiveSpan("InitOnfido__proxy", function(t) {
                return t && (t.setAttribute("code.function", "InitOnfido"), t.setAttribute("outsystems.function.key", "9093e96d-7b6e-44a7-8efc-24d56d8f72a4"), t.setAttribute("outsystems.function.owner.name", "Accounts"), t.setAttribute("outsystems.function.owner.key", "8a32fa32-34f5-4338-b6db-4f1ce8fdd638"), t.setAttribute("outsystems.function.type", "CLIENT_SCREEN_ACTION")), O.Flow.tryFinally(function() {
                    return n.safeExecuteClientAction(n._initOnfido$Action, e)
                }, function() {
                    t && t.end()
                })
            }, 0)
        }
        uploadCompleted$Action(e, n) {
            var t = this.controller;
            return O.Logger.startActiveSpan("UploadCompleted__proxy", function(s) {
                return s && (s.setAttribute("code.function", "UploadCompleted"), s.setAttribute("outsystems.function.key", "bd02f76d-dd0e-4b9b-a419-836fc65a356a"), s.setAttribute("outsystems.function.owner.name", "Accounts"), s.setAttribute("outsystems.function.owner.key", "8a32fa32-34f5-4338-b6db-4f1ce8fdd638"), s.setAttribute("outsystems.function.type", "CLIENT_SCREEN_ACTION")), O.Flow.tryFinally(function() {
                    return t.safeExecuteClientAction(t._uploadCompleted$Action, n, e)
                }, function() {
                    s && s.end()
                })
            }, 0)
        }
        get onInitializeEventHandler() {
            return this.hasOwnProperty("_onInitializeEventHandler") || (this._onInitializeEventHandler = null), this._onInitializeEventHandler
        }
        set onInitializeEventHandler(e) {
            this._onInitializeEventHandler = e
        }
        get onReadyEventHandler() {
            return this.hasOwnProperty("_onReadyEventHandler") || (this._onReadyEventHandler = function(e) {
                var n = this.controller,
                    t = this.model,
                    s = this.idService;
                return n.onReady$Action(e)
            }), this._onReadyEventHandler
        }
        set onReadyEventHandler(e) {
            this._onReadyEventHandler = e
        }
        get onRenderEventHandler() {
            return this.hasOwnProperty("_onRenderEventHandler") || (this._onRenderEventHandler = null), this._onRenderEventHandler
        }
        set onRenderEventHandler(e) {
            this._onRenderEventHandler = e
        }
        get onDestroyEventHandler() {
            return this.hasOwnProperty("_onDestroyEventHandler") || (this._onDestroyEventHandler = null), this._onDestroyEventHandler
        }
        set onDestroyEventHandler(e) {
            this._onDestroyEventHandler = e
        }
        get onParametersChangedEventHandler() {
            return this.hasOwnProperty("_onParametersChangedEventHandler") || (this._onParametersChangedEventHandler = null), this._onParametersChangedEventHandler
        }
        set onParametersChangedEventHandler(e) {
            this._onParametersChangedEventHandler = e
        }
        get handleError() {
            return this.hasOwnProperty("_handleError") || (this._handleError = function(e) {
                return controller.handleError(e)
            }), this._handleError
        }
        set handleError(e) {
            this._handleError = e
        }
        static checkPermissions() {}
        getDefaultTimeout() {
            return F.defaultTimeout
        }
    };
    a(r, "ControllerInner");
    let m = r;
    St = m, St.registerVariableGroupType("Accounts.ProofOfIdentity.Onfido.InitOnfido$getISOCountryCodeJSResult", [{
        name: "ISOCountryCode",
        attrName: "iSOCountryCodeOut",
        mandatory: !0,
        dataType: O.DataTypes.DataTypes.Text,
        defaultValue: a(function() {
            return ""
        }, "defaultValue")
    }]), St.registerVariableGroupType("Accounts.ProofOfIdentity.Onfido.UploadCompleted$vars", [{
        name: "Status",
        attrName: "statusInLocal",
        mandatory: !0,
        dataType: O.DataTypes.DataTypes.Boolean,
        defaultValue: a(function() {
            return !1
        }, "defaultValue")
    }])
}
var St, gr = new O.Controller.ControllerFactory(St, H);
var Tr = T.PlaceholderContent,
    Do = T.IteratorPlaceholderContent,
    Re = class Re extends M.BaseWebBlock {
        static get displayName() {
            return "ProofOfIdentity.Onfido"
        }
        static getAttributes() {
            return {
                codeFunction: "Onfido",
                functionKey: "8fb3eff1-336b-495a-b350-b2e4ff62d55c",
                functionOwnerName: "Accounts",
                functionOwnerKey: "8a32fa32-34f5-4338-b6db-4f1ce8fdd638",
                screen: ""
            }
        }
        static getCssDependencies() {
            return ["css/OutSystemsReactWidgets.css", "css/Accounts.ProofOfIdentity.Onfido.css"]
        }
        static getJsDependencies() {
            return ["scripts/Accounts.UserScripts.OnfidoUtils.js"]
        }
        static getBlocks() {
            return [X, j]
        }
        get modelFactory() {
            return Qn
        }
        get controllerFactory() {
            return gr
        }
        get title() {
            return ""
        }
        internalRender() {
            let r = this.model,
                l = this.controller,
                e = this.idService,
                n = l.validationService,
                t = this.widgetsRecordProvider,
                s = l.callContext(),
                i = Re.ifWidget,
                f = Re.textWidget,
                c = Re.asPrimitiveValue,
                d = Re.getTranslation,
                u = this;
            return je.createElement("div", this.getRootNodeProperties(), je.createElement(y, {
                align: 0,
                animate: !1,
                style: "full-height display-flex flex-direction-column onfido-service__layout",
                visible: !0,
                _idProps: {
                    service: e,
                    uuid: "0"
                },
                _widgetRecordProvider: t
            }, je.createElement(X, {
                getOwnerSpan: a(function() {
                    return u.getChildSpan("render")
                }, "getOwnerSpan"),
                getOwnerDisposeSpan: a(function() {
                    return u.getChildSpan("destroy")
                }, "getOwnerDisposeSpan"),
                inputs: {
                    ShouldDisplayBackButton: !1,
                    Title: "Verify your identity"
                },
                events: {
                    _handleError: a(function(o) {
                        l.handleError(o)
                    }, "_handleError")
                },
                _validationProps: {
                    validationService: n
                },
                _idProps: {
                    service: e,
                    uuid: "1",
                    alias: "1"
                },
                _widgetRecordProvider: t,
                placeholders: {
                    additionalcontent: Tr.Empty
                },
                _dependencies: []
            }), i(r.variables.isLoadingVar, !1, this, function() {
                return [je.createElement(j, {
                    getOwnerSpan: a(function() {
                        return u.getChildSpan("render")
                    }, "getOwnerSpan"),
                    getOwnerDisposeSpan: a(function() {
                        return u.getChildSpan("destroy")
                    }, "getOwnerDisposeSpan"),
                    inputs: {},
                    events: {
                        _handleError: a(function(o) {
                            l.handleError(o)
                        }, "_handleError")
                    },
                    _validationProps: {
                        validationService: n
                    },
                    _idProps: {
                        service: e,
                        uuid: "2",
                        alias: "2"
                    },
                    _widgetRecordProvider: t,
                    _dependencies: []
                })]
            }, function() {
                return [je.createElement(Jn, {
                    extendedProperties: {
                        className: "onfido-container"
                    },
                    tag: "div",
                    _idProps: {
                        service: e,
                        uuid: "3"
                    },
                    _widgetRecordProvider: t
                })]
            })))
        }
    };
a(Re, "View");
var cn = Re,
    Dt = cn;
var Ke = re(ie());

function ln(m, r, l, e) {
    let n = m.countryCode.toUpperCase(),
        t = [m.documenttype];
    console.log("==>", n, t)
}
a(ln, "default");

function un(m, r, l, e) {
    console.log("==>", m.SelectedCountryCode, m.SelectedDocument);
    let n = a(s => {
        let i = m.CallbackURL,
            f = "1091",
            c = m.SelectedCountryCode.toUpperCase(),
            d = [m.SelectedDocument.toUpperCase()];
        SmileIdentity({
            use_new_component: !0,
            allow_agent_mode: !1,
            document_capture_modes: ["camera", "upload"],
            token: s,
            product: "doc_verification",
            callback_url: i,
            environment: "live",
            partner_details: {
                partner_id: f,
                name: "Deriv",
                theme_color: "#ff444f"
            },
            id_selection: {
                [c]: d
            },
            onSuccess: a(u => {
                console.log("SmileIdentityWebIntegration: onSuccess", u), r.OnCloseSmileID("success")
            }, "onSuccess"),
            onClose: a(() => {
                console.log("SmileIdentityWebIntegration: onClose"), r.OnCloseSmileID("closed")
            }, "onClose"),
            onError: a(() => {
                console.log("SmileIdentityWebIntegration: onError"), r.OnCloseSmileID("error")
            }, "onError")
        })
    }, "configureSmileIdentityWebIntegration");
    a(() => Qe(this, null, function*() {
        if (n(m.token, "doc_verification"), m.token) {
            if (document.querySelector("iframe")) {
                let s = document.querySelector("iframe");
                document.querySelector(".SmileIDContainer").append(s)
            }
            m.Loaded = !0
        }
    }), "initSmileIdentity")()
}
a(un, "default");
var g = D; {
    let r = class r extends g.Controller.BaseViewController {
        constructor(e, n, t) {
            super(e, n, t);
            var s = this.controller;
            this.clientActionProxies = {
                onCloseSmileID$Action: a(function(i) {
                    return i = i === void 0 ? "" : i, s.executeActionInsideJSNode(s._onCloseSmileID$Action.bind(s, g.DataConversion.JSNodeParamConverter.from(i, g.DataTypes.DataTypes.Text)), s.callContext(), function(f) {
                        return {}
                    }, function() {}, "OnCloseSmileID")
                }, "onCloseSmileID$Action")
            }, this.dataFetchDependenciesOriginal = {}, this.dataFetchDependentsGraph = {}, this.shouldSendClientVarsToDataSources = !1
        }
        get dataFetchActionNames() {
            return this.hasOwnProperty("_dataFetchActionNames") || (this._dataFetchActionNames = []), this._dataFetchActionNames
        }
        set dataFetchActionNames(e) {
            this._dataFetchActionNames = e
        }
        get _onCloseSmileID$Action() {
            return this.hasOwnProperty("__onCloseSmileID$Action") || (this.__onCloseSmileID$Action = function(e, n) {
                var t = this.model,
                    s = this.controller,
                    i = this.idService;
                return g.Logger.startActiveSpan("OnCloseSmileID", function(f) {
                    return f && (f.setAttribute("code.function", "OnCloseSmileID"), f.setAttribute("outsystems.function.key", "3e67078a-8ebc-4cae-a369-2eec44d48dcf"), f.setAttribute("outsystems.function.owner.name", "Accounts"), f.setAttribute("outsystems.function.owner.key", "8a32fa32-34f5-4338-b6db-4f1ce8fdd638"), f.setAttribute("outsystems.function.type", "CLIENT_SCREEN_ACTION")), g.Flow.tryFinally(function() {
                        s.ensureControllerAlive("OnCloseSmileID"), n = s.callContext(n);
                        var c = new g.DataTypes.VariableHolder(new(s.constructor.getVariableGroupType("Accounts.ProofOfIdentity.SmileIDVerification.OnCloseSmileID$vars")));
                        c.value.statusInLocal = e;
                        var d = new g.DataTypes.VariableHolder;
                        return g.Flow.executeAsyncFlow(function() {
                            return g.Flow.executeSequence(function() {
                                return c.value.statusInLocal === "success" ? (t.flush(), F.uploadSmileIDDocument$Action(n).then(function(u) {
                                    d.value = u
                                }).then(function() {
                                    F.logger$Action(c.value.statusInLocal, "==>", n)
                                }).then(function() {
                                    if (d.value.isSuccessOut === 1) return g.FeedbackMessageService.showFeedbackMessage("Uploaded successfully", 0), g.Flow.returnAsync(g.Navigation.navigateTo(g.Navigation.generateScreenURL("Accounts", "ProofOfIdentityStatus", {}), g.Transitions.createTransition(g.Transitions.TransitionAnimation.Default), n, !0));
                                    g.FeedbackMessageService.showFeedbackMessage("Document did not uploaded successfully", 3)
                                })) : c.value.statusInLocal === "error" ? (g.FeedbackMessageService.showFeedbackMessage("Something went wrong", 3), g.Flow.returnAsync(g.Navigation.navigateTo(g.Navigation.generateScreenURL("Accounts", "ProofOfIdentity", {}), g.Transitions.createTransition(g.Transitions.TransitionAnimation.Default), n, !0))) : c.value.statusInLocal === "closed" ? (g.FeedbackMessageService.showFeedbackMessage("You have cloased identity verification", 2), g.Flow.returnAsync(g.Navigation.navigateTo(g.Navigation.generateScreenURL("Accounts", "Verification", {}), g.Transitions.createTransition(g.Transitions.TransitionAnimation.Default), n, !0))) : (g.FeedbackMessageService.showFeedbackMessage("You have cloased identity verification", 2), g.Flow.returnAsync(g.Navigation.navigateTo(g.Navigation.generateScreenURL("Accounts", "Verification", {}), g.Transitions.createTransition(g.Transitions.TransitionAnimation.Default), n, !0)))
                            })
                        })
                    }, function() {
                        f && f.end()
                    })
                }, 1)
            }), this.__onCloseSmileID$Action
        }
        set _onCloseSmileID$Action(e) {
            this.__onCloseSmileID$Action = e
        }
        get _initSmileID$Action() {
            return this.hasOwnProperty("__initSmileID$Action") || (this.__initSmileID$Action = function(e) {
                var n = this.model,
                    t = this.controller,
                    s = this.idService;
                return g.Logger.startActiveSpan("InitSmileID", function(i) {
                    return i && (i.setAttribute("code.function", "InitSmileID"), i.setAttribute("outsystems.function.key", "ef29c96a-cfed-4fe3-ab2c-41c43b4ed4fe"), i.setAttribute("outsystems.function.owner.name", "Accounts"), i.setAttribute("outsystems.function.owner.key", "8a32fa32-34f5-4338-b6db-4f1ce8fdd638"), i.setAttribute("outsystems.function.type", "CLIENT_SCREEN_ACTION")), g.Flow.tryFinally(function() {
                        t.ensureControllerAlive("InitSmileID"), e = t.callContext(e);
                        var f = new g.DataTypes.VariableHolder,
                            c = new g.DataTypes.VariableHolder;
                        return g.Flow.executeAsyncFlow(function() {
                            return g.Logger.startActiveSpan("JavaScript3", function(d) {
                                d && (d.setAttribute("code.function", "JavaScript3"), d.setAttribute("outsystems.function.key", "3d38f904-02d3-4a9a-83b6-85afbb43c06a"), d.setAttribute("outsystems.function.owner.name", "Accounts"), d.setAttribute("outsystems.function.owner.key", "8a32fa32-34f5-4338-b6db-4f1ce8fdd638"), d.setAttribute("outsystems.function.type", "JAVASCRIPT"));
                                try {
                                    return t.safeExecuteJSNode(ln, "JavaScript3", "InitSmileID", {
                                        countryCode: g.DataConversion.JSNodeParamConverter.to(n.variables.selectedCountryIn, g.DataTypes.DataTypes.Text),
                                        documenttype: g.DataConversion.JSNodeParamConverter.to(n.variables.selectedDocumentIn, g.DataTypes.DataTypes.Text)
                                    }, function(u) {}, {}, {})
                                } finally {
                                    d && d.end()
                                }
                            }, 1), n.flush(), me.fetchServiceToken$Action(V.getServer(), V.getAuthToken(), V.getAppId(), "en", function() {
                                var d = new ct;
                                return d.serviceAttr = "smileid", d.countryAttr = n.variables.selectedCountryIn, d
                            }(), e).then(function(d) {
                                f.value = d
                            }).then(function() {
                                f.value.responseOut.errorAttr.codeAttr !== g.BuiltinFunctions.nullTextIdentifier() ? g.FeedbackMessageService.showFeedbackMessage("Sorry, an error occurred while processing your request.", 3) : (c.value = g.Logger.startActiveSpan("JavaScript1", function(d) {
                                    d && (d.setAttribute("code.function", "JavaScript1"), d.setAttribute("outsystems.function.key", "b279ab61-2460-41b1-a2e2-36f7b9503efd"), d.setAttribute("outsystems.function.owner.name", "Accounts"), d.setAttribute("outsystems.function.owner.key", "8a32fa32-34f5-4338-b6db-4f1ce8fdd638"), d.setAttribute("outsystems.function.type", "JAVASCRIPT"));
                                    try {
                                        return t.safeExecuteJSNode(un, "JavaScript1", "InitSmileID", {
                                            SelectedCountryCode: g.DataConversion.JSNodeParamConverter.to(n.variables.selectedCountryIn, g.DataTypes.DataTypes.Text),
                                            token: g.DataConversion.JSNodeParamConverter.to(f.value.responseOut.serviceTokenAttr.smileidAttr.tokenAttr, g.DataTypes.DataTypes.Text),
                                            CallbackURL: g.DataConversion.JSNodeParamConverter.to(f.value.responseOut.serviceTokenAttr.smileidAttr.callbackURLAttr, g.DataTypes.DataTypes.Text),
                                            SelectedDocument: g.DataConversion.JSNodeParamConverter.to(n.variables.selectedDocumentIn, g.DataTypes.DataTypes.Text),
                                            Loaded: g.DataConversion.JSNodeParamConverter.to(!1, g.DataTypes.DataTypes.Boolean)
                                        }, function(u) {
                                            var o = new(t.constructor.getVariableGroupType("Accounts.ProofOfIdentity.SmileIDVerification.InitSmileID$javaScript1JSResult"));
                                            return o.loadedOut = g.DataConversion.JSNodeParamConverter.from(u.Loaded, g.DataTypes.DataTypes.Boolean), o
                                        }, {
                                            OnCloseSmileID: t.clientActionProxies.onCloseSmileID$Action
                                        }, {})
                                    } finally {
                                        d && d.end()
                                    }
                                }, 1), F.logger$Action(n.variables.selectedCountryIn, c.value.loadedOut ? "True" : "False", e), n.variables.loadedSuccessfullyVar = c.value.loadedOut)
                            })
                        })
                    }, function() {
                        i && i.end()
                    })
                }, 1)
            }), this.__initSmileID$Action
        }
        set _initSmileID$Action(e) {
            this.__initSmileID$Action = e
        }
        get _onReady$Action() {
            return this.hasOwnProperty("__onReady$Action") || (this.__onReady$Action = function(e) {
                var n = this.model,
                    t = this.controller,
                    s = this.idService;
                return g.Logger.startActiveSpan("OnReady", function(i) {
                    return i && (i.setAttribute("code.function", "OnReady"), i.setAttribute("outsystems.function.key", "fc8786d2-f53c-4c0c-9d31-191c14276849"), i.setAttribute("outsystems.function.owner.name", "Accounts"), i.setAttribute("outsystems.function.owner.key", "8a32fa32-34f5-4338-b6db-4f1ce8fdd638"), i.setAttribute("outsystems.function.type", "CLIENT_SCREEN_ACTION")), g.Flow.tryFinally(function() {
                        return t.ensureControllerAlive("OnReady"), e = t.callContext(e), g.Flow.executeAsyncFlow(function() {
                            return n.flush(), g.SystemActions.requireScript("https://cdn.smileidentity.com/inline/v1/js/script.min.js", e).then(function() {
                                return t._initSmileID$Action(e)
                            })
                        })
                    }, function() {
                        i && i.end()
                    })
                }, 1)
            }), this.__onReady$Action
        }
        set _onReady$Action(e) {
            this.__onReady$Action = e
        }
        onCloseSmileID$Action(e, n) {
            var t = this.controller;
            return g.Logger.startActiveSpan("OnCloseSmileID__proxy", function(s) {
                return s && (s.setAttribute("code.function", "OnCloseSmileID"), s.setAttribute("outsystems.function.key", "3e67078a-8ebc-4cae-a369-2eec44d48dcf"), s.setAttribute("outsystems.function.owner.name", "Accounts"), s.setAttribute("outsystems.function.owner.key", "8a32fa32-34f5-4338-b6db-4f1ce8fdd638"), s.setAttribute("outsystems.function.type", "CLIENT_SCREEN_ACTION")), g.Flow.tryFinally(function() {
                    return t.safeExecuteClientAction(t._onCloseSmileID$Action, n, e)
                }, function() {
                    s && s.end()
                })
            }, 0)
        }
        initSmileID$Action(e) {
            var n = this.controller;
            return g.Logger.startActiveSpan("InitSmileID__proxy", function(t) {
                return t && (t.setAttribute("code.function", "InitSmileID"), t.setAttribute("outsystems.function.key", "ef29c96a-cfed-4fe3-ab2c-41c43b4ed4fe"), t.setAttribute("outsystems.function.owner.name", "Accounts"), t.setAttribute("outsystems.function.owner.key", "8a32fa32-34f5-4338-b6db-4f1ce8fdd638"), t.setAttribute("outsystems.function.type", "CLIENT_SCREEN_ACTION")), g.Flow.tryFinally(function() {
                    return n.safeExecuteClientAction(n._initSmileID$Action, e)
                }, function() {
                    t && t.end()
                })
            }, 0)
        }
        onReady$Action(e) {
            var n = this.controller;
            return g.Logger.startActiveSpan("OnReady__proxy", function(t) {
                return t && (t.setAttribute("code.function", "OnReady"), t.setAttribute("outsystems.function.key", "fc8786d2-f53c-4c0c-9d31-191c14276849"), t.setAttribute("outsystems.function.owner.name", "Accounts"), t.setAttribute("outsystems.function.owner.key", "8a32fa32-34f5-4338-b6db-4f1ce8fdd638"), t.setAttribute("outsystems.function.type", "CLIENT_SCREEN_ACTION")), g.Flow.tryFinally(function() {
                    return n.safeExecuteClientAction(n._onReady$Action, e)
                }, function() {
                    t && t.end()
                })
            }, 0)
        }
        get onInitializeEventHandler() {
            return this.hasOwnProperty("_onInitializeEventHandler") || (this._onInitializeEventHandler = null), this._onInitializeEventHandler
        }
        set onInitializeEventHandler(e) {
            this._onInitializeEventHandler = e
        }
        get onReadyEventHandler() {
            return this.hasOwnProperty("_onReadyEventHandler") || (this._onReadyEventHandler = function(e) {
                var n = this.controller,
                    t = this.model,
                    s = this.idService;
                return n.onReady$Action(e)
            }), this._onReadyEventHandler
        }
        set onReadyEventHandler(e) {
            this._onReadyEventHandler = e
        }
        get onRenderEventHandler() {
            return this.hasOwnProperty("_onRenderEventHandler") || (this._onRenderEventHandler = null), this._onRenderEventHandler
        }
        set onRenderEventHandler(e) {
            this._onRenderEventHandler = e
        }
        get onDestroyEventHandler() {
            return this.hasOwnProperty("_onDestroyEventHandler") || (this._onDestroyEventHandler = null), this._onDestroyEventHandler
        }
        set onDestroyEventHandler(e) {
            this._onDestroyEventHandler = e
        }
        get onParametersChangedEventHandler() {
            return this.hasOwnProperty("_onParametersChangedEventHandler") || (this._onParametersChangedEventHandler = null), this._onParametersChangedEventHandler
        }
        set onParametersChangedEventHandler(e) {
            this._onParametersChangedEventHandler = e
        }
        get handleError() {
            return this.hasOwnProperty("_handleError") || (this._handleError = function(e) {
                return controller.handleError(e)
            }), this._handleError
        }
        set handleError(e) {
            this._handleError = e
        }
        static checkPermissions() {}
        getDefaultTimeout() {
            return F.defaultTimeout
        }
    };
    a(r, "ControllerInner");
    let m = r;
    Ct = m, Ct.registerVariableGroupType("Accounts.ProofOfIdentity.SmileIDVerification.OnCloseSmileID$vars", [{
        name: "Status",
        attrName: "statusInLocal",
        mandatory: !0,
        dataType: g.DataTypes.DataTypes.Text,
        defaultValue: a(function() {
            return ""
        }, "defaultValue")
    }]), Ct.registerVariableGroupType("Accounts.ProofOfIdentity.SmileIDVerification.InitSmileID$javaScript1JSResult", [{
        name: "Loaded",
        attrName: "loadedOut",
        mandatory: !0,
        dataType: g.DataTypes.DataTypes.Boolean,
        defaultValue: a(function() {
            return !1
        }, "defaultValue")
    }])
}
var Ct, hr = new g.Controller.ControllerFactory(Ct, H);
var Rr = T.PlaceholderContent,
    jo = T.IteratorPlaceholderContent,
    Fe = class Fe extends M.BaseWebBlock {
        static get displayName() {
            return "ProofOfIdentity.SmileIDVerification"
        }
        static getAttributes() {
            return {
                codeFunction: "SmileIDVerification",
                functionKey: "821c80c3-f53f-40a3-9cb3-a6f4ef6d74e0",
                functionOwnerName: "Accounts",
                functionOwnerKey: "8a32fa32-34f5-4338-b6db-4f1ce8fdd638",
                screen: ""
            }
        }
        static getCssDependencies() {
            return ["css/OutSystemsReactWidgets.css", "css/Accounts.ProofOfIdentity.SmileIDVerification.css"]
        }
        static getJsDependencies() {
            return []
        }
        static getBlocks() {
            return [X, j]
        }
        get modelFactory() {
            return Xn
        }
        get controllerFactory() {
            return hr
        }
        get title() {
            return ""
        }
        internalRender() {
            let r = this.model,
                l = this.controller,
                e = this.idService,
                n = l.validationService,
                t = this.widgetsRecordProvider,
                s = l.callContext(),
                i = Fe.ifWidget,
                f = Fe.textWidget,
                c = Fe.asPrimitiveValue,
                d = Fe.getTranslation,
                u = this;
            return Ke.createElement("div", this.getRootNodeProperties(), Ke.createElement(X, {
                getOwnerSpan: a(function() {
                    return u.getChildSpan("render")
                }, "getOwnerSpan"),
                getOwnerDisposeSpan: a(function() {
                    return u.getChildSpan("destroy")
                }, "getOwnerDisposeSpan"),
                inputs: {
                    ShouldDisplayClose: !1,
                    ShouldDisplayBackButton: !1,
                    Title: "Verify your identity"
                },
                events: {
                    _handleError: a(function(o) {
                        l.handleError(o)
                    }, "_handleError")
                },
                _validationProps: {
                    validationService: n
                },
                _idProps: {
                    service: e,
                    uuid: "0",
                    alias: "1"
                },
                _widgetRecordProvider: t,
                placeholders: {
                    additionalcontent: Rr.Empty
                },
                _dependencies: []
            }), Ke.createElement(y, {
                align: 0,
                animate: !0,
                visible: !r.variables.loadedSuccessfullyVar,
                _idProps: {
                    service: e,
                    uuid: "1"
                },
                _widgetRecordProvider: t
            }, Ke.createElement(j, {
                getOwnerSpan: a(function() {
                    return u.getChildSpan("render")
                }, "getOwnerSpan"),
                getOwnerDisposeSpan: a(function() {
                    return u.getChildSpan("destroy")
                }, "getOwnerDisposeSpan"),
                inputs: {},
                events: {
                    _handleError: a(function(o) {
                        l.handleError(o)
                    }, "_handleError")
                },
                _validationProps: {
                    validationService: n
                },
                _idProps: {
                    service: e,
                    uuid: "2",
                    alias: "2"
                },
                _widgetRecordProvider: t,
                _dependencies: []
            })), Ke.createElement(y, {
                align: 0,
                animate: !1,
                style: "SmileIDContainer display-flex position-relative",
                visible: !0,
                _idProps: {
                    service: e,
                    name: "SmileIDContainer"
                },
                _widgetRecordProvider: t
            }), i(r.variables.loadedSuccessfullyVar, !1, this, function() {
                return []
            }, function() {
                return []
            }))
        }
    };
a(Fe, "View");
var dn = Fe,
    Ot = dn;
var $ = re(ie());
var S = D; {
    let r = class r extends S.Controller.BaseViewController {
        constructor(e, n, t) {
            super(e, n, t);
            var s = this.controller;
            this.clientActionProxies = {}, this.dataFetchDependenciesOriginal = {}, this.dataFetchDependentsGraph = {}, this.shouldSendClientVarsToDataSources = !1
        }
        get dataFetchActionNames() {
            return this.hasOwnProperty("_dataFetchActionNames") || (this._dataFetchActionNames = []), this._dataFetchActionNames
        }
        set dataFetchActionNames(e) {
            this._dataFetchActionNames = e
        }
        get _onNavigateBack$Action() {
            return this.hasOwnProperty("__onNavigateBack$Action") || (this.__onNavigateBack$Action = function(e) {
                var n = this.model,
                    t = this.controller,
                    s = this.idService;
                return S.Logger.startActiveSpan("OnNavigateBack", function(i) {
                    return i && (i.setAttribute("code.function", "OnNavigateBack"), i.setAttribute("outsystems.function.key", "2cdf04cd-adb0-4d89-a169-61346e01faa6"), i.setAttribute("outsystems.function.owner.name", "Accounts"), i.setAttribute("outsystems.function.owner.key", "8a32fa32-34f5-4338-b6db-4f1ce8fdd638"), i.setAttribute("outsystems.function.type", "CLIENT_SCREEN_ACTION")), S.Flow.tryFinally(function() {
                        return t.ensureControllerAlive("OnNavigateBack"), e = t.callContext(e), S.Flow.executeAsyncFlow(function() {
                            return S.Flow.executeSequence(function() {
                                if (n.variables.manualStepPosVar > 1) n.variables.manualStepPosVar = n.variables.manualStepPosVar - 1;
                                else return t.backToDocument$Action(e)
                            })
                        })
                    }, function() {
                        i && i.end()
                    })
                }, 1)
            }), this.__onNavigateBack$Action
        }
        set _onNavigateBack$Action(e) {
            this.__onNavigateBack$Action = e
        }
        get _manualDocumentUploaderMoveToNextStep$Action() {
            return this.hasOwnProperty("__manualDocumentUploaderMoveToNextStep$Action") || (this.__manualDocumentUploaderMoveToNextStep$Action = function(e, n, t) {
                var s = this.model,
                    i = this.controller,
                    f = this.idService;
                return S.Logger.startActiveSpan("ManualDocumentUploaderMoveToNextStep", function(c) {
                    c && (c.setAttribute("code.function", "ManualDocumentUploaderMoveToNextStep"), c.setAttribute("outsystems.function.key", "42d03361-d5ad-4b60-9293-49725a90cfa0"), c.setAttribute("outsystems.function.owner.name", "Accounts"), c.setAttribute("outsystems.function.owner.key", "8a32fa32-34f5-4338-b6db-4f1ce8fdd638"), c.setAttribute("outsystems.function.type", "CLIENT_SCREEN_ACTION"));
                    try {
                        i.ensureControllerAlive("ManualDocumentUploaderMoveToNextStep"), t = i.callContext(t);
                        var d = new S.DataTypes.VariableHolder(new(i.constructor.getVariableGroupType("Accounts.ProofOfIdentity.ManualVerificationService.ManualDocumentUploaderMoveToNextStep$vars")));
                        d.value.firstDocumentInLocal = e.clone(), d.value.secondDocumentInLocal = n.clone(), s.variables.selectedIdentityDocumentIn.sidesAttr.length === 1 ? (s.variables.frontImageVar = d.value.firstDocumentInLocal, s.variables.manualStepPosVar = 3) : (s.variables.frontImageVar = d.value.firstDocumentInLocal, s.variables.backImageVar = d.value.secondDocumentInLocal, s.variables.manualStepPosVar = 3)
                    } finally {
                        c && c.end()
                    }
                }, 1)
            }), this.__manualDocumentUploaderMoveToNextStep$Action
        }
        set _manualDocumentUploaderMoveToNextStep$Action(e) {
            this.__manualDocumentUploaderMoveToNextStep$Action = e
        }
        get _moveToNextStep$Action() {
            return this.hasOwnProperty("__moveToNextStep$Action") || (this.__moveToNextStep$Action = function(e) {
                var n = this.model,
                    t = this.controller,
                    s = this.idService;
                return S.Logger.startActiveSpan("MoveToNextStep", function(i) {
                    return i && (i.setAttribute("code.function", "MoveToNextStep"), i.setAttribute("outsystems.function.key", "9b08bf4d-4927-43da-96c8-712d0723548b"), i.setAttribute("outsystems.function.owner.name", "Accounts"), i.setAttribute("outsystems.function.owner.key", "8a32fa32-34f5-4338-b6db-4f1ce8fdd638"), i.setAttribute("outsystems.function.type", "CLIENT_SCREEN_ACTION")), S.Flow.tryFinally(function() {
                        t.ensureControllerAlive("MoveToNextStep"), e = t.callContext(e);
                        var f = new S.DataTypes.VariableHolder(new(t.constructor.getVariableGroupType("Accounts.ProofOfIdentity.ManualVerificationService.MoveToNextStep$vars"))),
                            c = new S.DataTypes.VariableHolder,
                            d = new S.DataTypes.VariableHolder,
                            u = new S.DataTypes.VariableHolder,
                            o = new S.DataTypes.VariableHolder,
                            v = new S.DataTypes.VariableHolder(new(S.Controller.BaseController.getJSONDeserializeOutputType(et))),
                            p = new S.DataTypes.VariableHolder(new(S.Controller.BaseController.getJSONDeserializeOutputType(et)));
                        return S.Flow.executeAsyncFlow(function() {
                            return S.Flow.executeSequence(function() {
                                if (n.variables.manualStepPosVar === 3) return e.iterationContext.registerIterationStart(n.variables.selectedIdentityDocumentIn.sidesAttr), S.Flow.tryFinally(function() {
                                    var W = e.iterationContext.getIterator(n.variables.selectedIdentityDocumentIn.sidesAttr),
                                        De = n.variables.selectedIdentityDocumentIn.sidesAttr.length,
                                        st = 0;
                                    return S.Flow.whileAsync(function() {
                                        return st < n.variables.selectedIdentityDocumentIn.sidesAttr.length && De > 0
                                    }, function() {
                                        return W.currentRowNumber = st, n.variables.selectedIdentityDocumentIn.sidesAttr.getCurrentRowNumber(e.iterationContext) === 0 ? f.value.documentToUploadVar = n.variables.frontImageVar : f.value.documentToUploadVar = n.variables.backImageVar, n.flush(), F.processFileForUpload$Action(f.value.documentToUploadVar, e).then(function(ne) {
                                            o.value = ne
                                        }).then(function() {
                                            return p.value.dataOut = S.JSONUtils.deserializeFromJSON(o.value.fileMetaDataOut, et, !1), n.flush(), F.uploadDocument$Action(o.value.fileBufferOut, function() {
                                                var ne = new kt;
                                                return ne.documentFormatAttr = p.value.dataOut.documentFormatAttr, ne.documentIDAttr = n.variables.documentNumberIn, ne.documentTypeAttr = n.variables.selectedIdentityDocumentIn.availableServicesAttr.getCurrent(e.iterationContext).documentTypeAttr, ne.expectedChecksumAttr = "", ne.expirationDateAttr = n.variables.expiryDateIn, ne.fileSizeAttr = p.value.dataOut.fileSizeAttr, ne.lifetimeValidAttr = S.BuiltinFunctions.booleanToInteger(n.variables.expiryDateIn.equals(S.BuiltinFunctions.nullDate())), ne.documentIssuingCountryAttr = n.variables.selectedCountryIn, ne.pageTypeAttr = n.variables.selectedIdentityDocumentIn.sidesAttr.getItem(st.valueOf()), ne.fileNameAttr = p.value.dataOut.fileNameAttr, ne
                                            }(), e).then(function(ne) {
                                                c.value = ne
                                            })
                                        }).then(function() {
                                            if (!c.value.uploadStatusOut.successAttr) return n.variables.errorCodeVar = c.value.uploadStatusOut.errorCodeAttr, F.logger$Action(c.value.uploadStatusOut.errorCodeAttr, "Error caught", e), S.Flow.returnAsync()
                                        }).then(function() {
                                            De--, st++
                                        })
                                    })
                                }, function() {
                                    e.iterationContext.registerIterationEnd(n.variables.selectedIdentityDocumentIn.sidesAttr)
                                }).then(function() {
                                    return n.flush(), F.processFileForUpload$Action(n.variables.selfieImageVar, e).then(function(W) {
                                        u.value = W
                                    }).then(function() {
                                        return v.value.dataOut = S.JSONUtils.deserializeFromJSON(u.value.fileMetaDataOut, et, !1), n.flush(), F.uploadDocument$Action(u.value.fileBufferOut, function() {
                                            var W = new kt;
                                            return W.documentFormatAttr = v.value.dataOut.documentFormatAttr, W.documentIDAttr = n.variables.documentNumberIn, W.documentTypeAttr = "selfie_with_id", W.expectedChecksumAttr = "", W.expirationDateAttr = n.variables.expiryDateIn, W.fileSizeAttr = v.value.dataOut.fileSizeAttr, W.documentIssuingCountryAttr = n.variables.selectedCountryIn, W.pageTypeAttr = "photo", W.fileNameAttr = v.value.dataOut.fileNameAttr, W
                                        }(), e).then(function(W) {
                                            d.value = W
                                        })
                                    })
                                }).then(function() {
                                    if (d.value.uploadStatusOut.successAttr) return S.Flow.returnAsync(S.Navigation.navigateTo(S.Navigation.generateScreenURL("Accounts", "ProofOfIdentityStatus", {}), S.Transitions.createTransition(S.Transitions.TransitionAnimation.Default), e, !0))
                                });
                                n.variables.manualStepPosVar = n.variables.manualStepPosVar + 1
                            })
                        })
                    }, function() {
                        i && i.end()
                    })
                }, 1)
            }), this.__moveToNextStep$Action
        }
        set _moveToNextStep$Action(e) {
            this.__moveToNextStep$Action = e
        }
        get _manualMobileDocumentUploaderMoveToNextStep$Action() {
            return this.hasOwnProperty("__manualMobileDocumentUploaderMoveToNextStep$Action") || (this.__manualMobileDocumentUploaderMoveToNextStep$Action = function(e, n) {
                var t = this.model,
                    s = this.controller,
                    i = this.idService;
                return S.Logger.startActiveSpan("ManualMobileDocumentUploaderMoveToNextStep", function(f) {
                    f && (f.setAttribute("code.function", "ManualMobileDocumentUploaderMoveToNextStep"), f.setAttribute("outsystems.function.key", "a9b60858-2578-4ebc-b5e7-ec9118c2716b"), f.setAttribute("outsystems.function.owner.name", "Accounts"), f.setAttribute("outsystems.function.owner.key", "8a32fa32-34f5-4338-b6db-4f1ce8fdd638"), f.setAttribute("outsystems.function.type", "CLIENT_SCREEN_ACTION"));
                    try {
                        s.ensureControllerAlive("ManualMobileDocumentUploaderMoveToNextStep"), n = s.callContext(n);
                        var c = new S.DataTypes.VariableHolder(new(s.constructor.getVariableGroupType("Accounts.ProofOfIdentity.ManualVerificationService.ManualMobileDocumentUploaderMoveToNextStep$vars")));
                        c.value.selectedFileInLocal = e.clone(), t.variables.selectedIdentityDocumentIn.sidesAttr.length === 1 ? (t.variables.frontImageVar = c.value.selectedFileInLocal, t.variables.manualStepPosVar = 3) : t.variables.currentStepVar === "FRONT" ? (t.variables.frontImageVar = c.value.selectedFileInLocal, t.variables.currentStepVar = "BACK") : (t.variables.backImageVar = c.value.selectedFileInLocal, t.variables.manualStepPosVar = 3)
                    } finally {
                        f && f.end()
                    }
                }, 1)
            }), this.__manualMobileDocumentUploaderMoveToNextStep$Action
        }
        set _manualMobileDocumentUploaderMoveToNextStep$Action(e) {
            this.__manualMobileDocumentUploaderMoveToNextStep$Action = e
        }
        get _onChangeFormDataHandler$Action() {
            return this.hasOwnProperty("__onChangeFormDataHandler$Action") || (this.__onChangeFormDataHandler$Action = function(e, n, t) {
                var s = this.model,
                    i = this.controller,
                    f = this.idService;
                return S.Logger.startActiveSpan("OnChangeFormDataHandler", function(c) {
                    return c && (c.setAttribute("code.function", "OnChangeFormDataHandler"), c.setAttribute("outsystems.function.key", "cd6a70a3-efe9-40fa-af1e-ec52621aeb03"), c.setAttribute("outsystems.function.owner.name", "Accounts"), c.setAttribute("outsystems.function.owner.key", "8a32fa32-34f5-4338-b6db-4f1ce8fdd638"), c.setAttribute("outsystems.function.type", "CLIENT_SCREEN_ACTION")), S.Flow.tryFinally(function() {
                        i.ensureControllerAlive("OnChangeFormDataHandler"), t = i.callContext(t);
                        var d = new S.DataTypes.VariableHolder(new(i.constructor.getVariableGroupType("Accounts.ProofOfIdentity.ManualVerificationService.OnChangeFormDataHandler$vars")));
                        return d.value.documentNumberFieldInLocal = e, d.value.expiryDateFieldInLocal = n, S.Flow.executeAsyncFlow(function() {
                            return s.variables.documentNumberIn = d.value.documentNumberFieldInLocal, s.variables.expiryDateIn = d.value.expiryDateFieldInLocal, i.updateDocumentDetails$Action(s.variables.documentNumberIn, s.variables.expiryDateIn, t)
                        })
                    }, function() {
                        c && c.end()
                    })
                }, 1)
            }), this.__onChangeFormDataHandler$Action
        }
        set _onChangeFormDataHandler$Action(e) {
            this.__onChangeFormDataHandler$Action = e
        }
        get _onChangeSelfieImage$Action() {
            return this.hasOwnProperty("__onChangeSelfieImage$Action") || (this.__onChangeSelfieImage$Action = function(e, n) {
                var t = this.model,
                    s = this.controller,
                    i = this.idService;
                return S.Logger.startActiveSpan("OnChangeSelfieImage", function(f) {
                    f && (f.setAttribute("code.function", "OnChangeSelfieImage"), f.setAttribute("outsystems.function.key", "eb08ebae-e2ad-44f3-be9b-79e29b5328aa"), f.setAttribute("outsystems.function.owner.name", "Accounts"), f.setAttribute("outsystems.function.owner.key", "8a32fa32-34f5-4338-b6db-4f1ce8fdd638"), f.setAttribute("outsystems.function.type", "CLIENT_SCREEN_ACTION"));
                    try {
                        s.ensureControllerAlive("OnChangeSelfieImage"), n = s.callContext(n);
                        var c = new S.DataTypes.VariableHolder(new(s.constructor.getVariableGroupType("Accounts.ProofOfIdentity.ManualVerificationService.OnChangeSelfieImage$vars")));
                        c.value.selfieFileInLocal = e.clone(), t.variables.selfieImageVar = c.value.selfieFileInLocal
                    } finally {
                        f && f.end()
                    }
                }, 1)
            }), this.__onChangeSelfieImage$Action
        }
        set _onChangeSelfieImage$Action(e) {
            this.__onChangeSelfieImage$Action = e
        }
        onNavigateBack$Action(e) {
            var n = this.controller;
            return S.Logger.startActiveSpan("OnNavigateBack__proxy", function(t) {
                return t && (t.setAttribute("code.function", "OnNavigateBack"), t.setAttribute("outsystems.function.key", "2cdf04cd-adb0-4d89-a169-61346e01faa6"), t.setAttribute("outsystems.function.owner.name", "Accounts"), t.setAttribute("outsystems.function.owner.key", "8a32fa32-34f5-4338-b6db-4f1ce8fdd638"), t.setAttribute("outsystems.function.type", "CLIENT_SCREEN_ACTION")), S.Flow.tryFinally(function() {
                    return n.safeExecuteClientAction(n._onNavigateBack$Action, e)
                }, function() {
                    t && t.end()
                })
            }, 0)
        }
        manualDocumentUploaderMoveToNextStep$Action(e, n, t) {
            var s = this.controller;
            return S.Logger.startActiveSpan("ManualDocumentUploaderMoveToNextStep__proxy", function(i) {
                i && (i.setAttribute("code.function", "ManualDocumentUploaderMoveToNextStep"), i.setAttribute("outsystems.function.key", "42d03361-d5ad-4b60-9293-49725a90cfa0"), i.setAttribute("outsystems.function.owner.name", "Accounts"), i.setAttribute("outsystems.function.owner.key", "8a32fa32-34f5-4338-b6db-4f1ce8fdd638"), i.setAttribute("outsystems.function.type", "CLIENT_SCREEN_ACTION"));
                try {
                    return s.safeExecuteClientAction(s._manualDocumentUploaderMoveToNextStep$Action, t, e, n)
                } finally {
                    i && i.end()
                }
            }, 0)
        }
        moveToNextStep$Action(e) {
            var n = this.controller;
            return S.Logger.startActiveSpan("MoveToNextStep__proxy", function(t) {
                return t && (t.setAttribute("code.function", "MoveToNextStep"), t.setAttribute("outsystems.function.key", "9b08bf4d-4927-43da-96c8-712d0723548b"), t.setAttribute("outsystems.function.owner.name", "Accounts"), t.setAttribute("outsystems.function.owner.key", "8a32fa32-34f5-4338-b6db-4f1ce8fdd638"), t.setAttribute("outsystems.function.type", "CLIENT_SCREEN_ACTION")), S.Flow.tryFinally(function() {
                    return n.safeExecuteClientAction(n._moveToNextStep$Action, e)
                }, function() {
                    t && t.end()
                })
            }, 0)
        }
        manualMobileDocumentUploaderMoveToNextStep$Action(e, n) {
            var t = this.controller;
            return S.Logger.startActiveSpan("ManualMobileDocumentUploaderMoveToNextStep__proxy", function(s) {
                s && (s.setAttribute("code.function", "ManualMobileDocumentUploaderMoveToNextStep"), s.setAttribute("outsystems.function.key", "a9b60858-2578-4ebc-b5e7-ec9118c2716b"), s.setAttribute("outsystems.function.owner.name", "Accounts"), s.setAttribute("outsystems.function.owner.key", "8a32fa32-34f5-4338-b6db-4f1ce8fdd638"), s.setAttribute("outsystems.function.type", "CLIENT_SCREEN_ACTION"));
                try {
                    return t.safeExecuteClientAction(t._manualMobileDocumentUploaderMoveToNextStep$Action, n, e)
                } finally {
                    s && s.end()
                }
            }, 0)
        }
        onChangeFormDataHandler$Action(e, n, t) {
            var s = this.controller;
            return S.Logger.startActiveSpan("OnChangeFormDataHandler__proxy", function(i) {
                return i && (i.setAttribute("code.function", "OnChangeFormDataHandler"), i.setAttribute("outsystems.function.key", "cd6a70a3-efe9-40fa-af1e-ec52621aeb03"), i.setAttribute("outsystems.function.owner.name", "Accounts"), i.setAttribute("outsystems.function.owner.key", "8a32fa32-34f5-4338-b6db-4f1ce8fdd638"), i.setAttribute("outsystems.function.type", "CLIENT_SCREEN_ACTION")), S.Flow.tryFinally(function() {
                    return s.safeExecuteClientAction(s._onChangeFormDataHandler$Action, t, e, n)
                }, function() {
                    i && i.end()
                })
            }, 0)
        }
        onChangeSelfieImage$Action(e, n) {
            var t = this.controller;
            return S.Logger.startActiveSpan("OnChangeSelfieImage__proxy", function(s) {
                s && (s.setAttribute("code.function", "OnChangeSelfieImage"), s.setAttribute("outsystems.function.key", "eb08ebae-e2ad-44f3-be9b-79e29b5328aa"), s.setAttribute("outsystems.function.owner.name", "Accounts"), s.setAttribute("outsystems.function.owner.key", "8a32fa32-34f5-4338-b6db-4f1ce8fdd638"), s.setAttribute("outsystems.function.type", "CLIENT_SCREEN_ACTION"));
                try {
                    return t.safeExecuteClientAction(t._onChangeSelfieImage$Action, n, e)
                } finally {
                    s && s.end()
                }
            }, 0)
        }
        get backToDocument$Action() {
            return this.hasOwnProperty("_backToDocument$Action") || (this._backToDocument$Action = function() {
                return Promise.resolve()
            }), this._backToDocument$Action
        }
        set backToDocument$Action(e) {
            this._backToDocument$Action = e
        }
        get updateDocumentDetails$Action() {
            return this.hasOwnProperty("_updateDocumentDetails$Action") || (this._updateDocumentDetails$Action = function() {
                return Promise.resolve()
            }), this._updateDocumentDetails$Action
        }
        set updateDocumentDetails$Action(e) {
            this._updateDocumentDetails$Action = e
        }
        get onInitializeEventHandler() {
            return this.hasOwnProperty("_onInitializeEventHandler") || (this._onInitializeEventHandler = null), this._onInitializeEventHandler
        }
        set onInitializeEventHandler(e) {
            this._onInitializeEventHandler = e
        }
        get onReadyEventHandler() {
            return this.hasOwnProperty("_onReadyEventHandler") || (this._onReadyEventHandler = null), this._onReadyEventHandler
        }
        set onReadyEventHandler(e) {
            this._onReadyEventHandler = e
        }
        get onRenderEventHandler() {
            return this.hasOwnProperty("_onRenderEventHandler") || (this._onRenderEventHandler = null), this._onRenderEventHandler
        }
        set onRenderEventHandler(e) {
            this._onRenderEventHandler = e
        }
        get onDestroyEventHandler() {
            return this.hasOwnProperty("_onDestroyEventHandler") || (this._onDestroyEventHandler = null), this._onDestroyEventHandler
        }
        set onDestroyEventHandler(e) {
            this._onDestroyEventHandler = e
        }
        get onParametersChangedEventHandler() {
            return this.hasOwnProperty("_onParametersChangedEventHandler") || (this._onParametersChangedEventHandler = null), this._onParametersChangedEventHandler
        }
        set onParametersChangedEventHandler(e) {
            this._onParametersChangedEventHandler = e
        }
        get handleError() {
            return this.hasOwnProperty("_handleError") || (this._handleError = function(e) {
                return controller.handleError(e)
            }), this._handleError
        }
        set handleError(e) {
            this._handleError = e
        }
        static checkPermissions() {}
        getDefaultTimeout() {
            return F.defaultTimeout
        }
    };
    a(r, "ControllerInner");
    let m = r;
    xe = m, xe.registerVariableGroupType("Accounts.ProofOfIdentity.ManualVerificationService.ManualDocumentUploaderMoveToNextStep$vars", [{
        name: "FirstDocument",
        attrName: "firstDocumentInLocal",
        mandatory: !0,
        dataType: S.DataTypes.DataTypes.Record,
        defaultValue: a(function() {
            return new J
        }, "defaultValue"),
        complexType: J
    }, {
        name: "SecondDocument",
        attrName: "secondDocumentInLocal",
        mandatory: !0,
        dataType: S.DataTypes.DataTypes.Record,
        defaultValue: a(function() {
            return new J
        }, "defaultValue"),
        complexType: J
    }]), xe.registerVariableGroupType("Accounts.ProofOfIdentity.ManualVerificationService.MoveToNextStep$vars", [{
        name: "DocumentToUpload",
        attrName: "documentToUploadVar",
        mandatory: !1,
        dataType: S.DataTypes.DataTypes.Record,
        defaultValue: a(function() {
            return new J
        }, "defaultValue"),
        complexType: J
    }]), xe.registerVariableGroupType("Accounts.ProofOfIdentity.ManualVerificationService.ManualMobileDocumentUploaderMoveToNextStep$vars", [{
        name: "SelectedFile",
        attrName: "selectedFileInLocal",
        mandatory: !0,
        dataType: S.DataTypes.DataTypes.Record,
        defaultValue: a(function() {
            return new J
        }, "defaultValue"),
        complexType: J
    }]), xe.registerVariableGroupType("Accounts.ProofOfIdentity.ManualVerificationService.OnChangeFormDataHandler$vars", [{
        name: "DocumentNumberField",
        attrName: "documentNumberFieldInLocal",
        mandatory: !0,
        dataType: S.DataTypes.DataTypes.Text,
        defaultValue: a(function() {
            return ""
        }, "defaultValue")
    }, {
        name: "ExpiryDateField",
        attrName: "expiryDateFieldInLocal",
        mandatory: !0,
        dataType: S.DataTypes.DataTypes.Date,
        defaultValue: a(function() {
            return S.DataTypes.DateTime.defaultValue
        }, "defaultValue")
    }]), xe.registerVariableGroupType("Accounts.ProofOfIdentity.ManualVerificationService.OnChangeSelfieImage$vars", [{
        name: "SelfieFile",
        attrName: "selfieFileInLocal",
        mandatory: !0,
        dataType: S.DataTypes.DataTypes.Record,
        defaultValue: a(function() {
            return new J
        }, "defaultValue"),
        complexType: J
    }])
}
var xe, _r = new S.Controller.ControllerFactory(xe, H);
var rt = re(ie());
var oe = D; {
    let r = class r extends oe.Controller.BaseViewController {
        constructor(e, n, t) {
            super(e, n, t);
            var s = this.controller;
            this.clientActionProxies = {}, this.dataFetchDependenciesOriginal = {}, this.dataFetchDependentsGraph = {}, this.shouldSendClientVarsToDataSources = !1
        }
        get getMessageType$ServerAction() {
            return this.hasOwnProperty("_getMessageType$ServerAction") || (this._getMessageType$ServerAction = function(e, n) {
                var t = this.controller;
                return oe.Logger.startActiveSpan("GetMessageType", function(s) {
                    return s && (s.setAttribute("code.function", "GetMessageType"), s.setAttribute("outsystems.function.key", "ff51ddb2-fce9-46fd-9b8e-2e806b393a38.#GetEntity"), s.setAttribute("outsystems.function.owner.name", "Accounts"), s.setAttribute("outsystems.function.owner.key", "8a32fa32-34f5-4338-b6db-4f1ce8fdd638"), s.setAttribute("outsystems.function.type", "CLIENT_ENTITY_ACTION")), oe.Flow.tryFinally(function() {
                        var i = {
                            Id: oe.DataConversion.ServerDataConverter.to(e, oe.DataTypes.DataTypes.Text)
                        };
                        return t.callServerAction("GetMessageType", "screenservices/Accounts/Common/MessageBanner/ssGetMessageType", "1hOWIxemOFBw57Zx53hZ8w", i, t.callContext(n), void 0, void 0, !1).then(function(f) {
                            var c = new(t.constructor.getVariableGroupType("Accounts.Common.MessageBanner$ssGetMessageType"));
                            return c.recordOut = oe.DataConversion.ServerDataConverter.from(f.Record, lt), c
                        })
                    }, function() {
                        s && s.end()
                    })
                }, 0)
            }), this._getMessageType$ServerAction
        }
        set getMessageType$ServerAction(e) {
            this._getMessageType$ServerAction = e
        }
        get dataFetchActionNames() {
            return this.hasOwnProperty("_dataFetchActionNames") || (this._dataFetchActionNames = []), this._dataFetchActionNames
        }
        set dataFetchActionNames(e) {
            this._dataFetchActionNames = e
        }
        get _onReady$Action() {
            return this.hasOwnProperty("__onReady$Action") || (this.__onReady$Action = function(e) {
                var n = this.model,
                    t = this.controller,
                    s = this.idService;
                return oe.Logger.startActiveSpan("OnReady", function(i) {
                    return i && (i.setAttribute("code.function", "OnReady"), i.setAttribute("outsystems.function.key", "372583b4-8ee8-4ba3-b2ed-62cff486e779"), i.setAttribute("outsystems.function.owner.name", "Accounts"), i.setAttribute("outsystems.function.owner.key", "8a32fa32-34f5-4338-b6db-4f1ce8fdd638"), i.setAttribute("outsystems.function.type", "CLIENT_SCREEN_ACTION")), oe.Flow.tryFinally(function() {
                        t.ensureControllerAlive("OnReady"), e = t.callContext(e);
                        var f = new oe.DataTypes.VariableHolder;
                        return oe.Flow.executeAsyncFlow(function() {
                            return n.flush(), t.getMessageType$ServerAction(oe.BuiltinFunctions.textToIdentifier(n.variables.typeIn), e).then(function(c) {
                                f.value = c
                            }).then(function() {
                                n.variables.bannerConfigVar = f.value.recordOut.messageTypeAttr
                            })
                        })
                    }, function() {
                        i && i.end()
                    })
                }, 1)
            }), this.__onReady$Action
        }
        set _onReady$Action(e) {
            this.__onReady$Action = e
        }
        onReady$Action(e) {
            var n = this.controller;
            return oe.Logger.startActiveSpan("OnReady__proxy", function(t) {
                return t && (t.setAttribute("code.function", "OnReady"), t.setAttribute("outsystems.function.key", "372583b4-8ee8-4ba3-b2ed-62cff486e779"), t.setAttribute("outsystems.function.owner.name", "Accounts"), t.setAttribute("outsystems.function.owner.key", "8a32fa32-34f5-4338-b6db-4f1ce8fdd638"), t.setAttribute("outsystems.function.type", "CLIENT_SCREEN_ACTION")), oe.Flow.tryFinally(function() {
                    return n.safeExecuteClientAction(n._onReady$Action, e)
                }, function() {
                    t && t.end()
                })
            }, 0)
        }
        get onInitializeEventHandler() {
            return this.hasOwnProperty("_onInitializeEventHandler") || (this._onInitializeEventHandler = null), this._onInitializeEventHandler
        }
        set onInitializeEventHandler(e) {
            this._onInitializeEventHandler = e
        }
        get onReadyEventHandler() {
            return this.hasOwnProperty("_onReadyEventHandler") || (this._onReadyEventHandler = function(e) {
                var n = this.controller,
                    t = this.model,
                    s = this.idService;
                return n.onReady$Action(e)
            }), this._onReadyEventHandler
        }
        set onReadyEventHandler(e) {
            this._onReadyEventHandler = e
        }
        get onRenderEventHandler() {
            return this.hasOwnProperty("_onRenderEventHandler") || (this._onRenderEventHandler = null), this._onRenderEventHandler
        }
        set onRenderEventHandler(e) {
            this._onRenderEventHandler = e
        }
        get onDestroyEventHandler() {
            return this.hasOwnProperty("_onDestroyEventHandler") || (this._onDestroyEventHandler = null), this._onDestroyEventHandler
        }
        set onDestroyEventHandler(e) {
            this._onDestroyEventHandler = e
        }
        get onParametersChangedEventHandler() {
            return this.hasOwnProperty("_onParametersChangedEventHandler") || (this._onParametersChangedEventHandler = null), this._onParametersChangedEventHandler
        }
        set onParametersChangedEventHandler(e) {
            this._onParametersChangedEventHandler = e
        }
        get handleError() {
            return this.hasOwnProperty("_handleError") || (this._handleError = function(e) {
                return controller.handleError(e)
            }), this._handleError
        }
        set handleError(e) {
            this._handleError = e
        }
        static checkPermissions() {}
        getDefaultTimeout() {
            return F.defaultTimeout
        }
    };
    a(r, "ControllerInner");
    let m = r;
    mn = m, mn.registerVariableGroupType("Accounts.Common.MessageBanner$ssGetMessageType", [{
        name: "Record",
        attrName: "recordOut",
        mandatory: !1,
        dataType: oe.DataTypes.DataTypes.Record,
        defaultValue: a(function() {
            return new lt
        }, "defaultValue"),
        complexType: lt
    }])
}
var mn, Ar = new oe.Controller.ControllerFactory(mn, H);
var Fr = D,
    va = T.PlaceholderContent,
    ya = T.IteratorPlaceholderContent,
    Ne = class Ne extends M.BaseWebBlock {
        static get displayName() {
            return "Common.MessageBanner"
        }
        static getAttributes() {
            return {
                codeFunction: "MessageBanner",
                functionKey: "a91ecc09-a727-46fa-8f03-86b5b2cd9b61",
                functionOwnerName: "Accounts",
                functionOwnerKey: "8a32fa32-34f5-4338-b6db-4f1ce8fdd638",
                screen: ""
            }
        }
        static getCssDependencies() {
            return ["css/OutSystemsReactWidgets.css", "css/Accounts.Common.MessageBanner.css"]
        }
        static getJsDependencies() {
            return []
        }
        static getBlocks() {
            return []
        }
        get modelFactory() {
            return er
        }
        get controllerFactory() {
            return Ar
        }
        get title() {
            return ""
        }
        internalRender() {
            let r = this.model,
                l = this.controller,
                e = this.idService,
                n = l.validationService,
                t = this.widgetsRecordProvider,
                s = l.callContext(),
                i = Ne.ifWidget,
                f = Ne.textWidget,
                c = Ne.asPrimitiveValue,
                d = Ne.getTranslation,
                u = this;
            return rt.createElement("div", this.getRootNodeProperties(), rt.createElement(y, {
                align: 0,
                animate: !1,
                style: "display-flex padding-s banner-message-layout font-size-xs column-gap-s align-items-flex-start " + r.variables.typeIn + "-banner",
                visible: !0,
                _idProps: {
                    service: e,
                    uuid: "0"
                },
                _widgetRecordProvider: t,
                style_dataFetchStatus: Fr.Model.calculateDataFetchStatus(r.variables._typeInDataFetchStatus)
            }, rt.createElement(U, {
                type: 1,
                url: r.variables.bannerConfigVar.iconAttr,
                _idProps: {
                    service: e,
                    uuid: "1"
                },
                _widgetRecordProvider: t
            }), rt.createElement(jn, {
                align: 0,
                content: u.props.placeholders.messageContent,
                style: "full-width",
                _idProps: {
                    service: e,
                    name: "MessageContent"
                },
                _widgetRecordProvider: t
            })))
        }
    };
a(Ne, "View");
var vn = Ne,
    Ze = vn;
var q = re(ie());

function yn(m, r, l, e) {
    let n = yup.date().required("Expiry date is required.").test({
        name: "epocDate",
        test: a(t => !dayjs(t).isBefore(dayjs(0)), "test"),
        message: "Expiry date is required"
    }).test({
        name: "validateExpiryDate",
        test: a(t => dayjs(t).isValid() && dayjs(t).isAfter(dayjs().add(6, "months")), "test"),
        message: "Document must be valid for at least 6 months."
    });
    try {
        n.validateSync(m.DOBInput), m.ErrorMessage = ""
    } catch (t) {
        m.ErrorMessage = t.message
    }
}
a(yn, "default");

function pn(m, r, l, e) {
    let n = JSON.parse(m.DocumentType),
        t = a(() => m.DocumentNumberInput === (n == null ? void 0 : n.example_format) ? "Please enter a valid ID number." : new RegExp(n.format, "i").test(m.DocumentNumberInput) ? "" : "Please enter the correct format. Example: " + (n == null ? void 0 : n.example_format), "isDocumentNumberValid"),
        s = yup.string().required(n.display_name + " is required.").test({
            name: "testDocumentNumber",
            test: a((i, f) => {
                let c = t(i);
                return c ? f.createError({
                    message: c
                }) : !0
            }, "test")
        });
    try {
        s.validateSync(m.DocumentNumberInput), m.ErrorMessage = ""
    } catch (i) {
        m.ErrorMessage = i.message
    }
}
a(pn, "default");
var C = D; {
    let r = class r extends C.Controller.BaseViewController {
        constructor(e, n, t) {
            super(e, n, t);
            var s = this.controller;
            this.clientActionProxies = {}, this.dataFetchDependenciesOriginal = {}, this.dataFetchDependentsGraph = {}, this.shouldSendClientVarsToDataSources = !1
        }
        get dataFetchActionNames() {
            return this.hasOwnProperty("_dataFetchActionNames") || (this._dataFetchActionNames = []), this._dataFetchActionNames
        }
        set dataFetchActionNames(e) {
            this._dataFetchActionNames = e
        }
        get _expiryDateOnChange$Action() {
            return this.hasOwnProperty("__expiryDateOnChange$Action") || (this.__expiryDateOnChange$Action = function(e) {
                var n = this.model,
                    t = this.controller,
                    s = this.idService;
                return C.Logger.startActiveSpan("ExpiryDateOnChange", function(i) {
                    i && (i.setAttribute("code.function", "ExpiryDateOnChange"), i.setAttribute("outsystems.function.key", "02550cdd-fefa-4415-ae46-5ffe92881aaa"), i.setAttribute("outsystems.function.owner.name", "Accounts"), i.setAttribute("outsystems.function.owner.key", "8a32fa32-34f5-4338-b6db-4f1ce8fdd638"), i.setAttribute("outsystems.function.type", "CLIENT_SCREEN_ACTION"));
                    try {
                        t.ensureControllerAlive("ExpiryDateOnChange"), e = t.callContext(e);
                        var f = new C.DataTypes.VariableHolder;
                        f.value = C.Logger.startActiveSpan("ExpiryValidate", function(c) {
                            c && (c.setAttribute("code.function", "ExpiryValidate"), c.setAttribute("outsystems.function.key", "398adf1d-a012-42d0-9b1d-07fba4d00ddc"), c.setAttribute("outsystems.function.owner.name", "Accounts"), c.setAttribute("outsystems.function.owner.key", "8a32fa32-34f5-4338-b6db-4f1ce8fdd638"), c.setAttribute("outsystems.function.type", "JAVASCRIPT"));
                            try {
                                return t.safeExecuteJSNode(yn, "ExpiryValidate", "ExpiryDateOnChange", {
                                    DOBInput: C.DataConversion.JSNodeParamConverter.to(C.BuiltinFunctions.dateToText(n.variables.expiryDateIn.valueAttr), C.DataTypes.DataTypes.Text),
                                    ErrorMessage: C.DataConversion.JSNodeParamConverter.to("", C.DataTypes.DataTypes.Text)
                                }, function(d) {
                                    var u = new(t.constructor.getVariableGroupType("Accounts.ProofOfIdentity.ManualDocumentNumber.ExpiryDateOnChange$expiryValidateJSResult"));
                                    return u.errorMessageOut = C.DataConversion.JSNodeParamConverter.from(d.ErrorMessage, C.DataTypes.DataTypes.Text), u
                                }, {}, {})
                            } finally {
                                c && c.end()
                            }
                        }, 1), n.widgets.get(s.getId("Desktop_Expirydate")).validAttr = f.value.errorMessageOut === C.BuiltinFunctions.nullTextIdentifier(), n.widgets.get(s.getId("Mobile_Expirydate")).validAttr = f.value.errorMessageOut === C.BuiltinFunctions.nullTextIdentifier(), n.widgets.get(s.getId("Desktop_Expirydate")).validationMessageAttr = f.value.errorMessageOut, n.widgets.get(s.getId("Mobile_Expirydate")).validationMessageAttr = f.value.errorMessageOut, n.variables.expiryDateIn.errorMessageAttr = f.value.errorMessageOut
                    } finally {
                        i && i.end()
                    }
                }, 1)
            }), this.__expiryDateOnChange$Action
        }
        set _expiryDateOnChange$Action(e) {
            this.__expiryDateOnChange$Action = e
        }
        get _documentNumberOnChange$Action() {
            return this.hasOwnProperty("__documentNumberOnChange$Action") || (this.__documentNumberOnChange$Action = function(e) {
                var n = this.model,
                    t = this.controller,
                    s = this.idService;
                return C.Logger.startActiveSpan("DocumentNumberOnChange", function(i) {
                    i && (i.setAttribute("code.function", "DocumentNumberOnChange"), i.setAttribute("outsystems.function.key", "1804de43-44eb-46b5-8b35-b6912513bbfc"), i.setAttribute("outsystems.function.owner.name", "Accounts"), i.setAttribute("outsystems.function.owner.key", "8a32fa32-34f5-4338-b6db-4f1ce8fdd638"), i.setAttribute("outsystems.function.type", "CLIENT_SCREEN_ACTION"));
                    try {
                        t.ensureControllerAlive("DocumentNumberOnChange"), e = t.callContext(e);
                        var f = new C.DataTypes.VariableHolder,
                            c = new C.DataTypes.VariableHolder(new C.DataTypes.JSONSerializeOutputType);
                        c.value.jSONOut = C.JSONUtils.serializeToJSON(n.variables.selectedIdentityDocumentIn, !1, !1), f.value = C.Logger.startActiveSpan("ValidateDocumentNumber", function(d) {
                            d && (d.setAttribute("code.function", "ValidateDocumentNumber"), d.setAttribute("outsystems.function.key", "7222b1c8-eb3e-40b9-95d2-394cbbd52676"), d.setAttribute("outsystems.function.owner.name", "Accounts"), d.setAttribute("outsystems.function.owner.key", "8a32fa32-34f5-4338-b6db-4f1ce8fdd638"), d.setAttribute("outsystems.function.type", "JAVASCRIPT"));
                            try {
                                return t.safeExecuteJSNode(pn, "ValidateDocumentNumber", "DocumentNumberOnChange", {
                                    DocumentType: C.DataConversion.JSNodeParamConverter.to(c.value.jSONOut, C.DataTypes.DataTypes.Text),
                                    DocumentNumberInput: C.DataConversion.JSNodeParamConverter.to(n.variables.documentNumberIn.valueAttr, C.DataTypes.DataTypes.Text),
                                    ErrorMessage: C.DataConversion.JSNodeParamConverter.to("", C.DataTypes.DataTypes.Text)
                                }, function(u) {
                                    var o = new(t.constructor.getVariableGroupType("Accounts.ProofOfIdentity.ManualDocumentNumber.DocumentNumberOnChange$validateDocumentNumberJSResult"));
                                    return o.errorMessageOut = C.DataConversion.JSNodeParamConverter.from(u.ErrorMessage, C.DataTypes.DataTypes.Text), o
                                }, {}, {})
                            } finally {
                                d && d.end()
                            }
                        }, 1), n.widgets.get(s.getId("Input_DocumentNumber")).validAttr = f.value.errorMessageOut === C.BuiltinFunctions.nullTextIdentifier(), n.widgets.get(s.getId("Input_DocumentNumber")).validationMessageAttr = f.value.errorMessageOut
                    } finally {
                        i && i.end()
                    }
                }, 1)
            }), this.__documentNumberOnChange$Action
        }
        set _documentNumberOnChange$Action(e) {
            this.__documentNumberOnChange$Action = e
        }
        get _onClickDatePicker$Action() {
            return this.hasOwnProperty("__onClickDatePicker$Action") || (this.__onClickDatePicker$Action = function(e) {
                var n = this.model,
                    t = this.controller,
                    s = this.idService;
                return C.Logger.startActiveSpan("OnClickDatePicker", function(i) {
                    i && (i.setAttribute("code.function", "OnClickDatePicker"), i.setAttribute("outsystems.function.key", "55c1a105-af58-4946-b01b-cedbd3522578"), i.setAttribute("outsystems.function.owner.name", "Accounts"), i.setAttribute("outsystems.function.owner.key", "8a32fa32-34f5-4338-b6db-4f1ce8fdd638"), i.setAttribute("outsystems.function.type", "CLIENT_SCREEN_ACTION"));
                    try {
                        t.ensureControllerAlive("OnClickDatePicker"), e = t.callContext(e);
                        var f = new C.DataTypes.VariableHolder;
                        f.value = zn.datePickerOpen$Action(s.getId("ExpiryDateInput"), e)
                    } finally {
                        i && i.end()
                    }
                }, 1)
            }), this.__onClickDatePicker$Action
        }
        set _onClickDatePicker$Action(e) {
            this.__onClickDatePicker$Action = e
        }
        get _nextOnClick$Action() {
            return this.hasOwnProperty("__nextOnClick$Action") || (this.__nextOnClick$Action = function(e) {
                var n = this.model,
                    t = this.controller,
                    s = this.idService;
                return C.Logger.startActiveSpan("NextOnClick", function(i) {
                    return i && (i.setAttribute("code.function", "NextOnClick"), i.setAttribute("outsystems.function.key", "62eeb06b-c80b-470b-9540-95c0f50d5eca"), i.setAttribute("outsystems.function.owner.name", "Accounts"), i.setAttribute("outsystems.function.owner.key", "8a32fa32-34f5-4338-b6db-4f1ce8fdd638"), i.setAttribute("outsystems.function.type", "CLIENT_SCREEN_ACTION")), C.Flow.tryFinally(function() {
                        return t.ensureControllerAlive("NextOnClick"), e = t.callContext(e), C.Flow.executeAsyncFlow(function() {
                            return t._documentNumberOnChange$Action(e), t._expiryDateOnChange$Action(e), C.Flow.executeSequence(function() {
                                if (n.widgets.get(s.getId("Form1")).validAttr) return t.moveToNextStep$Action(e)
                            })
                        })
                    }, function() {
                        i && i.end()
                    })
                }, 1)
            }), this.__nextOnClick$Action
        }
        set _nextOnClick$Action(e) {
            this.__nextOnClick$Action = e
        }
        get _datePickerOnSelected$Action() {
            return this.hasOwnProperty("__datePickerOnSelected$Action") || (this.__datePickerOnSelected$Action = function(e, n) {
                var t = this.model,
                    s = this.controller,
                    i = this.idService;
                return C.Logger.startActiveSpan("DatePickerOnSelected", function(f) {
                    f && (f.setAttribute("code.function", "DatePickerOnSelected"), f.setAttribute("outsystems.function.key", "aa48ef94-b9b6-4f1a-b9bf-a4699ac75045"), f.setAttribute("outsystems.function.owner.name", "Accounts"), f.setAttribute("outsystems.function.owner.key", "8a32fa32-34f5-4338-b6db-4f1ce8fdd638"), f.setAttribute("outsystems.function.type", "CLIENT_SCREEN_ACTION"));
                    try {
                        s.ensureControllerAlive("DatePickerOnSelected"), n = s.callContext(n);
                        var c = new C.DataTypes.VariableHolder(new(s.constructor.getVariableGroupType("Accounts.ProofOfIdentity.ManualDocumentNumber.DatePickerOnSelected$vars")));
                        c.value.selectedDateTimeInLocal = e, t.variables.expiryDateIn.valueAttr = C.BuiltinFunctions.dateTimeToDate(c.value.selectedDateTimeInLocal), s._expiryDateOnChange$Action(n)
                    } finally {
                        f && f.end()
                    }
                }, 1)
            }), this.__datePickerOnSelected$Action
        }
        set _datePickerOnSelected$Action(e) {
            this.__datePickerOnSelected$Action = e
        }
        get _onDestroy$Action() {
            return this.hasOwnProperty("__onDestroy$Action") || (this.__onDestroy$Action = function(e) {
                var n = this.model,
                    t = this.controller,
                    s = this.idService;
                return C.Logger.startActiveSpan("OnDestroy", function(i) {
                    return i && (i.setAttribute("code.function", "OnDestroy"), i.setAttribute("outsystems.function.key", "cbad8264-eddc-46d3-baa5-4cc224b11367"), i.setAttribute("outsystems.function.owner.name", "Accounts"), i.setAttribute("outsystems.function.owner.key", "8a32fa32-34f5-4338-b6db-4f1ce8fdd638"), i.setAttribute("outsystems.function.type", "CLIENT_SCREEN_ACTION")), C.Flow.tryFinally(function() {
                        return t.ensureControllerAlive("OnDestroy"), e = t.callContext(e), C.Flow.executeAsyncFlow(function() {
                            return t.onChangeFormData$Action(n.variables.documentNumberIn.valueAttr, n.variables.expiryDateIn.valueAttr, e)
                        })
                    }, function() {
                        i && i.end()
                    })
                }, 1)
            }), this.__onDestroy$Action
        }
        set _onDestroy$Action(e) {
            this.__onDestroy$Action = e
        }
        expiryDateOnChange$Action(e) {
            var n = this.controller;
            return C.Logger.startActiveSpan("ExpiryDateOnChange__proxy", function(t) {
                t && (t.setAttribute("code.function", "ExpiryDateOnChange"), t.setAttribute("outsystems.function.key", "02550cdd-fefa-4415-ae46-5ffe92881aaa"), t.setAttribute("outsystems.function.owner.name", "Accounts"), t.setAttribute("outsystems.function.owner.key", "8a32fa32-34f5-4338-b6db-4f1ce8fdd638"), t.setAttribute("outsystems.function.type", "CLIENT_SCREEN_ACTION"));
                try {
                    return n.safeExecuteClientAction(n._expiryDateOnChange$Action, e)
                } finally {
                    t && t.end()
                }
            }, 0)
        }
        documentNumberOnChange$Action(e) {
            var n = this.controller;
            return C.Logger.startActiveSpan("DocumentNumberOnChange__proxy", function(t) {
                t && (t.setAttribute("code.function", "DocumentNumberOnChange"), t.setAttribute("outsystems.function.key", "1804de43-44eb-46b5-8b35-b6912513bbfc"), t.setAttribute("outsystems.function.owner.name", "Accounts"), t.setAttribute("outsystems.function.owner.key", "8a32fa32-34f5-4338-b6db-4f1ce8fdd638"), t.setAttribute("outsystems.function.type", "CLIENT_SCREEN_ACTION"));
                try {
                    return n.safeExecuteClientAction(n._documentNumberOnChange$Action, e)
                } finally {
                    t && t.end()
                }
            }, 0)
        }
        onClickDatePicker$Action(e) {
            var n = this.controller;
            return C.Logger.startActiveSpan("OnClickDatePicker__proxy", function(t) {
                t && (t.setAttribute("code.function", "OnClickDatePicker"), t.setAttribute("outsystems.function.key", "55c1a105-af58-4946-b01b-cedbd3522578"), t.setAttribute("outsystems.function.owner.name", "Accounts"), t.setAttribute("outsystems.function.owner.key", "8a32fa32-34f5-4338-b6db-4f1ce8fdd638"), t.setAttribute("outsystems.function.type", "CLIENT_SCREEN_ACTION"));
                try {
                    return n.safeExecuteClientAction(n._onClickDatePicker$Action, e)
                } finally {
                    t && t.end()
                }
            }, 0)
        }
        nextOnClick$Action(e) {
            var n = this.controller;
            return C.Logger.startActiveSpan("NextOnClick__proxy", function(t) {
                return t && (t.setAttribute("code.function", "NextOnClick"), t.setAttribute("outsystems.function.key", "62eeb06b-c80b-470b-9540-95c0f50d5eca"), t.setAttribute("outsystems.function.owner.name", "Accounts"), t.setAttribute("outsystems.function.owner.key", "8a32fa32-34f5-4338-b6db-4f1ce8fdd638"), t.setAttribute("outsystems.function.type", "CLIENT_SCREEN_ACTION")), C.Flow.tryFinally(function() {
                    return n.safeExecuteClientAction(n._nextOnClick$Action, e)
                }, function() {
                    t && t.end()
                })
            }, 0)
        }
        datePickerOnSelected$Action(e, n) {
            var t = this.controller;
            return C.Logger.startActiveSpan("DatePickerOnSelected__proxy", function(s) {
                s && (s.setAttribute("code.function", "DatePickerOnSelected"), s.setAttribute("outsystems.function.key", "aa48ef94-b9b6-4f1a-b9bf-a4699ac75045"), s.setAttribute("outsystems.function.owner.name", "Accounts"), s.setAttribute("outsystems.function.owner.key", "8a32fa32-34f5-4338-b6db-4f1ce8fdd638"), s.setAttribute("outsystems.function.type", "CLIENT_SCREEN_ACTION"));
                try {
                    return t.safeExecuteClientAction(t._datePickerOnSelected$Action, n, e)
                } finally {
                    s && s.end()
                }
            }, 0)
        }
        onDestroy$Action(e) {
            var n = this.controller;
            return C.Logger.startActiveSpan("OnDestroy__proxy", function(t) {
                return t && (t.setAttribute("code.function", "OnDestroy"), t.setAttribute("outsystems.function.key", "cbad8264-eddc-46d3-baa5-4cc224b11367"), t.setAttribute("outsystems.function.owner.name", "Accounts"), t.setAttribute("outsystems.function.owner.key", "8a32fa32-34f5-4338-b6db-4f1ce8fdd638"), t.setAttribute("outsystems.function.type", "CLIENT_SCREEN_ACTION")), C.Flow.tryFinally(function() {
                    return n.safeExecuteClientAction(n._onDestroy$Action, e)
                }, function() {
                    t && t.end()
                })
            }, 0)
        }
        get moveToNextStep$Action() {
            return this.hasOwnProperty("_moveToNextStep$Action") || (this._moveToNextStep$Action = function() {
                return Promise.resolve()
            }), this._moveToNextStep$Action
        }
        set moveToNextStep$Action(e) {
            this._moveToNextStep$Action = e
        }
        get onChangeFormData$Action() {
            return this.hasOwnProperty("_onChangeFormData$Action") || (this._onChangeFormData$Action = function() {
                return Promise.resolve()
            }), this._onChangeFormData$Action
        }
        set onChangeFormData$Action(e) {
            this._onChangeFormData$Action = e
        }
        get onInitializeEventHandler() {
            return this.hasOwnProperty("_onInitializeEventHandler") || (this._onInitializeEventHandler = null), this._onInitializeEventHandler
        }
        set onInitializeEventHandler(e) {
            this._onInitializeEventHandler = e
        }
        get onReadyEventHandler() {
            return this.hasOwnProperty("_onReadyEventHandler") || (this._onReadyEventHandler = null), this._onReadyEventHandler
        }
        set onReadyEventHandler(e) {
            this._onReadyEventHandler = e
        }
        get onRenderEventHandler() {
            return this.hasOwnProperty("_onRenderEventHandler") || (this._onRenderEventHandler = null), this._onRenderEventHandler
        }
        set onRenderEventHandler(e) {
            this._onRenderEventHandler = e
        }
        get onDestroyEventHandler() {
            return this.hasOwnProperty("_onDestroyEventHandler") || (this._onDestroyEventHandler = function(e) {
                var n = this.controller,
                    t = this.model,
                    s = this.idService;
                return n.onDestroy$Action(e)
            }), this._onDestroyEventHandler
        }
        set onDestroyEventHandler(e) {
            this._onDestroyEventHandler = e
        }
        get onParametersChangedEventHandler() {
            return this.hasOwnProperty("_onParametersChangedEventHandler") || (this._onParametersChangedEventHandler = null), this._onParametersChangedEventHandler
        }
        set onParametersChangedEventHandler(e) {
            this._onParametersChangedEventHandler = e
        }
        get handleError() {
            return this.hasOwnProperty("_handleError") || (this._handleError = function(e) {
                return controller.handleError(e)
            }), this._handleError
        }
        set handleError(e) {
            this._handleError = e
        }
        static checkPermissions() {}
        getDefaultTimeout() {
            return F.defaultTimeout
        }
    };
    a(r, "ControllerInner");
    let m = r;
    it = m, it.registerVariableGroupType("Accounts.ProofOfIdentity.ManualDocumentNumber.ExpiryDateOnChange$expiryValidateJSResult", [{
        name: "ErrorMessage",
        attrName: "errorMessageOut",
        mandatory: !0,
        dataType: C.DataTypes.DataTypes.Text,
        defaultValue: a(function() {
            return ""
        }, "defaultValue")
    }]), it.registerVariableGroupType("Accounts.ProofOfIdentity.ManualDocumentNumber.DocumentNumberOnChange$validateDocumentNumberJSResult", [{
        name: "ErrorMessage",
        attrName: "errorMessageOut",
        mandatory: !0,
        dataType: C.DataTypes.DataTypes.Text,
        defaultValue: a(function() {
            return ""
        }, "defaultValue")
    }]), it.registerVariableGroupType("Accounts.ProofOfIdentity.ManualDocumentNumber.DatePickerOnSelected$vars", [{
        name: "SelectedDateTime",
        attrName: "selectedDateTimeInLocal",
        mandatory: !0,
        dataType: C.DataTypes.DataTypes.DateTime,
        defaultValue: a(function() {
            return C.DataTypes.DateTime.defaultValue
        }, "defaultValue")
    }])
}
var it, Sr = new C.Controller.ControllerFactory(it, H);
var Z = D,
    It = T.PlaceholderContent,
    za = T.IteratorPlaceholderContent,
    Ve = class Ve extends M.BaseWebBlock {
        static get displayName() {
            return "ProofOfIdentity.ManualDocumentNumber"
        }
        static getAttributes() {
            return {
                codeFunction: "ManualDocumentNumber",
                functionKey: "c471311e-a036-4882-8e19-d776b4730dba",
                functionOwnerName: "Accounts",
                functionOwnerKey: "8a32fa32-34f5-4338-b6db-4f1ce8fdd638",
                screen: ""
            }
        }
        static getCssDependencies() {
            return ["css/OutSystemsReactWidgets.css", "css/Accounts.ProofOfIdentity.ManualDocumentNumber.css"]
        }
        static getJsDependencies() {
            return []
        }
        static getBlocks() {
            return [Ht, Mt, Wt]
        }
        get modelFactory() {
            return tr
        }
        get controllerFactory() {
            return Sr
        }
        get title() {
            return ""
        }
        internalRender() {
            let r = this.model,
                l = this.controller,
                e = this.idService,
                n = l.validationService,
                t = this.widgetsRecordProvider,
                s = l.callContext(),
                i = Ve.ifWidget,
                f = Ve.textWidget,
                c = Ve.asPrimitiveValue,
                d = Ve.getTranslation,
                u = this;
            return q.createElement("div", this.getRootNodeProperties(), q.createElement(y, {
                align: 0,
                animate: !1,
                style: "full-height display-flex flex-direction-column",
                visible: !0,
                _idProps: {
                    service: e,
                    uuid: "0"
                },
                _widgetRecordProvider: t
            }, q.createElement(ft, {
                _validationProps: {
                    validationService: n
                },
                gridProperties: {
                    classes: "OSFillParent"
                },
                style: "form display-flex flex-direction-column row-gap-base manual-doc-form",
                _idProps: {
                    service: e,
                    name: "Form1"
                },
                _widgetRecordProvider: t
            }, q.createElement(y, {
                align: 0,
                animate: !1,
                visible: !0,
                _idProps: {
                    service: e,
                    name: "DocumentnumberField"
                },
                _widgetRecordProvider: t
            }, q.createElement(he, {
                gridProperties: {
                    classes: "OSFillParent"
                },
                mandatory: !1,
                targetWidget: "Input_DocumentNumber",
                _idProps: {
                    service: e,
                    uuid: "3"
                },
                _widgetRecordProvider: t
            }, q.createElement(z, {
                value: r.variables.selectedIdentityDocumentIn.displayNameAttr + " number",
                _idProps: {
                    service: e,
                    uuid: "4"
                },
                _widgetRecordProvider: t,
                value_dataFetchStatus: Z.Model.calculateDataFetchStatus(r.variables._selectedIdentityDocumentInDataFetchStatus)
            })), q.createElement(ge, {
                _validationProps: {
                    validationService: n,
                    validationParentId: e.getId("Form1")
                },
                enabled: !0,
                gridProperties: {
                    classes: "OSFillParent"
                },
                inputType: 0,
                mandatory: !1,
                maxLength: 50,
                onChange: a(function() {
                    var o = s.clone();
                    l.documentNumberOnChange$Action(l.callContext(o))
                }, "onChange"),
                prompt: "Enter your " + r.variables.selectedIdentityDocumentIn.displayNameAttr + " number",
                style: "form-control",
                variable: r.createVariable(Z.DataTypes.DataTypes.Text, r.variables.documentNumberIn.valueAttr, function(o) {
                    r.variables.documentNumberIn.valueAttr = o
                }),
                _idProps: {
                    service: e,
                    name: "Input_DocumentNumber"
                },
                _widgetRecordProvider: t,
                prompt_dataFetchStatus: Z.Model.calculateDataFetchStatus(r.variables._selectedIdentityDocumentInDataFetchStatus),
                variable_dataFetchStatus: Z.Model.calculateDataFetchStatus(r.variables._documentNumberInDataFetchStatus)
            })), q.createElement(y, {
                align: 0,
                animate: !1,
                visible: !1,
                _idProps: {
                    service: e,
                    name: "ExpiryDateField"
                },
                _widgetRecordProvider: t
            }, q.createElement(he, {
                gridProperties: {
                    classes: "OSFillParent"
                },
                mandatory: !1,
                targetWidget: "Mobile_Expirydate",
                _idProps: {
                    service: e,
                    uuid: "7"
                },
                _widgetRecordProvider: t
            }, "Expiry date"), q.createElement(y, {
                align: 0,
                animate: !1,
                visible: !0,
                _idProps: {
                    service: e,
                    uuid: "8"
                },
                _widgetRecordProvider: t
            }, i(V.getDevice() === "desktop", !1, this, function() {
                return [q.createElement(y, {
                    align: 0,
                    animate: !1,
                    visible: !0,
                    _idProps: {
                        service: e,
                        uuid: "9"
                    },
                    _widgetRecordProvider: t
                }, q.createElement(Ht, {
                    getOwnerSpan: a(function() {
                        return u.getChildSpan("render")
                    }, "getOwnerSpan"),
                    getOwnerDisposeSpan: a(function() {
                        return u.getChildSpan("destroy")
                    }, "getOwnerDisposeSpan"),
                    inputs: {
                        OptionalConfigs: r.getCachedValue(e.getId("ExpiryDateInput.OptionalConfigs"), function() {
                            return function() {
                                var o = new Wn;
                                return o.initialDateAttr = r.variables.expiryDateIn.valueAttr, o.minDateAttr = Z.BuiltinFunctions.addMonths(Z.BuiltinFunctions.currDate(), 6), o
                            }()
                        }, function() {
                            return r.variables.expiryDateIn.valueAttr
                        }),
                        _optionalConfigsInDataFetchStatus: Z.Model.calculateDataFetchStatus(r.variables._expiryDateInDataFetchStatus),
                        DateFormat: "d/m/Y"
                    },
                    events: {
                        _handleError: a(function(o) {
                            l.handleError(o)
                        }, "_handleError"),
                        onSelected$Action: a(function(o, v) {
                            var p = s.clone();
                            l.datePickerOnSelected$Action(v, l.callContext(p))
                        }, "onSelected$Action")
                    },
                    _validationProps: {
                        validationService: n,
                        validationParentId: e.getId("Form1")
                    },
                    _idProps: {
                        service: e,
                        name: "ExpiryDateInput",
                        alias: "1"
                    },
                    _widgetRecordProvider: t,
                    placeholders: {
                        datepicker: new It(function() {
                            return [q.createElement(Mt, {
                                getOwnerSpan: a(function() {
                                    return u.getChildSpan("render")
                                }, "getOwnerSpan"),
                                getOwnerDisposeSpan: a(function() {
                                    return u.getChildSpan("destroy")
                                }, "getOwnerDisposeSpan"),
                                inputs: {
                                    AlignIconRight: !0
                                },
                                events: {
                                    _handleError: a(function(o) {
                                        l.handleError(o)
                                    }, "_handleError")
                                },
                                _validationProps: {
                                    validationService: n,
                                    validationParentId: e.getId("Form1")
                                },
                                _idProps: {
                                    service: e,
                                    name: "ExpiryDateInputField",
                                    alias: "2"
                                },
                                _widgetRecordProvider: t,
                                placeholders: {
                                    icon: new It(function() {
                                        return [q.createElement(U, {
                                            extendedEvents: {
                                                onClick: a(function() {
                                                    var o = s.clone();
                                                    l.onClickDatePicker$Action(l.callContext(o))
                                                }, "onClick")
                                            },
                                            image: Z.Navigation.VersionedURL.getVersionedUrl("img/Accounts.iconCalender.svg"),
                                            style: "personal-details__DOB-icon",
                                            type: 0,
                                            _idProps: {
                                                service: e,
                                                uuid: "12"
                                            },
                                            _widgetRecordProvider: t
                                        })]
                                    }),
                                    input: new It(function() {
                                        return [q.createElement(ge, {
                                            _validationProps: {
                                                validationService: n,
                                                validationParentId: e.getId("Form1")
                                            },
                                            enabled: !0,
                                            extendedProperties: {
                                                "aria-label": "Select a date"
                                            },
                                            gridProperties: {
                                                classes: "OSFillParent"
                                            },
                                            inputType: 4,
                                            mandatory: !0,
                                            maxLength: 0,
                                            prompt: "dd/mm/yyyy",
                                            style: "form-control full-width not-required",
                                            variable: r.createVariable(Z.DataTypes.DataTypes.Date, r.variables.expiryDateIn.valueAttr, function(o) {
                                                r.variables.expiryDateIn.valueAttr = o
                                            }),
                                            _idProps: {
                                                service: e,
                                                name: "Desktop_Expirydate"
                                            },
                                            _widgetRecordProvider: t,
                                            variable_dataFetchStatus: Z.Model.calculateDataFetchStatus(r.variables._expiryDateInDataFetchStatus)
                                        })]
                                    })
                                },
                                _dependencies: [c(r.variables._expiryDateInDataFetchStatus), c(r.variables.expiryDateIn.valueAttr)]
                            })]
                        }),
                        placeholder_SSPreview: It.Empty
                    },
                    _dependencies: [c(r.variables._expiryDateInDataFetchStatus), c(r.variables.expiryDateIn.valueAttr)]
                }))]
            }, function() {
                return [q.createElement(y, {
                    align: 0,
                    animate: !1,
                    style: "date-placeholder",
                    visible: !0,
                    _idProps: {
                        service: e,
                        uuid: "14"
                    },
                    _widgetRecordProvider: t
                }, q.createElement(ge, {
                    _validationProps: {
                        validationService: n,
                        validationParentId: e.getId("Form1")
                    },
                    enabled: !0,
                    extendedProperties: {
                        "aria-label": "Select a date"
                    },
                    gridProperties: {
                        classes: "OSFillParent"
                    },
                    inputType: 4,
                    mandatory: !1,
                    maxLength: 0,
                    onChange: a(function() {
                        var o = s.clone();
                        l.expiryDateOnChange$Action(l.callContext(o))
                    }, "onChange"),
                    prompt: "dd/mm/yyyy",
                    style: "form-control inline-block-display",
                    variable: r.createVariable(Z.DataTypes.DataTypes.Date, r.variables.expiryDateIn.valueAttr, function(o) {
                        r.variables.expiryDateIn.valueAttr = o
                    }),
                    _idProps: {
                        service: e,
                        name: "Mobile_Expirydate"
                    },
                    _widgetRecordProvider: t,
                    variable_dataFetchStatus: Z.Model.calculateDataFetchStatus(r.variables._expiryDateInDataFetchStatus)
                }))]
            }))), q.createElement(y, {
                align: 0,
                animate: !1,
                visible: !0,
                _idProps: {
                    service: e,
                    name: "CustomExpiryDateField"
                },
                _widgetRecordProvider: t
            }, q.createElement(Wt, {
                getOwnerSpan: a(function() {
                    return u.getChildSpan("render")
                }, "getOwnerSpan"),
                getOwnerDisposeSpan: a(function() {
                    return u.getChildSpan("destroy")
                }, "getOwnerDisposeSpan"),
                inputs: {
                    Placeholder: "Select an Expiry date",
                    MinDate: r.getCachedValue(e.getId("KOOc0aJhWkeEL6HdkTRFtA.MinDate"), function() {
                        return Z.BuiltinFunctions.dateTimeToText(Z.BuiltinFunctions.addMonths(Z.BuiltinFunctions.currDate(), 6))
                    }),
                    Label: "Expiry date",
                    InputDate: Z.BuiltinFunctions.dateToText(r.variables.expiryDateIn.valueAttr),
                    _inputDateInDataFetchStatus: Z.Model.calculateDataFetchStatus(r.variables._expiryDateInDataFetchStatus),
                    Enabled: !0,
                    IsMobile: V.getDevice() !== "desktop",
                    Required: !1,
                    DateFormat: "dd/MM/yyyy",
                    ErrorMessage: r.variables.expiryDateIn.errorMessageAttr,
                    _errorMessageInDataFetchStatus: Z.Model.calculateDataFetchStatus(r.variables._expiryDateInDataFetchStatus)
                },
                events: {
                    _handleError: a(function(o) {
                        l.handleError(o)
                    }, "_handleError"),
                    emitDate$Action: a(function(o) {
                        var v = s.clone();
                        l.datePickerOnSelected$Action(o, l.callContext(v))
                    }, "emitDate$Action")
                },
                _validationProps: {
                    validationService: n,
                    validationParentId: e.getId("Form1")
                },
                _idProps: {
                    service: e,
                    uuid: "17",
                    alias: "3"
                },
                _widgetRecordProvider: t,
                _dependencies: []
            }))), q.createElement(y, {
                align: 0,
                animate: !1,
                style: "display-flex manual-doc-number__btn--layout",
                visible: !0,
                _idProps: {
                    service: e,
                    uuid: "18"
                },
                _widgetRecordProvider: t
            }, q.createElement(ue, {
                enabled: !0,
                isDefault: !1,
                onClick: a(function() {
                    return u.validateWidget(""), Promise.resolve().then(function() {
                        var o = s.clone();
                        return l.nextOnClick$Action(l.callContext(o))
                    })
                }, "onClick"),
                style: "btn btn-primary deriv-btn manual-doc-number__btn",
                visible: !0,
                _idProps: {
                    service: e,
                    uuid: "19"
                },
                _widgetRecordProvider: t
            }, "Next"))))
        }
    };
a(Ve, "View");
var bn = Ve,
    Pt = bn;
var E = re(ie());

function gn(m, r, l, e) {
    let n = ["jpg", "gif", "png", "jpeg", "pdf"],
        t = m.ValidateFileType && n.indexOf(m.ValidateFileType.split("/").pop()) > -1,
        i = m.ValidateFileSize <= 8388608;
    m.ValidFileSize = i, m.ValidFileType = t
}
a(gn, "default");

function hn(m, r, l, e) {
    let n = ["jpg", "gif", "png", "jpeg", "pdf"],
        t = m.ValidateFileType && n.indexOf(m.ValidateFileType.split("/").pop()) > -1,
        i = m.ValidateFileSize <= 8388608;
    m.ValidFileSize = i, m.ValidFileType = t
}
a(hn, "default");
var b = D; {
    let r = class r extends b.Controller.BaseViewController {
        constructor(e, n, t) {
            super(e, n, t);
            var s = this.controller;
            this.clientActionProxies = {}, this.dataFetchDependenciesOriginal = {}, this.dataFetchDependentsGraph = {}, this.shouldSendClientVarsToDataSources = !1
        }
        get dataFetchActionNames() {
            return this.hasOwnProperty("_dataFetchActionNames") || (this._dataFetchActionNames = []), this._dataFetchActionNames
        }
        set dataFetchActionNames(e) {
            this._dataFetchActionNames = e
        }
        get _droppableFileUploadOnDropFile2$Action() {
            return this.hasOwnProperty("__droppableFileUploadOnDropFile2$Action") || (this.__droppableFileUploadOnDropFile2$Action = function(e, n, t) {
                var s = this.model,
                    i = this.controller,
                    f = this.idService;
                return b.Logger.startActiveSpan("DroppableFileUploadOnDropFile2", function(c) {
                    c && (c.setAttribute("code.function", "DroppableFileUploadOnDropFile2"), c.setAttribute("outsystems.function.key", "87fb271a-5d52-47dc-916b-2fa108efa5ca"), c.setAttribute("outsystems.function.owner.name", "Accounts"), c.setAttribute("outsystems.function.owner.key", "8a32fa32-34f5-4338-b6db-4f1ce8fdd638"), c.setAttribute("outsystems.function.type", "CLIENT_SCREEN_ACTION"));
                    try {
                        i.ensureControllerAlive("DroppableFileUploadOnDropFile2"), t = i.callContext(t);
                        var d = new b.DataTypes.VariableHolder(new(i.constructor.getVariableGroupType("Accounts.ProofOfIdentity.ManualDocumentUploader.DroppableFileUploadOnDropFile2$vars")));
                        d.value.fileInLocal = e.clone(), d.value.errorInLocal = n.clone();
                        var u = new b.DataTypes.VariableHolder;
                        s.variables.isDroppedSecondDocumentVar = d.value.errorInLocal.successAttr, s.variables.showRequiredErrorVar = !1, u.value = b.Logger.startActiveSpan("ValidateFile", function(o) {
                            o && (o.setAttribute("code.function", "ValidateFile"), o.setAttribute("outsystems.function.key", "1c4ad97a-6a59-4aa1-929b-97731895db5b"), o.setAttribute("outsystems.function.owner.name", "Accounts"), o.setAttribute("outsystems.function.owner.key", "8a32fa32-34f5-4338-b6db-4f1ce8fdd638"), o.setAttribute("outsystems.function.type", "JAVASCRIPT"));
                            try {
                                return i.safeExecuteJSNode(gn, "ValidateFile", "DroppableFileUploadOnDropFile2", {
                                    ValidateFileName: b.DataConversion.JSNodeParamConverter.to(d.value.fileInLocal.fileNameAttr, b.DataTypes.DataTypes.Text),
                                    ValidateFileType: b.DataConversion.JSNodeParamConverter.to(d.value.fileInLocal.fileMimeTypeAttr, b.DataTypes.DataTypes.Text),
                                    ValidateFileContent: b.DataConversion.JSNodeParamConverter.to(d.value.fileInLocal.fileContentAttr, b.DataTypes.DataTypes.BinaryData),
                                    FileStatus: b.DataConversion.JSNodeParamConverter.to(d.value.errorInLocal.successAttr, b.DataTypes.DataTypes.Boolean),
                                    ValidateFileSize: b.DataConversion.JSNodeParamConverter.to(d.value.fileInLocal.fileSizeAttr, b.DataTypes.DataTypes.Text),
                                    ValidFileSize: b.DataConversion.JSNodeParamConverter.to(!1, b.DataTypes.DataTypes.Boolean),
                                    ValidFileType: b.DataConversion.JSNodeParamConverter.to(!1, b.DataTypes.DataTypes.Boolean)
                                }, function(v) {
                                    var p = new(i.constructor.getVariableGroupType("Accounts.ProofOfIdentity.ManualDocumentUploader.DroppableFileUploadOnDropFile2$validateFileJSResult"));
                                    return p.validFileSizeOut = b.DataConversion.JSNodeParamConverter.from(v.ValidFileSize, b.DataTypes.DataTypes.Boolean), p.validFileTypeOut = b.DataConversion.JSNodeParamConverter.from(v.ValidFileType, b.DataTypes.DataTypes.Boolean), p
                                }, {}, {})
                            } finally {
                                o && o.end()
                            }
                        }, 1), u.value.validFileTypeOut ? u.value.validFileSizeOut ? s.variables.secondDocumentFileVar = d.value.fileInLocal : (s.variables.isDroppedSecondDocumentVar = !1, b.FeedbackMessageService.showFeedbackMessage("Photo must be 8MB or smaller.", 3)) : (s.variables.isDroppedSecondDocumentVar = !1, b.FeedbackMessageService.showFeedbackMessage("Photo must be in these formate JPEG, JPG, PNG, PDF or GIF.", 3))
                    } finally {
                        c && c.end()
                    }
                }, 1)
            }), this.__droppableFileUploadOnDropFile2$Action
        }
        set _droppableFileUploadOnDropFile2$Action(e) {
            this.__droppableFileUploadOnDropFile2$Action = e
        }
        get _droppableFileUploadOnClearFile$Action() {
            return this.hasOwnProperty("__droppableFileUploadOnClearFile$Action") || (this.__droppableFileUploadOnClearFile$Action = function(e) {
                var n = this.model,
                    t = this.controller,
                    s = this.idService;
                return b.Logger.startActiveSpan("DroppableFileUploadOnClearFile", function(i) {
                    i && (i.setAttribute("code.function", "DroppableFileUploadOnClearFile"), i.setAttribute("outsystems.function.key", "9fe7222e-c25d-440e-9ae0-c67848d312f5"), i.setAttribute("outsystems.function.owner.name", "Accounts"), i.setAttribute("outsystems.function.owner.key", "8a32fa32-34f5-4338-b6db-4f1ce8fdd638"), i.setAttribute("outsystems.function.type", "CLIENT_SCREEN_ACTION"));
                    try {
                        t.ensureControllerAlive("DroppableFileUploadOnClearFile"), e = t.callContext(e), n.variables.isDroppedFirstDocumentVar = !1
                    } finally {
                        i && i.end()
                    }
                }, 1)
            }), this.__droppableFileUploadOnClearFile$Action
        }
        set _droppableFileUploadOnClearFile$Action(e) {
            this.__droppableFileUploadOnClearFile$Action = e
        }
        get _droppableFileUploadOnDropFile$Action() {
            return this.hasOwnProperty("__droppableFileUploadOnDropFile$Action") || (this.__droppableFileUploadOnDropFile$Action = function(e, n, t) {
                var s = this.model,
                    i = this.controller,
                    f = this.idService;
                return b.Logger.startActiveSpan("DroppableFileUploadOnDropFile", function(c) {
                    c && (c.setAttribute("code.function", "DroppableFileUploadOnDropFile"), c.setAttribute("outsystems.function.key", "a92b6ff0-80e6-4101-a8b5-9c9dba6f61b1"), c.setAttribute("outsystems.function.owner.name", "Accounts"), c.setAttribute("outsystems.function.owner.key", "8a32fa32-34f5-4338-b6db-4f1ce8fdd638"), c.setAttribute("outsystems.function.type", "CLIENT_SCREEN_ACTION"));
                    try {
                        i.ensureControllerAlive("DroppableFileUploadOnDropFile"), t = i.callContext(t);
                        var d = new b.DataTypes.VariableHolder(new(i.constructor.getVariableGroupType("Accounts.ProofOfIdentity.ManualDocumentUploader.DroppableFileUploadOnDropFile$vars")));
                        d.value.fileInLocal = e.clone(), d.value.errorInLocal = n.clone();
                        var u = new b.DataTypes.VariableHolder;
                        s.variables.isDroppedFirstDocumentVar = d.value.errorInLocal.successAttr, s.variables.showRequiredErrorVar = !1, u.value = b.Logger.startActiveSpan("ValidateFile", function(o) {
                            o && (o.setAttribute("code.function", "ValidateFile"), o.setAttribute("outsystems.function.key", "a06b3e23-0d36-4523-8ba0-b60072edbec4"), o.setAttribute("outsystems.function.owner.name", "Accounts"), o.setAttribute("outsystems.function.owner.key", "8a32fa32-34f5-4338-b6db-4f1ce8fdd638"), o.setAttribute("outsystems.function.type", "JAVASCRIPT"));
                            try {
                                return i.safeExecuteJSNode(hn, "ValidateFile", "DroppableFileUploadOnDropFile", {
                                    ValidateFileType: b.DataConversion.JSNodeParamConverter.to(d.value.fileInLocal.fileMimeTypeAttr, b.DataTypes.DataTypes.Text),
                                    FileStatus: b.DataConversion.JSNodeParamConverter.to(d.value.errorInLocal.successAttr, b.DataTypes.DataTypes.Boolean),
                                    ValidateFileName: b.DataConversion.JSNodeParamConverter.to(d.value.fileInLocal.fileNameAttr, b.DataTypes.DataTypes.Text),
                                    ValidateFileContent: b.DataConversion.JSNodeParamConverter.to(d.value.fileInLocal.fileContentAttr, b.DataTypes.DataTypes.BinaryData),
                                    ValidateFileSize: b.DataConversion.JSNodeParamConverter.to(d.value.fileInLocal.fileSizeAttr, b.DataTypes.DataTypes.Text),
                                    ValidFileSize: b.DataConversion.JSNodeParamConverter.to(!1, b.DataTypes.DataTypes.Boolean),
                                    ValidFileType: b.DataConversion.JSNodeParamConverter.to(!1, b.DataTypes.DataTypes.Boolean)
                                }, function(v) {
                                    var p = new(i.constructor.getVariableGroupType("Accounts.ProofOfIdentity.ManualDocumentUploader.DroppableFileUploadOnDropFile$validateFileJSResult"));
                                    return p.validFileSizeOut = b.DataConversion.JSNodeParamConverter.from(v.ValidFileSize, b.DataTypes.DataTypes.Boolean), p.validFileTypeOut = b.DataConversion.JSNodeParamConverter.from(v.ValidFileType, b.DataTypes.DataTypes.Boolean), p
                                }, {}, {})
                            } finally {
                                o && o.end()
                            }
                        }, 1), u.value.validFileTypeOut ? u.value.validFileSizeOut ? s.variables.firstDocumentFileVar = d.value.fileInLocal : (s.variables.isDroppedFirstDocumentVar = !1, b.FeedbackMessageService.showFeedbackMessage("Photo must be 8MB or smaller.", 3)) : (s.variables.isDroppedFirstDocumentVar = !1, b.FeedbackMessageService.showFeedbackMessage("Photo must be in these formate JPEG, JPG, PNG, PDF or GIF.", 3))
                    } finally {
                        c && c.end()
                    }
                }, 1)
            }), this.__droppableFileUploadOnDropFile$Action
        }
        set _droppableFileUploadOnDropFile$Action(e) {
            this.__droppableFileUploadOnDropFile$Action = e
        }
        get _nextOnClick$Action() {
            return this.hasOwnProperty("__nextOnClick$Action") || (this.__nextOnClick$Action = function(e) {
                var n = this.model,
                    t = this.controller,
                    s = this.idService;
                return b.Logger.startActiveSpan("NextOnClick", function(i) {
                    return i && (i.setAttribute("code.function", "NextOnClick"), i.setAttribute("outsystems.function.key", "d68fad9b-2cbf-4ed0-bce2-80e39e09aff2"), i.setAttribute("outsystems.function.owner.name", "Accounts"), i.setAttribute("outsystems.function.owner.key", "8a32fa32-34f5-4338-b6db-4f1ce8fdd638"), i.setAttribute("outsystems.function.type", "CLIENT_SCREEN_ACTION")), b.Flow.tryFinally(function() {
                        return t.ensureControllerAlive("NextOnClick"), e = t.callContext(e), b.Flow.executeAsyncFlow(function() {
                            return b.Flow.executeSequence(function() {
                                return n.variables.documentPagesIn.length === 2 ? b.Flow.executeSequence(function() {
                                    if (n.variables.isDroppedFirstDocumentVar && n.variables.isDroppedSecondDocumentVar) return n.variables.showRequiredErrorVar = !1, t.moveToNextStep$Action(n.variables.firstDocumentFileVar, n.variables.secondDocumentFileVar, e).then(function() {
                                        return b.Flow.returnAsync()
                                    })
                                }) : b.Flow.executeSequence(function() {
                                    if (n.variables.isDroppedFirstDocumentVar) return n.variables.showRequiredErrorVar = !1, t.moveToNextStep$Action(n.variables.firstDocumentFileVar, n.variables.secondDocumentFileVar, e).then(function() {
                                        return b.Flow.returnAsync()
                                    })
                                })
                            }).then(function() {
                                n.variables.showRequiredErrorVar = !0
                            })
                        })
                    }, function() {
                        i && i.end()
                    })
                }, 1)
            }), this.__nextOnClick$Action
        }
        set _nextOnClick$Action(e) {
            this.__nextOnClick$Action = e
        }
        get _droppableFileUploadOnClearFile2$Action() {
            return this.hasOwnProperty("__droppableFileUploadOnClearFile2$Action") || (this.__droppableFileUploadOnClearFile2$Action = function(e) {
                var n = this.model,
                    t = this.controller,
                    s = this.idService;
                return b.Logger.startActiveSpan("DroppableFileUploadOnClearFile2", function(i) {
                    i && (i.setAttribute("code.function", "DroppableFileUploadOnClearFile2"), i.setAttribute("outsystems.function.key", "f6574e0a-8254-40ec-a656-9dc04d5a02e7"), i.setAttribute("outsystems.function.owner.name", "Accounts"), i.setAttribute("outsystems.function.owner.key", "8a32fa32-34f5-4338-b6db-4f1ce8fdd638"), i.setAttribute("outsystems.function.type", "CLIENT_SCREEN_ACTION"));
                    try {
                        t.ensureControllerAlive("DroppableFileUploadOnClearFile2"), e = t.callContext(e), n.variables.isDroppedSecondDocumentVar = !1
                    } finally {
                        i && i.end()
                    }
                }, 1)
            }), this.__droppableFileUploadOnClearFile2$Action
        }
        set _droppableFileUploadOnClearFile2$Action(e) {
            this.__droppableFileUploadOnClearFile2$Action = e
        }
        get _onReady$Action() {
            return this.hasOwnProperty("__onReady$Action") || (this.__onReady$Action = function(e) {
                var n = this.model,
                    t = this.controller,
                    s = this.idService;
                return b.Logger.startActiveSpan("OnReady", function(i) {
                    i && (i.setAttribute("code.function", "OnReady"), i.setAttribute("outsystems.function.key", "ffbd5f5a-50c2-4a03-9b6a-b908d698590a"), i.setAttribute("outsystems.function.owner.name", "Accounts"), i.setAttribute("outsystems.function.owner.key", "8a32fa32-34f5-4338-b6db-4f1ce8fdd638"), i.setAttribute("outsystems.function.type", "CLIENT_SCREEN_ACTION"));
                    try {
                        t.ensureControllerAlive("OnReady"), e = t.callContext(e), n.variables.documentQuantityVar = n.variables.documentPagesIn.length, n.variables.pageTypeVar = n.variables.documentPagesIn.getCurrent(e.iterationContext)
                    } finally {
                        i && i.end()
                    }
                }, 1)
            }), this.__onReady$Action
        }
        set _onReady$Action(e) {
            this.__onReady$Action = e
        }
        droppableFileUploadOnDropFile2$Action(e, n, t) {
            var s = this.controller;
            return b.Logger.startActiveSpan("DroppableFileUploadOnDropFile2__proxy", function(i) {
                i && (i.setAttribute("code.function", "DroppableFileUploadOnDropFile2"), i.setAttribute("outsystems.function.key", "87fb271a-5d52-47dc-916b-2fa108efa5ca"), i.setAttribute("outsystems.function.owner.name", "Accounts"), i.setAttribute("outsystems.function.owner.key", "8a32fa32-34f5-4338-b6db-4f1ce8fdd638"), i.setAttribute("outsystems.function.type", "CLIENT_SCREEN_ACTION"));
                try {
                    return s.safeExecuteClientAction(s._droppableFileUploadOnDropFile2$Action, t, e, n)
                } finally {
                    i && i.end()
                }
            }, 0)
        }
        droppableFileUploadOnClearFile$Action(e) {
            var n = this.controller;
            return b.Logger.startActiveSpan("DroppableFileUploadOnClearFile__proxy", function(t) {
                t && (t.setAttribute("code.function", "DroppableFileUploadOnClearFile"), t.setAttribute("outsystems.function.key", "9fe7222e-c25d-440e-9ae0-c67848d312f5"), t.setAttribute("outsystems.function.owner.name", "Accounts"), t.setAttribute("outsystems.function.owner.key", "8a32fa32-34f5-4338-b6db-4f1ce8fdd638"), t.setAttribute("outsystems.function.type", "CLIENT_SCREEN_ACTION"));
                try {
                    return n.safeExecuteClientAction(n._droppableFileUploadOnClearFile$Action, e)
                } finally {
                    t && t.end()
                }
            }, 0)
        }
        droppableFileUploadOnDropFile$Action(e, n, t) {
            var s = this.controller;
            return b.Logger.startActiveSpan("DroppableFileUploadOnDropFile__proxy", function(i) {
                i && (i.setAttribute("code.function", "DroppableFileUploadOnDropFile"), i.setAttribute("outsystems.function.key", "a92b6ff0-80e6-4101-a8b5-9c9dba6f61b1"), i.setAttribute("outsystems.function.owner.name", "Accounts"), i.setAttribute("outsystems.function.owner.key", "8a32fa32-34f5-4338-b6db-4f1ce8fdd638"), i.setAttribute("outsystems.function.type", "CLIENT_SCREEN_ACTION"));
                try {
                    return s.safeExecuteClientAction(s._droppableFileUploadOnDropFile$Action, t, e, n)
                } finally {
                    i && i.end()
                }
            }, 0)
        }
        nextOnClick$Action(e) {
            var n = this.controller;
            return b.Logger.startActiveSpan("NextOnClick__proxy", function(t) {
                return t && (t.setAttribute("code.function", "NextOnClick"), t.setAttribute("outsystems.function.key", "d68fad9b-2cbf-4ed0-bce2-80e39e09aff2"), t.setAttribute("outsystems.function.owner.name", "Accounts"), t.setAttribute("outsystems.function.owner.key", "8a32fa32-34f5-4338-b6db-4f1ce8fdd638"), t.setAttribute("outsystems.function.type", "CLIENT_SCREEN_ACTION")), b.Flow.tryFinally(function() {
                    return n.safeExecuteClientAction(n._nextOnClick$Action, e)
                }, function() {
                    t && t.end()
                })
            }, 0)
        }
        droppableFileUploadOnClearFile2$Action(e) {
            var n = this.controller;
            return b.Logger.startActiveSpan("DroppableFileUploadOnClearFile2__proxy", function(t) {
                t && (t.setAttribute("code.function", "DroppableFileUploadOnClearFile2"), t.setAttribute("outsystems.function.key", "f6574e0a-8254-40ec-a656-9dc04d5a02e7"), t.setAttribute("outsystems.function.owner.name", "Accounts"), t.setAttribute("outsystems.function.owner.key", "8a32fa32-34f5-4338-b6db-4f1ce8fdd638"), t.setAttribute("outsystems.function.type", "CLIENT_SCREEN_ACTION"));
                try {
                    return n.safeExecuteClientAction(n._droppableFileUploadOnClearFile2$Action, e)
                } finally {
                    t && t.end()
                }
            }, 0)
        }
        onReady$Action(e) {
            var n = this.controller;
            return b.Logger.startActiveSpan("OnReady__proxy", function(t) {
                t && (t.setAttribute("code.function", "OnReady"), t.setAttribute("outsystems.function.key", "ffbd5f5a-50c2-4a03-9b6a-b908d698590a"), t.setAttribute("outsystems.function.owner.name", "Accounts"), t.setAttribute("outsystems.function.owner.key", "8a32fa32-34f5-4338-b6db-4f1ce8fdd638"), t.setAttribute("outsystems.function.type", "CLIENT_SCREEN_ACTION"));
                try {
                    return n.safeExecuteClientAction(n._onReady$Action, e)
                } finally {
                    t && t.end()
                }
            }, 0)
        }
        get moveToNextStep$Action() {
            return this.hasOwnProperty("_moveToNextStep$Action") || (this._moveToNextStep$Action = function() {
                return Promise.resolve()
            }), this._moveToNextStep$Action
        }
        set moveToNextStep$Action(e) {
            this._moveToNextStep$Action = e
        }
        get onInitializeEventHandler() {
            return this.hasOwnProperty("_onInitializeEventHandler") || (this._onInitializeEventHandler = null), this._onInitializeEventHandler
        }
        set onInitializeEventHandler(e) {
            this._onInitializeEventHandler = e
        }
        get onReadyEventHandler() {
            return this.hasOwnProperty("_onReadyEventHandler") || (this._onReadyEventHandler = function(e) {
                var n = this.controller,
                    t = this.model,
                    s = this.idService;
                return n.onReady$Action(e)
            }), this._onReadyEventHandler
        }
        set onReadyEventHandler(e) {
            this._onReadyEventHandler = e
        }
        get onRenderEventHandler() {
            return this.hasOwnProperty("_onRenderEventHandler") || (this._onRenderEventHandler = null), this._onRenderEventHandler
        }
        set onRenderEventHandler(e) {
            this._onRenderEventHandler = e
        }
        get onDestroyEventHandler() {
            return this.hasOwnProperty("_onDestroyEventHandler") || (this._onDestroyEventHandler = null), this._onDestroyEventHandler
        }
        set onDestroyEventHandler(e) {
            this._onDestroyEventHandler = e
        }
        get onParametersChangedEventHandler() {
            return this.hasOwnProperty("_onParametersChangedEventHandler") || (this._onParametersChangedEventHandler = null), this._onParametersChangedEventHandler
        }
        set onParametersChangedEventHandler(e) {
            this._onParametersChangedEventHandler = e
        }
        get handleError() {
            return this.hasOwnProperty("_handleError") || (this._handleError = function(e) {
                return controller.handleError(e)
            }), this._handleError
        }
        set handleError(e) {
            this._handleError = e
        }
        static checkPermissions() {}
        getDefaultTimeout() {
            return F.defaultTimeout
        }
    };
    a(r, "ControllerInner");
    let m = r;
    Ye = m, Ye.registerVariableGroupType("Accounts.ProofOfIdentity.ManualDocumentUploader.DroppableFileUploadOnDropFile2$vars", [{
        name: "File",
        attrName: "fileInLocal",
        mandatory: !0,
        dataType: b.DataTypes.DataTypes.Record,
        defaultValue: a(function() {
            return new J
        }, "defaultValue"),
        complexType: J
    }, {
        name: "Error",
        attrName: "errorInLocal",
        mandatory: !0,
        dataType: b.DataTypes.DataTypes.Record,
        defaultValue: a(function() {
            return new de
        }, "defaultValue"),
        complexType: de
    }]), Ye.registerVariableGroupType("Accounts.ProofOfIdentity.ManualDocumentUploader.DroppableFileUploadOnDropFile2$validateFileJSResult", [{
        name: "ValidFileSize",
        attrName: "validFileSizeOut",
        mandatory: !0,
        dataType: b.DataTypes.DataTypes.Boolean,
        defaultValue: a(function() {
            return !1
        }, "defaultValue")
    }, {
        name: "ValidFileType",
        attrName: "validFileTypeOut",
        mandatory: !0,
        dataType: b.DataTypes.DataTypes.Boolean,
        defaultValue: a(function() {
            return !1
        }, "defaultValue")
    }]), Ye.registerVariableGroupType("Accounts.ProofOfIdentity.ManualDocumentUploader.DroppableFileUploadOnDropFile$vars", [{
        name: "File",
        attrName: "fileInLocal",
        mandatory: !0,
        dataType: b.DataTypes.DataTypes.Record,
        defaultValue: a(function() {
            return new J
        }, "defaultValue"),
        complexType: J
    }, {
        name: "Error",
        attrName: "errorInLocal",
        mandatory: !0,
        dataType: b.DataTypes.DataTypes.Record,
        defaultValue: a(function() {
            return new de
        }, "defaultValue"),
        complexType: de
    }]), Ye.registerVariableGroupType("Accounts.ProofOfIdentity.ManualDocumentUploader.DroppableFileUploadOnDropFile$validateFileJSResult", [{
        name: "ValidFileSize",
        attrName: "validFileSizeOut",
        mandatory: !0,
        dataType: b.DataTypes.DataTypes.Boolean,
        defaultValue: a(function() {
            return !1
        }, "defaultValue")
    }, {
        name: "ValidFileType",
        attrName: "validFileTypeOut",
        mandatory: !0,
        dataType: b.DataTypes.DataTypes.Boolean,
        defaultValue: a(function() {
            return !1
        }, "defaultValue")
    }])
}
var Ye, Dr = new b.Controller.ControllerFactory(Ye, H);
var ye = D,
    _n = T.PlaceholderContent,
    vs = T.IteratorPlaceholderContent,
    $e = class $e extends M.BaseWebBlock {
        static get displayName() {
            return "ProofOfIdentity.ManualDocumentUploader"
        }
        static getAttributes() {
            return {
                codeFunction: "ManualDocumentUploader",
                functionKey: "d04babbd-4e93-4536-9e3c-658d2cbb2e87",
                functionOwnerName: "Accounts",
                functionOwnerKey: "8a32fa32-34f5-4338-b6db-4f1ce8fdd638",
                screen: ""
            }
        }
        static getCssDependencies() {
            return ["css/OutSystemsReactWidgets.css", "css/Accounts.ProofOfIdentity.ManualDocumentUploader.css"]
        }
        static getJsDependencies() {
            return []
        }
        static getBlocks() {
            return [ve]
        }
        get modelFactory() {
            return nr
        }
        get controllerFactory() {
            return Dr
        }
        get title() {
            return ""
        }
        internalRender() {
            let r = this.model,
                l = this.controller,
                e = this.idService,
                n = l.validationService,
                t = this.widgetsRecordProvider,
                s = l.callContext(),
                i = $e.ifWidget,
                f = $e.textWidget,
                c = $e.asPrimitiveValue,
                d = $e.getTranslation,
                u = this;
            return E.createElement("div", this.getRootNodeProperties(), i(r.variables.documentQuantityVar > 1, !1, this, function() {
                return [E.createElement(y, {
                    align: 0,
                    animate: !1,
                    visible: !0,
                    _idProps: {
                        service: e,
                        uuid: "0"
                    },
                    _widgetRecordProvider: t
                }, E.createElement(y, {
                    align: 0,
                    animate: !1,
                    extendedProperties: {
                        style: "padding: 16px 0px 16px 0px;"
                    },
                    visible: !0,
                    _idProps: {
                        service: e,
                        uuid: "1"
                    },
                    _widgetRecordProvider: t
                }, "Upload a front and back photo of your ", E.createElement(z, {
                    extendedProperties: {
                        style: "font-weight: bold;"
                    },
                    gridProperties: {
                        marginLeft: "0"
                    },
                    value: r.getCachedValue(e.getId("zYBvwvvK2UKra8E7l9ZSXg.Value"), function() {
                        return r.variables.documentTypeIn === "nimc_slip" ? r.variables.documentNameIn : ye.BuiltinFunctions.toLower(r.variables.documentNameIn)
                    }, function() {
                        return r.variables.documentTypeIn
                    }, function() {
                        return r.variables.documentNameIn
                    }),
                    _idProps: {
                        service: e,
                        uuid: "2"
                    },
                    _widgetRecordProvider: t,
                    value_dataFetchStatus: ye.Model.calculateDataFetchStatus(r.variables._documentTypeInDataFetchStatus, r.variables._documentNameInDataFetchStatus)
                })), E.createElement(y, {
                    align: 0,
                    animate: !1,
                    style: "display-flex column-gap-m",
                    visible: !0,
                    _idProps: {
                        service: e,
                        uuid: "3"
                    },
                    _widgetRecordProvider: t
                }, E.createElement(y, {
                    align: 0,
                    animate: !1,
                    style: "flex1 ",
                    visible: !0,
                    _idProps: {
                        service: e,
                        uuid: "4"
                    },
                    _widgetRecordProvider: t
                }, E.createElement(ve, {
                    getOwnerSpan: a(function() {
                        return u.getChildSpan("render")
                    }, "getOwnerSpan"),
                    getOwnerDisposeSpan: a(function() {
                        return u.getChildSpan("destroy")
                    }, "getOwnerDisposeSpan"),
                    inputs: {
                        ElementId: "front",
                        ShowImagePreview: r.variables.isDroppedFirstDocumentVar && !0,
                        Multipe: !1
                    },
                    events: {
                        _handleError: a(function(o) {
                            l.handleError(o)
                        }, "_handleError"),
                        onDropFile$Action: a(function(o, v) {
                            var p = s.clone();
                            l.droppableFileUploadOnDropFile$Action(o, v, l.callContext(p))
                        }, "onDropFile$Action"),
                        onClearFile$Action: a(function() {
                            var o = s.clone();
                            l.droppableFileUploadOnClearFile$Action(l.callContext(o))
                        }, "onClearFile$Action")
                    },
                    _validationProps: {
                        validationService: n
                    },
                    _idProps: {
                        service: e,
                        uuid: "5",
                        alias: "1"
                    },
                    _widgetRecordProvider: t,
                    placeholders: {
                        dropArea: new _n(function() {
                            return [E.createElement(y, {
                                align: 0,
                                animate: !1,
                                visible: !0,
                                _idProps: {
                                    service: e,
                                    uuid: "6"
                                },
                                _widgetRecordProvider: t
                            }, E.createElement(y, {
                                align: 0,
                                animate: !0,
                                extendedProperties: {
                                    style: "margin-top: 0px; text-align: center;"
                                },
                                style: r.getCachedValue(e.getId("J9ro3dlCqEiaENqxwg8T3A.Style"), function() {
                                    return "uploader-container display-flex flex-direction-column  " + (r.variables.showRequiredErrorVar && !r.variables.isDroppedFirstDocumentVar ? "error-border " : "")
                                }, function() {
                                    return r.variables.showRequiredErrorVar
                                }, function() {
                                    return r.variables.isDroppedFirstDocumentVar
                                }),
                                visible: !r.variables.isDroppedFirstDocumentVar,
                                _idProps: {
                                    service: e,
                                    uuid: "7"
                                },
                                _widgetRecordProvider: t
                            }, E.createElement(U, {
                                image: ye.Navigation.VersionedURL.getVersionedUrl("img/Accounts.IdentityIcon.svg"),
                                type: 0,
                                _idProps: {
                                    service: e,
                                    uuid: "8"
                                },
                                _widgetRecordProvider: t
                            }), E.createElement(_, {
                                style: "font-bold",
                                text: ["Drop or upload front photo"],
                                _idProps: {
                                    service: e,
                                    uuid: "9"
                                },
                                _widgetRecordProvider: t
                            }), E.createElement(_, {
                                extendedProperties: {
                                    style: "color: #6A7178; font-size: 12px; margin-top: 4px;"
                                },
                                text: ["JPEG, JPG, PNG, PDF or GIF; <8MB"],
                                _idProps: {
                                    service: e,
                                    uuid: "10"
                                },
                                _widgetRecordProvider: t
                            })))]
                        })
                    },
                    _dependencies: [c(r.variables.isDroppedFirstDocumentVar), c(r.variables.showRequiredErrorVar)]
                }), i(r.variables.showRequiredErrorVar && !r.variables.isDroppedFirstDocumentVar, !1, this, function() {
                    return [E.createElement(_, {
                        extendedProperties: {
                            style: "color: #DC2020;"
                        },
                        text: ["*This is required."],
                        _idProps: {
                            service: e,
                            uuid: "11"
                        },
                        _widgetRecordProvider: t
                    })]
                }, function() {
                    return []
                })), E.createElement(y, {
                    align: 0,
                    animate: !1,
                    style: "flex1 ",
                    visible: !0,
                    _idProps: {
                        service: e,
                        uuid: "12"
                    },
                    _widgetRecordProvider: t
                }, E.createElement(ve, {
                    getOwnerSpan: a(function() {
                        return u.getChildSpan("render")
                    }, "getOwnerSpan"),
                    getOwnerDisposeSpan: a(function() {
                        return u.getChildSpan("destroy")
                    }, "getOwnerDisposeSpan"),
                    inputs: {
                        ElementId: "back",
                        ShowImagePreview: r.variables.isDroppedSecondDocumentVar && !0,
                        Multipe: !1
                    },
                    events: {
                        _handleError: a(function(o) {
                            l.handleError(o)
                        }, "_handleError"),
                        onClearFile$Action: a(function() {
                            var o = s.clone();
                            l.droppableFileUploadOnClearFile2$Action(l.callContext(o))
                        }, "onClearFile$Action"),
                        onDropFile$Action: a(function(o, v) {
                            var p = s.clone();
                            l.droppableFileUploadOnDropFile2$Action(o, v, l.callContext(p))
                        }, "onDropFile$Action")
                    },
                    _validationProps: {
                        validationService: n
                    },
                    _idProps: {
                        service: e,
                        uuid: "13",
                        alias: "2"
                    },
                    _widgetRecordProvider: t,
                    placeholders: {
                        dropArea: new _n(function() {
                            return [E.createElement(y, {
                                align: 0,
                                animate: !1,
                                visible: !0,
                                _idProps: {
                                    service: e,
                                    uuid: "14"
                                },
                                _widgetRecordProvider: t
                            }, E.createElement(y, {
                                align: 0,
                                animate: !0,
                                extendedProperties: {
                                    style: "margin-top: 0px; text-align: center;"
                                },
                                style: r.getCachedValue(e.getId("dcm0_GoiVUGZjvVcElby1A.Style"), function() {
                                    return "uploader-container display-flex flex-direction-column " + (r.variables.showRequiredErrorVar && !r.variables.isDroppedSecondDocumentVar ? "error-border " : "")
                                }, function() {
                                    return r.variables.showRequiredErrorVar
                                }, function() {
                                    return r.variables.isDroppedSecondDocumentVar
                                }),
                                visible: !r.variables.isDroppedSecondDocumentVar,
                                _idProps: {
                                    service: e,
                                    uuid: "15"
                                },
                                _widgetRecordProvider: t
                            }, E.createElement(U, {
                                image: ye.Navigation.VersionedURL.getVersionedUrl("img/Accounts.IdentityIcon.svg"),
                                type: 0,
                                _idProps: {
                                    service: e,
                                    uuid: "16"
                                },
                                _widgetRecordProvider: t
                            }), E.createElement(_, {
                                style: "font-bold",
                                text: ["Drop or upload back photo"],
                                _idProps: {
                                    service: e,
                                    uuid: "17"
                                },
                                _widgetRecordProvider: t
                            }), E.createElement(_, {
                                extendedProperties: {
                                    style: "color: #6A7178; font-size: 12px; margin-top: 4px;"
                                },
                                text: ["JPEG, JPG, PNG, PDF or GIF; <8MB"],
                                _idProps: {
                                    service: e,
                                    uuid: "18"
                                },
                                _widgetRecordProvider: t
                            })))]
                        })
                    },
                    _dependencies: [c(r.variables.isDroppedSecondDocumentVar), c(r.variables.showRequiredErrorVar)]
                }), i(r.variables.showRequiredErrorVar && !r.variables.isDroppedSecondDocumentVar, !1, this, function() {
                    return [E.createElement(_, {
                        extendedProperties: {
                            style: "color: #DC2020;"
                        },
                        text: ["*This is required."],
                        _idProps: {
                            service: e,
                            uuid: "19"
                        },
                        _widgetRecordProvider: t
                    })]
                }, function() {
                    return []
                }))))]
            }, function() {
                return [E.createElement(y, {
                    align: 0,
                    animate: !1,
                    visible: !0,
                    _idProps: {
                        service: e,
                        uuid: "20"
                    },
                    _widgetRecordProvider: t
                }, E.createElement(y, {
                    align: 0,
                    animate: !1,
                    extendedProperties: {
                        style: "padding: 16px 0px 16px 0px;"
                    },
                    visible: !0,
                    _idProps: {
                        service: e,
                        uuid: "21"
                    },
                    _widgetRecordProvider: t
                }, E.createElement(_, {
                    text: ["Upload the "],
                    _idProps: {
                        service: e,
                        name: "Uploadthe__DocumentType__pagethathasyourphoto__2"
                    },
                    _widgetRecordProvider: t
                }), E.createElement(z, {
                    extendedProperties: {
                        style: "font-weight: bold;"
                    },
                    gridProperties: {
                        marginLeft: "0"
                    },
                    value: r.getCachedValue(e.getId("i6hH_jHQjUS2vfZGBAfqnQ.Value"), function() {
                        return r.variables.documentTypeIn === "nimc_slip" ? r.variables.documentNameIn : ye.BuiltinFunctions.toLower(r.variables.documentNameIn)
                    }, function() {
                        return r.variables.documentTypeIn
                    }, function() {
                        return r.variables.documentNameIn
                    }),
                    _idProps: {
                        service: e,
                        uuid: "23"
                    },
                    _widgetRecordProvider: t,
                    value_dataFetchStatus: ye.Model.calculateDataFetchStatus(r.variables._documentTypeInDataFetchStatus, r.variables._documentNameInDataFetchStatus)
                }), E.createElement(_, {
                    text: [" page that has your photo."],
                    _idProps: {
                        service: e,
                        name: "Uploadthe__DocumentType__pagethathasyourphoto__3"
                    },
                    _widgetRecordProvider: t
                })), E.createElement(ve, {
                    getOwnerSpan: a(function() {
                        return u.getChildSpan("render")
                    }, "getOwnerSpan"),
                    getOwnerDisposeSpan: a(function() {
                        return u.getChildSpan("destroy")
                    }, "getOwnerDisposeSpan"),
                    inputs: {
                        ElementId: "uploader",
                        Multipe: !1,
                        ShowImagePreview: r.variables.isDroppedFirstDocumentVar && !0
                    },
                    events: {
                        _handleError: a(function(o) {
                            l.handleError(o)
                        }, "_handleError"),
                        onClearFile$Action: a(function() {
                            var o = s.clone();
                            l.droppableFileUploadOnClearFile$Action(l.callContext(o))
                        }, "onClearFile$Action"),
                        onDropFile$Action: a(function(o, v) {
                            var p = s.clone();
                            l.droppableFileUploadOnDropFile$Action(o, v, l.callContext(p))
                        }, "onDropFile$Action")
                    },
                    _validationProps: {
                        validationService: n
                    },
                    _idProps: {
                        service: e,
                        uuid: "25",
                        alias: "3"
                    },
                    _widgetRecordProvider: t,
                    placeholders: {
                        dropArea: new _n(function() {
                            return [E.createElement(y, {
                                align: 0,
                                animate: !1,
                                visible: !0,
                                _idProps: {
                                    service: e,
                                    uuid: "26"
                                },
                                _widgetRecordProvider: t
                            }, E.createElement(y, {
                                align: 0,
                                animate: !0,
                                extendedProperties: {
                                    style: "margin-top: 0px; text-align: center;"
                                },
                                style: r.getCachedValue(e.getId("gZ3_e6ICKEaP23kFN2r2Zw.Style"), function() {
                                    return "uploader-container display-flex flex-direction-column  " + (r.variables.showRequiredErrorVar && !r.variables.isDroppedFirstDocumentVar ? "error-border " : "")
                                }, function() {
                                    return r.variables.showRequiredErrorVar
                                }, function() {
                                    return r.variables.isDroppedFirstDocumentVar
                                }),
                                visible: !r.variables.isDroppedFirstDocumentVar,
                                _idProps: {
                                    service: e,
                                    uuid: "27"
                                },
                                _widgetRecordProvider: t
                            }, E.createElement(U, {
                                image: ye.Navigation.VersionedURL.getVersionedUrl("img/Accounts.IdentityIcon.svg"),
                                type: 0,
                                _idProps: {
                                    service: e,
                                    uuid: "28"
                                },
                                _widgetRecordProvider: t
                            }), E.createElement(z, {
                                gridProperties: {
                                    classes: "ThemeGrid_MarginGutter"
                                },
                                style: "font-bold",
                                value: r.getCachedValue(e.getId("FRe3E8k1rUC7Ha0v21mJhw.Value"), function() {
                                    return "Drop or upload " + (r.variables.documentTypeIn === "nimc_slip" ? r.variables.documentNameIn : ye.BuiltinFunctions.toLower(r.variables.documentNameIn)) + " page with photo"
                                }, function() {
                                    return r.variables.documentTypeIn
                                }, function() {
                                    return r.variables.documentNameIn
                                }),
                                _idProps: {
                                    service: e,
                                    uuid: "29"
                                },
                                _widgetRecordProvider: t,
                                value_dataFetchStatus: ye.Model.calculateDataFetchStatus(r.variables._documentTypeInDataFetchStatus, r.variables._documentNameInDataFetchStatus)
                            }), E.createElement(_, {
                                extendedProperties: {
                                    style: "color: #6A7178; font-size: 12px; margin-top: 4px;"
                                },
                                text: ["JPEG, JPG, PNG, PDF or GIF; <8MB"],
                                _idProps: {
                                    service: e,
                                    uuid: "30"
                                },
                                _widgetRecordProvider: t
                            })))]
                        })
                    },
                    _dependencies: [c(r.variables._documentNameInDataFetchStatus), c(r.variables._documentTypeInDataFetchStatus), c(r.variables.documentNameIn), c(r.variables.documentTypeIn), c(r.variables.isDroppedFirstDocumentVar), c(r.variables.showRequiredErrorVar)]
                }), i(r.variables.showRequiredErrorVar && !r.variables.isDroppedSecondDocumentVar, !1, this, function() {
                    return [E.createElement(_, {
                        extendedProperties: {
                            style: "color: #DC2020;"
                        },
                        text: ["*This is required."],
                        _idProps: {
                            service: e,
                            uuid: "31"
                        },
                        _widgetRecordProvider: t
                    })]
                }, function() {
                    return []
                }))]
            }), E.createElement(y, {
                align: 0,
                animate: !1,
                extendedProperties: {
                    style: "margin-bottom: 16px; margin-top: 16px; padding: 16px; text-align: left;"
                },
                style: "padding-base display-flex flex-direction-column row-gap-s uploader-container__info",
                visible: !0,
                _idProps: {
                    service: e,
                    uuid: "32"
                },
                _widgetRecordProvider: t
            }, i(r.variables.documentTypeIn === "nimc_slip", !1, this, function() {
                return [E.createElement(y, {
                    align: 0,
                    animate: !1,
                    style: "display-flex align-items-center column-gap-xs",
                    visible: !0,
                    _idProps: {
                        service: e,
                        uuid: "33"
                    },
                    _widgetRecordProvider: t
                }, E.createElement(U, {
                    image: ye.Navigation.VersionedURL.getVersionedUrl("img/Accounts.StandaloneLightbulbBoldIcon.svg"),
                    type: 0,
                    _idProps: {
                        service: e,
                        uuid: "34"
                    },
                    _widgetRecordProvider: t
                }), E.createElement(_, {
                    style: "font-bold font-size-s uploader-container__info-header",
                    text: ["Important:"],
                    _idProps: {
                        service: e,
                        uuid: "35"
                    },
                    _widgetRecordProvider: t
                }), E.createElement(_, {
                    style: "",
                    text: ["Upload a clear, colour photo, or scanned image of the document."],
                    _idProps: {
                        service: e,
                        uuid: "36"
                    },
                    _widgetRecordProvider: t
                }))]
            }, function() {
                return [E.createElement(y, {
                    align: 0,
                    animate: !1,
                    style: "display-flex align-items-center column-gap-xs",
                    visible: !0,
                    _idProps: {
                        service: e,
                        uuid: "37"
                    },
                    _widgetRecordProvider: t
                }, E.createElement(U, {
                    image: ye.Navigation.VersionedURL.getVersionedUrl("img/Accounts.StandaloneLightbulbBoldIcon.svg"),
                    type: 0,
                    _idProps: {
                        service: e,
                        uuid: "38"
                    },
                    _widgetRecordProvider: t
                }), E.createElement(_, {
                    style: "font-bold font-size-s uploader-container__info-header",
                    text: ["Important"],
                    _idProps: {
                        service: e,
                        uuid: "39"
                    },
                    _widgetRecordProvider: t
                })), E.createElement(y, {
                    align: 0,
                    animate: !1,
                    style: "row-gap-s display-flex flex-direction-column",
                    visible: !0,
                    _idProps: {
                        service: e,
                        uuid: "40"
                    },
                    _widgetRecordProvider: t
                }, E.createElement(_, {
                    style: "bullet-item",
                    text: ["Ensure the document is valid for at least 6 months."],
                    _idProps: {
                        service: e,
                        uuid: "41"
                    },
                    _widgetRecordProvider: t
                }), E.createElement(_, {
                    style: "bullet-item",
                    text: ["Upload a clear, colour photo, or scanned image of the document."],
                    _idProps: {
                        service: e,
                        uuid: "42"
                    },
                    _widgetRecordProvider: t
                }))]
            })), E.createElement(y, {
                align: 0,
                animate: !1,
                extendedProperties: {
                    style: "padding: 16px;"
                },
                style: "display-flex manual-doc-number__btn--layout",
                visible: !0,
                _idProps: {
                    service: e,
                    uuid: "43"
                },
                _widgetRecordProvider: t
            }, E.createElement(ue, {
                enabled: !0,
                isDefault: !1,
                onClick: a(function() {
                    return u.validateWidget(""), Promise.resolve().then(function() {
                        var o = s.clone();
                        return l.nextOnClick$Action(l.callContext(o))
                    })
                }, "onClick"),
                style: "btn btn-primary deriv-btn manual-doc-number__btn",
                visible: !0,
                _idProps: {
                    service: e,
                    uuid: "44"
                },
                _widgetRecordProvider: t
            }, "Next")))
        }
    };
a($e, "View");
var An = $e,
    Sn = An;
var B = re(ie());

function Dn(m, r, l, e) {
    let n = ["jpg", "gif", "png", "jpeg", "pdf"],
        t = m.ValidateFileType && n.indexOf(m.ValidateFileType.split("/").pop()) > -1,
        i = m.ValidateFileSize <= 8388608;
    m.ValidFileSize = i, m.ValidFileType = t
}
a(Dn, "default");
var I = D; {
    let r = class r extends I.Controller.BaseViewController {
        constructor(e, n, t) {
            super(e, n, t);
            var s = this.controller;
            this.clientActionProxies = {}, this.dataFetchDependenciesOriginal = {}, this.dataFetchDependentsGraph = {}, this.shouldSendClientVarsToDataSources = !1
        }
        get dataFetchActionNames() {
            return this.hasOwnProperty("_dataFetchActionNames") || (this._dataFetchActionNames = []), this._dataFetchActionNames
        }
        set dataFetchActionNames(e) {
            this._dataFetchActionNames = e
        }
        get _droppableSelfieUploadOnClearFile$Action() {
            return this.hasOwnProperty("__droppableSelfieUploadOnClearFile$Action") || (this.__droppableSelfieUploadOnClearFile$Action = function(e) {
                var n = this.model,
                    t = this.controller,
                    s = this.idService;
                return I.Logger.startActiveSpan("DroppableSelfieUploadOnClearFile", function(i) {
                    i && (i.setAttribute("code.function", "DroppableSelfieUploadOnClearFile"), i.setAttribute("outsystems.function.key", "036029a3-b809-4546-9dad-293a42628191"), i.setAttribute("outsystems.function.owner.name", "Accounts"), i.setAttribute("outsystems.function.owner.key", "8a32fa32-34f5-4338-b6db-4f1ce8fdd638"), i.setAttribute("outsystems.function.type", "CLIENT_SCREEN_ACTION"));
                    try {
                        t.ensureControllerAlive("DroppableSelfieUploadOnClearFile"), e = t.callContext(e);
                        var f = new I.DataTypes.VariableHolder;
                        f.value = F.clearFileData$Action(n.variables.selfieVar, e), n.variables.selfieVar = f.value.clearedFileDataRefOut, n.variables.showRequiredErrorVar = !0
                    } finally {
                        i && i.end()
                    }
                }, 1)
            }), this.__droppableSelfieUploadOnClearFile$Action
        }
        set _droppableSelfieUploadOnClearFile$Action(e) {
            this.__droppableSelfieUploadOnClearFile$Action = e
        }
        get _nextOnClick$Action() {
            return this.hasOwnProperty("__nextOnClick$Action") || (this.__nextOnClick$Action = function(e) {
                var n = this.model,
                    t = this.controller,
                    s = this.idService;
                return I.Logger.startActiveSpan("NextOnClick", function(i) {
                    return i && (i.setAttribute("code.function", "NextOnClick"), i.setAttribute("outsystems.function.key", "375b9380-443c-4f20-ae1f-16552935cc48"), i.setAttribute("outsystems.function.owner.name", "Accounts"), i.setAttribute("outsystems.function.owner.key", "8a32fa32-34f5-4338-b6db-4f1ce8fdd638"), i.setAttribute("outsystems.function.type", "CLIENT_SCREEN_ACTION")), I.Flow.tryFinally(function() {
                        return t.ensureControllerAlive("NextOnClick"), e = t.callContext(e), I.Flow.executeAsyncFlow(function() {
                            return n.variables.showRequiredErrorVar = I.DataTypes.areBinaryNulls(n.variables.selfieVar.fileContentAttr, I.BuiltinFunctions.nullBinary()), I.Flow.executeSequence(function() {
                                if (!I.DataTypes.areBinaryNulls(n.variables.selfieVar.fileContentAttr, I.BuiltinFunctions.nullBinary())) return n.variables.allowUploadIn = !1, t.onChangeSelfie$Action(n.variables.selfieVar, e).then(function() {
                                    return t.moveToNextStep$Action(e)
                                })
                            })
                        })
                    }, function() {
                        i && i.end()
                    })
                }, 1)
            }), this.__nextOnClick$Action
        }
        set _nextOnClick$Action(e) {
            this.__nextOnClick$Action = e
        }
        get _onParametersChanged$Action() {
            return this.hasOwnProperty("__onParametersChanged$Action") || (this.__onParametersChanged$Action = function(e) {
                var n = this.model,
                    t = this.controller,
                    s = this.idService;
                return I.Logger.startActiveSpan("OnParametersChanged", function(i) {
                    i && (i.setAttribute("code.function", "OnParametersChanged"), i.setAttribute("outsystems.function.key", "43d23afa-7e2d-4801-9e41-5d48c3a01510"), i.setAttribute("outsystems.function.owner.name", "Accounts"), i.setAttribute("outsystems.function.owner.key", "8a32fa32-34f5-4338-b6db-4f1ce8fdd638"), i.setAttribute("outsystems.function.type", "CLIENT_SCREEN_ACTION"));
                    try {
                        t.ensureControllerAlive("OnParametersChanged"), e = t.callContext(e), n.variables.isRequestInProcessVar = !n.variables.allowUploadIn
                    } finally {
                        i && i.end()
                    }
                }, 1)
            }), this.__onParametersChanged$Action
        }
        set _onParametersChanged$Action(e) {
            this.__onParametersChanged$Action = e
        }
        get _droppableSelfieUploadOnDropFile$Action() {
            return this.hasOwnProperty("__droppableSelfieUploadOnDropFile$Action") || (this.__droppableSelfieUploadOnDropFile$Action = function(e, n, t) {
                var s = this.model,
                    i = this.controller,
                    f = this.idService;
                return I.Logger.startActiveSpan("DroppableSelfieUploadOnDropFile", function(c) {
                    c && (c.setAttribute("code.function", "DroppableSelfieUploadOnDropFile"), c.setAttribute("outsystems.function.key", "802a824a-e6cf-41af-9278-b5d807d8ef47"), c.setAttribute("outsystems.function.owner.name", "Accounts"), c.setAttribute("outsystems.function.owner.key", "8a32fa32-34f5-4338-b6db-4f1ce8fdd638"), c.setAttribute("outsystems.function.type", "CLIENT_SCREEN_ACTION"));
                    try {
                        i.ensureControllerAlive("DroppableSelfieUploadOnDropFile"), t = i.callContext(t);
                        var d = new I.DataTypes.VariableHolder(new(i.constructor.getVariableGroupType("Accounts.ProofOfIdentity.ManualSelfieUpload.DroppableSelfieUploadOnDropFile$vars")));
                        d.value.fileInLocal = e.clone(), d.value.errorInLocal = n.clone();
                        var u = new I.DataTypes.VariableHolder;
                        s.variables.selfieVar = d.value.fileInLocal, s.variables.showRequiredErrorVar = !d.value.errorInLocal.successAttr, u.value = I.Logger.startActiveSpan("ValidateFile", function(o) {
                            o && (o.setAttribute("code.function", "ValidateFile"), o.setAttribute("outsystems.function.key", "c9879277-987c-4f75-98c6-0062bf03dc3c"), o.setAttribute("outsystems.function.owner.name", "Accounts"), o.setAttribute("outsystems.function.owner.key", "8a32fa32-34f5-4338-b6db-4f1ce8fdd638"), o.setAttribute("outsystems.function.type", "JAVASCRIPT"));
                            try {
                                return i.safeExecuteJSNode(Dn, "ValidateFile", "DroppableSelfieUploadOnDropFile", {
                                    ValidateFileType: I.DataConversion.JSNodeParamConverter.to(d.value.fileInLocal.fileMimeTypeAttr, I.DataTypes.DataTypes.Text),
                                    ValidateFileSize: I.DataConversion.JSNodeParamConverter.to(d.value.fileInLocal.fileSizeAttr, I.DataTypes.DataTypes.Text),
                                    ValidateFileContent: I.DataConversion.JSNodeParamConverter.to(d.value.fileInLocal.fileContentAttr, I.DataTypes.DataTypes.BinaryData),
                                    ValidateFileName: I.DataConversion.JSNodeParamConverter.to(d.value.fileInLocal.fileNameAttr, I.DataTypes.DataTypes.Text),
                                    FileStatus: I.DataConversion.JSNodeParamConverter.to(d.value.errorInLocal.successAttr, I.DataTypes.DataTypes.Boolean),
                                    ValidFileSize: I.DataConversion.JSNodeParamConverter.to(!1, I.DataTypes.DataTypes.Boolean),
                                    ValidFileType: I.DataConversion.JSNodeParamConverter.to(!1, I.DataTypes.DataTypes.Boolean)
                                }, function(v) {
                                    var p = new(i.constructor.getVariableGroupType("Accounts.ProofOfIdentity.ManualSelfieUpload.DroppableSelfieUploadOnDropFile$validateFileJSResult"));
                                    return p.validFileSizeOut = I.DataConversion.JSNodeParamConverter.from(v.ValidFileSize, I.DataTypes.DataTypes.Boolean), p.validFileTypeOut = I.DataConversion.JSNodeParamConverter.from(v.ValidFileType, I.DataTypes.DataTypes.Boolean), p
                                }, {}, {})
                            } finally {
                                o && o.end()
                            }
                        }, 1), u.value.validFileSizeOut ? u.value.validFileTypeOut || I.FeedbackMessageService.showFeedbackMessage("Photo must be in these formate JPEG, JPG, PNG, PDF or GIF.", 3) : I.FeedbackMessageService.showFeedbackMessage("Photo must be 8MB or smaller.", 3)
                    } finally {
                        c && c.end()
                    }
                }, 1)
            }), this.__droppableSelfieUploadOnDropFile$Action
        }
        set _droppableSelfieUploadOnDropFile$Action(e) {
            this.__droppableSelfieUploadOnDropFile$Action = e
        }
        get _onDestroy$Action() {
            return this.hasOwnProperty("__onDestroy$Action") || (this.__onDestroy$Action = function(e) {
                var n = this.model,
                    t = this.controller,
                    s = this.idService;
                return I.Logger.startActiveSpan("OnDestroy", function(i) {
                    return i && (i.setAttribute("code.function", "OnDestroy"), i.setAttribute("outsystems.function.key", "8fc40b00-1fb1-4b0c-b5e1-86876c9dd671"), i.setAttribute("outsystems.function.owner.name", "Accounts"), i.setAttribute("outsystems.function.owner.key", "8a32fa32-34f5-4338-b6db-4f1ce8fdd638"), i.setAttribute("outsystems.function.type", "CLIENT_SCREEN_ACTION")), I.Flow.tryFinally(function() {
                        return t.ensureControllerAlive("OnDestroy"), e = t.callContext(e), I.Flow.executeAsyncFlow(function() {
                            return t.onChangeSelfie$Action(n.variables.selfieVar, e)
                        })
                    }, function() {
                        i && i.end()
                    })
                }, 1)
            }), this.__onDestroy$Action
        }
        set _onDestroy$Action(e) {
            this.__onDestroy$Action = e
        }
        droppableSelfieUploadOnClearFile$Action(e) {
            var n = this.controller;
            return I.Logger.startActiveSpan("DroppableSelfieUploadOnClearFile__proxy", function(t) {
                t && (t.setAttribute("code.function", "DroppableSelfieUploadOnClearFile"), t.setAttribute("outsystems.function.key", "036029a3-b809-4546-9dad-293a42628191"), t.setAttribute("outsystems.function.owner.name", "Accounts"), t.setAttribute("outsystems.function.owner.key", "8a32fa32-34f5-4338-b6db-4f1ce8fdd638"), t.setAttribute("outsystems.function.type", "CLIENT_SCREEN_ACTION"));
                try {
                    return n.safeExecuteClientAction(n._droppableSelfieUploadOnClearFile$Action, e)
                } finally {
                    t && t.end()
                }
            }, 0)
        }
        nextOnClick$Action(e) {
            var n = this.controller;
            return I.Logger.startActiveSpan("NextOnClick__proxy", function(t) {
                return t && (t.setAttribute("code.function", "NextOnClick"), t.setAttribute("outsystems.function.key", "375b9380-443c-4f20-ae1f-16552935cc48"), t.setAttribute("outsystems.function.owner.name", "Accounts"), t.setAttribute("outsystems.function.owner.key", "8a32fa32-34f5-4338-b6db-4f1ce8fdd638"), t.setAttribute("outsystems.function.type", "CLIENT_SCREEN_ACTION")), I.Flow.tryFinally(function() {
                    return n.safeExecuteClientAction(n._nextOnClick$Action, e)
                }, function() {
                    t && t.end()
                })
            }, 0)
        }
        onParametersChanged$Action(e) {
            var n = this.controller;
            return I.Logger.startActiveSpan("OnParametersChanged__proxy", function(t) {
                t && (t.setAttribute("code.function", "OnParametersChanged"), t.setAttribute("outsystems.function.key", "43d23afa-7e2d-4801-9e41-5d48c3a01510"), t.setAttribute("outsystems.function.owner.name", "Accounts"), t.setAttribute("outsystems.function.owner.key", "8a32fa32-34f5-4338-b6db-4f1ce8fdd638"), t.setAttribute("outsystems.function.type", "CLIENT_SCREEN_ACTION"));
                try {
                    return n.safeExecuteClientAction(n._onParametersChanged$Action, e)
                } finally {
                    t && t.end()
                }
            }, 0)
        }
        droppableSelfieUploadOnDropFile$Action(e, n, t) {
            var s = this.controller;
            return I.Logger.startActiveSpan("DroppableSelfieUploadOnDropFile__proxy", function(i) {
                i && (i.setAttribute("code.function", "DroppableSelfieUploadOnDropFile"), i.setAttribute("outsystems.function.key", "802a824a-e6cf-41af-9278-b5d807d8ef47"), i.setAttribute("outsystems.function.owner.name", "Accounts"), i.setAttribute("outsystems.function.owner.key", "8a32fa32-34f5-4338-b6db-4f1ce8fdd638"), i.setAttribute("outsystems.function.type", "CLIENT_SCREEN_ACTION"));
                try {
                    return s.safeExecuteClientAction(s._droppableSelfieUploadOnDropFile$Action, t, e, n)
                } finally {
                    i && i.end()
                }
            }, 0)
        }
        onDestroy$Action(e) {
            var n = this.controller;
            return I.Logger.startActiveSpan("OnDestroy__proxy", function(t) {
                return t && (t.setAttribute("code.function", "OnDestroy"), t.setAttribute("outsystems.function.key", "8fc40b00-1fb1-4b0c-b5e1-86876c9dd671"), t.setAttribute("outsystems.function.owner.name", "Accounts"), t.setAttribute("outsystems.function.owner.key", "8a32fa32-34f5-4338-b6db-4f1ce8fdd638"), t.setAttribute("outsystems.function.type", "CLIENT_SCREEN_ACTION")), I.Flow.tryFinally(function() {
                    return n.safeExecuteClientAction(n._onDestroy$Action, e)
                }, function() {
                    t && t.end()
                })
            }, 0)
        }
        get onChangeSelfie$Action() {
            return this.hasOwnProperty("_onChangeSelfie$Action") || (this._onChangeSelfie$Action = function() {
                return Promise.resolve()
            }), this._onChangeSelfie$Action
        }
        set onChangeSelfie$Action(e) {
            this._onChangeSelfie$Action = e
        }
        get moveToNextStep$Action() {
            return this.hasOwnProperty("_moveToNextStep$Action") || (this._moveToNextStep$Action = function() {
                return Promise.resolve()
            }), this._moveToNextStep$Action
        }
        set moveToNextStep$Action(e) {
            this._moveToNextStep$Action = e
        }
        get onInitializeEventHandler() {
            return this.hasOwnProperty("_onInitializeEventHandler") || (this._onInitializeEventHandler = null), this._onInitializeEventHandler
        }
        set onInitializeEventHandler(e) {
            this._onInitializeEventHandler = e
        }
        get onReadyEventHandler() {
            return this.hasOwnProperty("_onReadyEventHandler") || (this._onReadyEventHandler = null), this._onReadyEventHandler
        }
        set onReadyEventHandler(e) {
            this._onReadyEventHandler = e
        }
        get onRenderEventHandler() {
            return this.hasOwnProperty("_onRenderEventHandler") || (this._onRenderEventHandler = null), this._onRenderEventHandler
        }
        set onRenderEventHandler(e) {
            this._onRenderEventHandler = e
        }
        get onDestroyEventHandler() {
            return this.hasOwnProperty("_onDestroyEventHandler") || (this._onDestroyEventHandler = function(e) {
                var n = this.controller,
                    t = this.model,
                    s = this.idService;
                return n.onDestroy$Action(e)
            }), this._onDestroyEventHandler
        }
        set onDestroyEventHandler(e) {
            this._onDestroyEventHandler = e
        }
        get onParametersChangedEventHandler() {
            return this.hasOwnProperty("_onParametersChangedEventHandler") || (this._onParametersChangedEventHandler = function(e) {
                var n = this.controller,
                    t = this.model,
                    s = this.idService;
                return n.onParametersChanged$Action(e)
            }), this._onParametersChangedEventHandler
        }
        set onParametersChangedEventHandler(e) {
            this._onParametersChangedEventHandler = e
        }
        get handleError() {
            return this.hasOwnProperty("_handleError") || (this._handleError = function(e) {
                return controller.handleError(e)
            }), this._handleError
        }
        set handleError(e) {
            this._handleError = e
        }
        static checkPermissions() {}
        getDefaultTimeout() {
            return F.defaultTimeout
        }
    };
    a(r, "ControllerInner");
    let m = r;
    Et = m, Et.registerVariableGroupType("Accounts.ProofOfIdentity.ManualSelfieUpload.DroppableSelfieUploadOnDropFile$vars", [{
        name: "File",
        attrName: "fileInLocal",
        mandatory: !0,
        dataType: I.DataTypes.DataTypes.Record,
        defaultValue: a(function() {
            return new J
        }, "defaultValue"),
        complexType: J
    }, {
        name: "Error",
        attrName: "errorInLocal",
        mandatory: !0,
        dataType: I.DataTypes.DataTypes.Record,
        defaultValue: a(function() {
            return new de
        }, "defaultValue"),
        complexType: de
    }]), Et.registerVariableGroupType("Accounts.ProofOfIdentity.ManualSelfieUpload.DroppableSelfieUploadOnDropFile$validateFileJSResult", [{
        name: "ValidFileSize",
        attrName: "validFileSizeOut",
        mandatory: !0,
        dataType: I.DataTypes.DataTypes.Boolean,
        defaultValue: a(function() {
            return !1
        }, "defaultValue")
    }, {
        name: "ValidFileType",
        attrName: "validFileTypeOut",
        mandatory: !0,
        dataType: I.DataTypes.DataTypes.Boolean,
        defaultValue: a(function() {
            return !1
        }, "defaultValue")
    }])
}
var Et, Cr = new I.Controller.ControllerFactory(Et, H);
var wt = D,
    Or = T.PlaceholderContent,
    $s = T.IteratorPlaceholderContent,
    ke = class ke extends M.BaseWebBlock {
        static get displayName() {
            return "ProofOfIdentity.ManualSelfieUpload"
        }
        static getAttributes() {
            return {
                codeFunction: "ManualSelfieUpload",
                functionKey: "4ba7adba-373b-4c26-b928-ad7c735373af",
                functionOwnerName: "Accounts",
                functionOwnerKey: "8a32fa32-34f5-4338-b6db-4f1ce8fdd638",
                screen: ""
            }
        }
        static getCssDependencies() {
            return ["css/OutSystemsReactWidgets.css", "css/Accounts.ProofOfIdentity.ManualSelfieUpload.css"]
        }
        static getJsDependencies() {
            return []
        }
        static getBlocks() {
            return [ve, qt]
        }
        get modelFactory() {
            return rr
        }
        get controllerFactory() {
            return Cr
        }
        get title() {
            return ""
        }
        internalRender() {
            let r = this.model,
                l = this.controller,
                e = this.idService,
                n = l.validationService,
                t = this.widgetsRecordProvider,
                s = l.callContext(),
                i = ke.ifWidget,
                f = ke.textWidget,
                c = ke.asPrimitiveValue,
                d = ke.getTranslation,
                u = this;
            return B.createElement("div", this.getRootNodeProperties(), B.createElement(y, {
                align: 0,
                animate: !1,
                style: "full-height display-flex flex-direction-column",
                visible: !0,
                _idProps: {
                    service: e,
                    uuid: "0"
                },
                _widgetRecordProvider: t
            }, B.createElement(y, {
                align: 0,
                animate: !1,
                style: "selfie-form",
                visible: !0,
                _idProps: {
                    service: e,
                    name: "selfieform"
                },
                _widgetRecordProvider: t
            }, B.createElement(y, {
                align: 0,
                animate: !1,
                style: "selfie-upload-container",
                visible: !0,
                _idProps: {
                    service: e,
                    uuid: "2"
                },
                _widgetRecordProvider: t
            }, B.createElement(y, {
                align: 0,
                animate: !1,
                style: "selfie-upload-header",
                visible: !0,
                _idProps: {
                    service: e,
                    uuid: "3"
                },
                _widgetRecordProvider: t
            }, B.createElement(_, {
                text: ["Upload your selfie. We will compare it to the photo on your document."],
                _idProps: {
                    service: e,
                    name: "Selfieheader"
                },
                _widgetRecordProvider: t
            })), B.createElement(ve, {
                getOwnerSpan: a(function() {
                    return u.getChildSpan("render")
                }, "getOwnerSpan"),
                getOwnerDisposeSpan: a(function() {
                    return u.getChildSpan("destroy")
                }, "getOwnerDisposeSpan"),
                inputs: {
                    Multipe: !1,
                    ShowImagePreview: !0,
                    ElementId: "uploader"
                },
                events: {
                    _handleError: a(function(o) {
                        l.handleError(o)
                    }, "_handleError"),
                    onDropFile$Action: a(function(o, v) {
                        var p = s.clone();
                        l.droppableSelfieUploadOnDropFile$Action(o, v, l.callContext(p))
                    }, "onDropFile$Action"),
                    onClearFile$Action: a(function() {
                        var o = s.clone();
                        l.droppableSelfieUploadOnClearFile$Action(l.callContext(o))
                    }, "onClearFile$Action")
                },
                _validationProps: {
                    validationService: n
                },
                _idProps: {
                    service: e,
                    uuid: "5",
                    alias: "1"
                },
                _widgetRecordProvider: t,
                placeholders: {
                    dropArea: new Or(function() {
                        return [i(!wt.DataTypes.areBinaryNulls(r.variables.selfieVar.fileContentAttr, wt.BuiltinFunctions.nullBinary()), !1, this, function() {
                            return []
                        }, function() {
                            return [B.createElement(y, {
                                align: 0,
                                animate: !1,
                                extendedProperties: {
                                    style: "margin-top: 0px; text-align: center;"
                                },
                                style: r.getCachedValue(e.getId("xxT7Rj_W_0qAVu0ekm5snA.Style"), function() {
                                    return "uploader-container display-flex flex-direction-column" + (r.variables.showRequiredErrorVar ? " error-border" : "")
                                }, function() {
                                    return r.variables.showRequiredErrorVar
                                }),
                                visible: !0,
                                _idProps: {
                                    service: e,
                                    uuid: "6"
                                },
                                _widgetRecordProvider: t
                            }, B.createElement(U, {
                                image: wt.Navigation.VersionedURL.getVersionedUrl("img/Accounts.Selfie.svg"),
                                type: 0,
                                _idProps: {
                                    service: e,
                                    uuid: "7"
                                },
                                _widgetRecordProvider: t
                            }), B.createElement(_, {
                                style: "font-bold",
                                text: ["Drop or upload selfie"],
                                _idProps: {
                                    service: e,
                                    uuid: "8"
                                },
                                _widgetRecordProvider: t
                            }), B.createElement(_, {
                                extendedProperties: {
                                    style: "color: #6A7178; font-size: 12px; margin-top: 4px;"
                                },
                                text: ["JPEG, JPG, PNG, PDF or GIF; <8MB"],
                                _idProps: {
                                    service: e,
                                    uuid: "9"
                                },
                                _widgetRecordProvider: t
                            }))]
                        })]
                    })
                },
                _dependencies: [c(r.variables.showRequiredErrorVar), c(r.variables.selfieVar.fileContentAttr)]
            }), i(r.variables.showRequiredErrorVar, !1, this, function() {
                return [B.createElement(_, {
                    style: "margin-top-s error-text",
                    text: ["*This is required."],
                    _idProps: {
                        service: e,
                        uuid: "10"
                    },
                    _widgetRecordProvider: t
                })]
            }, function() {
                return []
            })), B.createElement(y, {
                align: 0,
                animate: !1,
                style: "padding-base display-flex flex-direction-column row-gap-s uploader-container__info",
                visible: !0,
                _idProps: {
                    service: e,
                    uuid: "11"
                },
                _widgetRecordProvider: t
            }, B.createElement(y, {
                align: 0,
                animate: !1,
                style: "display-flex align-items-center column-gap-xs",
                visible: !0,
                _idProps: {
                    service: e,
                    uuid: "12"
                },
                _widgetRecordProvider: t
            }, B.createElement(U, {
                image: wt.Navigation.VersionedURL.getVersionedUrl("img/Accounts.StandaloneLightbulbBoldIcon.svg"),
                type: 0,
                _idProps: {
                    service: e,
                    uuid: "13"
                },
                _widgetRecordProvider: t
            }), B.createElement(_, {
                style: "font-bold font-size-s uploader-container__info-header",
                text: ["Important"],
                _idProps: {
                    service: e,
                    uuid: "14"
                },
                _widgetRecordProvider: t
            })), B.createElement(y, {
                align: 0,
                animate: !1,
                style: "row-gap-s display-flex flex-direction-column",
                visible: !0,
                _idProps: {
                    service: e,
                    uuid: "15"
                },
                _widgetRecordProvider: t
            }, B.createElement(_, {
                style: "bullet-item",
                text: ["Face forward in the selfie."],
                _idProps: {
                    service: e,
                    uuid: "16"
                },
                _widgetRecordProvider: t
            }), B.createElement(_, {
                style: "bullet-item",
                text: ["Keep your face well lit and fully in the frame."],
                _idProps: {
                    service: e,
                    uuid: "17"
                },
                _widgetRecordProvider: t
            }), B.createElement(_, {
                style: "bullet-item",
                text: ["Eyes must be clearly visible, even with your glasses."],
                _idProps: {
                    service: e,
                    uuid: "18"
                },
                _widgetRecordProvider: t
            })))), B.createElement(y, {
                align: 0,
                animate: !1,
                extendedProperties: {
                    style: "padding: 16px;"
                },
                style: "display-flex manual-doc-number__btn--layout",
                visible: !0,
                _idProps: {
                    service: e,
                    name: "selfiefooter"
                },
                _widgetRecordProvider: t
            }, B.createElement(qt, {
                getOwnerSpan: a(function() {
                    return u.getChildSpan("render")
                }, "getOwnerSpan"),
                getOwnerDisposeSpan: a(function() {
                    return u.getChildSpan("destroy")
                }, "getOwnerDisposeSpan"),
                inputs: {
                    IsLoading: r.variables.isRequestInProcessVar,
                    ShowLabelOnLoading: !0
                },
                events: {
                    _handleError: a(function(o) {
                        l.handleError(o)
                    }, "_handleError")
                },
                _validationProps: {
                    validationService: n
                },
                _idProps: {
                    service: e,
                    uuid: "20",
                    alias: "2"
                },
                _widgetRecordProvider: t,
                placeholders: {
                    button: new Or(function() {
                        return [B.createElement(ue, {
                            enabled: !0,
                            gridProperties: {
                                classes: "OSFillParent"
                            },
                            isDefault: !1,
                            onClick: a(function() {
                                return u.validateWidget(""), Promise.resolve().then(function() {
                                    var o = s.clone();
                                    return l.nextOnClick$Action(l.callContext(o))
                                })
                            }, "onClick"),
                            style: "btn btn-primary deriv-btn manual-doc-number__btn",
                            visible: !0,
                            _idProps: {
                                service: e,
                                uuid: "21"
                            },
                            _widgetRecordProvider: t
                        }, B.createElement(y, {
                            align: 0,
                            animate: !1,
                            style: "osui-btn-loading__spinner-animation",
                            visible: !0,
                            _idProps: {
                                service: e,
                                uuid: "22"
                            },
                            _widgetRecordProvider: t
                        }), "Verify")]
                    })
                },
                _dependencies: []
            }))))
        }
    };
a(ke, "View");
var Cn = ke,
    Tt = Cn;
var R = re(ie());

function On(m, r, l, e) {
    let n = ["jpg", "gif", "png", "jpeg", "pdf"],
        t = m.ValidateFileType && n.indexOf(m.ValidateFileType.split("/").pop()) > -1,
        i = m.ValidateFileSize <= 8388608;
    m.ValidFileSize = i, m.ValidFileType = t
}
a(On, "default");
var x = D; {
    let r = class r extends x.Controller.BaseViewController {
        constructor(e, n, t) {
            super(e, n, t);
            var s = this.controller;
            this.clientActionProxies = {}, this.dataFetchDependenciesOriginal = {}, this.dataFetchDependentsGraph = {}, this.shouldSendClientVarsToDataSources = !1
        }
        get dataFetchActionNames() {
            return this.hasOwnProperty("_dataFetchActionNames") || (this._dataFetchActionNames = []), this._dataFetchActionNames
        }
        set dataFetchActionNames(e) {
            this._dataFetchActionNames = e
        }
        get _droppableFileUploadOnClearFile$Action() {
            return this.hasOwnProperty("__droppableFileUploadOnClearFile$Action") || (this.__droppableFileUploadOnClearFile$Action = function(e) {
                var n = this.model,
                    t = this.controller,
                    s = this.idService;
                return x.Logger.startActiveSpan("DroppableFileUploadOnClearFile", function(i) {
                    i && (i.setAttribute("code.function", "DroppableFileUploadOnClearFile"), i.setAttribute("outsystems.function.key", "172eb6d5-4702-487e-8c78-e43e2ef8aede"), i.setAttribute("outsystems.function.owner.name", "Accounts"), i.setAttribute("outsystems.function.owner.key", "8a32fa32-34f5-4338-b6db-4f1ce8fdd638"), i.setAttribute("outsystems.function.type", "CLIENT_SCREEN_ACTION"));
                    try {
                        t.ensureControllerAlive("DroppableFileUploadOnClearFile"), e = t.callContext(e), n.variables.isDroppedDocumentVar = !1
                    } finally {
                        i && i.end()
                    }
                }, 1)
            }), this.__droppableFileUploadOnClearFile$Action
        }
        set _droppableFileUploadOnClearFile$Action(e) {
            this.__droppableFileUploadOnClearFile$Action = e
        }
        get _onParametersChanged$Action() {
            return this.hasOwnProperty("__onParametersChanged$Action") || (this.__onParametersChanged$Action = function(e) {
                var n = this.model,
                    t = this.controller,
                    s = this.idService;
                return x.Logger.startActiveSpan("OnParametersChanged", function(i) {
                    i && (i.setAttribute("code.function", "OnParametersChanged"), i.setAttribute("outsystems.function.key", "3d925e44-6cd6-49ec-aba7-11ed3811431e"), i.setAttribute("outsystems.function.owner.name", "Accounts"), i.setAttribute("outsystems.function.owner.key", "8a32fa32-34f5-4338-b6db-4f1ce8fdd638"), i.setAttribute("outsystems.function.type", "CLIENT_SCREEN_ACTION"));
                    try {
                        t.ensureControllerAlive("OnParametersChanged"), e = t.callContext(e), n.variables.selectedFileVar.fileNameAttr = "", n.variables.selectedFileVar.fileMimeTypeAttr = "", n.variables.selectedFileVar.fileSizeAttr = "", n.variables.selectedFileVar.fileContentAttr = x.BuiltinFunctions.nullBinary(), n.variables.selectedFileVar.fileContentURLAttr = "", n.variables.showRequiredErrorVar = !1, n.variables.isDroppedDocumentVar = !1, t._droppableFileUploadOnClearFile$Action(e)
                    } finally {
                        i && i.end()
                    }
                }, 1)
            }), this.__onParametersChanged$Action
        }
        set _onParametersChanged$Action(e) {
            this.__onParametersChanged$Action = e
        }
        get _droppableFileUploadOnDropFile$Action() {
            return this.hasOwnProperty("__droppableFileUploadOnDropFile$Action") || (this.__droppableFileUploadOnDropFile$Action = function(e, n, t) {
                var s = this.model,
                    i = this.controller,
                    f = this.idService;
                return x.Logger.startActiveSpan("DroppableFileUploadOnDropFile", function(c) {
                    c && (c.setAttribute("code.function", "DroppableFileUploadOnDropFile"), c.setAttribute("outsystems.function.key", "3ed615d1-8114-41bf-a81e-833768c836eb"), c.setAttribute("outsystems.function.owner.name", "Accounts"), c.setAttribute("outsystems.function.owner.key", "8a32fa32-34f5-4338-b6db-4f1ce8fdd638"), c.setAttribute("outsystems.function.type", "CLIENT_SCREEN_ACTION"));
                    try {
                        i.ensureControllerAlive("DroppableFileUploadOnDropFile"), t = i.callContext(t);
                        var d = new x.DataTypes.VariableHolder(new(i.constructor.getVariableGroupType("Accounts.ProofOfIdentity.ManualMobileDocumentUploader.DroppableFileUploadOnDropFile$vars")));
                        d.value.fileInLocal = e.clone(), d.value.errorInLocal = n.clone();
                        var u = new x.DataTypes.VariableHolder;
                        s.variables.isDroppedDocumentVar = d.value.errorInLocal.successAttr, s.variables.showRequiredErrorVar = !1, u.value = x.Logger.startActiveSpan("ValidateFile", function(o) {
                            o && (o.setAttribute("code.function", "ValidateFile"), o.setAttribute("outsystems.function.key", "a7163f84-fe21-48bc-9e07-d10e3b24d00c"), o.setAttribute("outsystems.function.owner.name", "Accounts"), o.setAttribute("outsystems.function.owner.key", "8a32fa32-34f5-4338-b6db-4f1ce8fdd638"), o.setAttribute("outsystems.function.type", "JAVASCRIPT"));
                            try {
                                return i.safeExecuteJSNode(On, "ValidateFile", "DroppableFileUploadOnDropFile", {
                                    FileStatus: x.DataConversion.JSNodeParamConverter.to(d.value.errorInLocal.successAttr, x.DataTypes.DataTypes.Boolean),
                                    ValidateFileType: x.DataConversion.JSNodeParamConverter.to(d.value.fileInLocal.fileMimeTypeAttr, x.DataTypes.DataTypes.Text),
                                    ValidateFileName: x.DataConversion.JSNodeParamConverter.to(d.value.fileInLocal.fileNameAttr, x.DataTypes.DataTypes.Text),
                                    ValidateFileSize: x.DataConversion.JSNodeParamConverter.to(d.value.fileInLocal.fileSizeAttr, x.DataTypes.DataTypes.Text),
                                    ValidateFileContent: x.DataConversion.JSNodeParamConverter.to(d.value.fileInLocal.fileContentAttr, x.DataTypes.DataTypes.BinaryData),
                                    ValidFileSize: x.DataConversion.JSNodeParamConverter.to(!1, x.DataTypes.DataTypes.Boolean),
                                    ValidFileType: x.DataConversion.JSNodeParamConverter.to(!1, x.DataTypes.DataTypes.Boolean)
                                }, function(v) {
                                    var p = new(i.constructor.getVariableGroupType("Accounts.ProofOfIdentity.ManualMobileDocumentUploader.DroppableFileUploadOnDropFile$validateFileJSResult"));
                                    return p.validFileSizeOut = x.DataConversion.JSNodeParamConverter.from(v.ValidFileSize, x.DataTypes.DataTypes.Boolean), p.validFileTypeOut = x.DataConversion.JSNodeParamConverter.from(v.ValidFileType, x.DataTypes.DataTypes.Boolean), p
                                }, {}, {})
                            } finally {
                                o && o.end()
                            }
                        }, 1), u.value.validFileTypeOut ? u.value.validFileSizeOut ? s.variables.selectedFileVar = d.value.fileInLocal : (s.variables.isDroppedDocumentVar = !1, x.FeedbackMessageService.showFeedbackMessage("Photo must be 8MB or smaller.", 3)) : (s.variables.isDroppedDocumentVar = !1, x.FeedbackMessageService.showFeedbackMessage("Photo must be in these formate JPEG, JPG, PNG, PDF or GIF.", 3))
                    } finally {
                        c && c.end()
                    }
                }, 1)
            }), this.__droppableFileUploadOnDropFile$Action
        }
        set _droppableFileUploadOnDropFile$Action(e) {
            this.__droppableFileUploadOnDropFile$Action = e
        }
        get _nextOnClick$Action() {
            return this.hasOwnProperty("__nextOnClick$Action") || (this.__nextOnClick$Action = function(e) {
                var n = this.model,
                    t = this.controller,
                    s = this.idService;
                return x.Logger.startActiveSpan("NextOnClick", function(i) {
                    return i && (i.setAttribute("code.function", "NextOnClick"), i.setAttribute("outsystems.function.key", "e2423688-12bb-4827-89a6-ea09edfe2d4a"), i.setAttribute("outsystems.function.owner.name", "Accounts"), i.setAttribute("outsystems.function.owner.key", "8a32fa32-34f5-4338-b6db-4f1ce8fdd638"), i.setAttribute("outsystems.function.type", "CLIENT_SCREEN_ACTION")), x.Flow.tryFinally(function() {
                        return t.ensureControllerAlive("NextOnClick"), e = t.callContext(e), x.Flow.executeAsyncFlow(function() {
                            return x.Flow.executeSequence(function() {
                                if (n.variables.isDroppedDocumentVar) return n.variables.showRequiredErrorVar = !1, t.moveToNextStep$Action(n.variables.selectedFileVar, e);
                                n.variables.showRequiredErrorVar = !0
                            })
                        })
                    }, function() {
                        i && i.end()
                    })
                }, 1)
            }), this.__nextOnClick$Action
        }
        set _nextOnClick$Action(e) {
            this.__nextOnClick$Action = e
        }
        droppableFileUploadOnClearFile$Action(e) {
            var n = this.controller;
            return x.Logger.startActiveSpan("DroppableFileUploadOnClearFile__proxy", function(t) {
                t && (t.setAttribute("code.function", "DroppableFileUploadOnClearFile"), t.setAttribute("outsystems.function.key", "172eb6d5-4702-487e-8c78-e43e2ef8aede"), t.setAttribute("outsystems.function.owner.name", "Accounts"), t.setAttribute("outsystems.function.owner.key", "8a32fa32-34f5-4338-b6db-4f1ce8fdd638"), t.setAttribute("outsystems.function.type", "CLIENT_SCREEN_ACTION"));
                try {
                    return n.safeExecuteClientAction(n._droppableFileUploadOnClearFile$Action, e)
                } finally {
                    t && t.end()
                }
            }, 0)
        }
        onParametersChanged$Action(e) {
            var n = this.controller;
            return x.Logger.startActiveSpan("OnParametersChanged__proxy", function(t) {
                t && (t.setAttribute("code.function", "OnParametersChanged"), t.setAttribute("outsystems.function.key", "3d925e44-6cd6-49ec-aba7-11ed3811431e"), t.setAttribute("outsystems.function.owner.name", "Accounts"), t.setAttribute("outsystems.function.owner.key", "8a32fa32-34f5-4338-b6db-4f1ce8fdd638"), t.setAttribute("outsystems.function.type", "CLIENT_SCREEN_ACTION"));
                try {
                    return n.safeExecuteClientAction(n._onParametersChanged$Action, e)
                } finally {
                    t && t.end()
                }
            }, 0)
        }
        droppableFileUploadOnDropFile$Action(e, n, t) {
            var s = this.controller;
            return x.Logger.startActiveSpan("DroppableFileUploadOnDropFile__proxy", function(i) {
                i && (i.setAttribute("code.function", "DroppableFileUploadOnDropFile"), i.setAttribute("outsystems.function.key", "3ed615d1-8114-41bf-a81e-833768c836eb"), i.setAttribute("outsystems.function.owner.name", "Accounts"), i.setAttribute("outsystems.function.owner.key", "8a32fa32-34f5-4338-b6db-4f1ce8fdd638"), i.setAttribute("outsystems.function.type", "CLIENT_SCREEN_ACTION"));
                try {
                    return s.safeExecuteClientAction(s._droppableFileUploadOnDropFile$Action, t, e, n)
                } finally {
                    i && i.end()
                }
            }, 0)
        }
        nextOnClick$Action(e) {
            var n = this.controller;
            return x.Logger.startActiveSpan("NextOnClick__proxy", function(t) {
                return t && (t.setAttribute("code.function", "NextOnClick"), t.setAttribute("outsystems.function.key", "e2423688-12bb-4827-89a6-ea09edfe2d4a"), t.setAttribute("outsystems.function.owner.name", "Accounts"), t.setAttribute("outsystems.function.owner.key", "8a32fa32-34f5-4338-b6db-4f1ce8fdd638"), t.setAttribute("outsystems.function.type", "CLIENT_SCREEN_ACTION")), x.Flow.tryFinally(function() {
                    return n.safeExecuteClientAction(n._nextOnClick$Action, e)
                }, function() {
                    t && t.end()
                })
            }, 0)
        }
        get moveToNextStep$Action() {
            return this.hasOwnProperty("_moveToNextStep$Action") || (this._moveToNextStep$Action = function() {
                return Promise.resolve()
            }), this._moveToNextStep$Action
        }
        set moveToNextStep$Action(e) {
            this._moveToNextStep$Action = e
        }
        get onInitializeEventHandler() {
            return this.hasOwnProperty("_onInitializeEventHandler") || (this._onInitializeEventHandler = null), this._onInitializeEventHandler
        }
        set onInitializeEventHandler(e) {
            this._onInitializeEventHandler = e
        }
        get onReadyEventHandler() {
            return this.hasOwnProperty("_onReadyEventHandler") || (this._onReadyEventHandler = null), this._onReadyEventHandler
        }
        set onReadyEventHandler(e) {
            this._onReadyEventHandler = e
        }
        get onRenderEventHandler() {
            return this.hasOwnProperty("_onRenderEventHandler") || (this._onRenderEventHandler = null), this._onRenderEventHandler
        }
        set onRenderEventHandler(e) {
            this._onRenderEventHandler = e
        }
        get onDestroyEventHandler() {
            return this.hasOwnProperty("_onDestroyEventHandler") || (this._onDestroyEventHandler = null), this._onDestroyEventHandler
        }
        set onDestroyEventHandler(e) {
            this._onDestroyEventHandler = e
        }
        get onParametersChangedEventHandler() {
            return this.hasOwnProperty("_onParametersChangedEventHandler") || (this._onParametersChangedEventHandler = function(e) {
                var n = this.controller,
                    t = this.model,
                    s = this.idService;
                return n.onParametersChanged$Action(e)
            }), this._onParametersChangedEventHandler
        }
        set onParametersChangedEventHandler(e) {
            this._onParametersChangedEventHandler = e
        }
        get handleError() {
            return this.hasOwnProperty("_handleError") || (this._handleError = function(e) {
                return controller.handleError(e)
            }), this._handleError
        }
        set handleError(e) {
            this._handleError = e
        }
        static checkPermissions() {}
        getDefaultTimeout() {
            return F.defaultTimeout
        }
    };
    a(r, "ControllerInner");
    let m = r;
    Rt = m, Rt.registerVariableGroupType("Accounts.ProofOfIdentity.ManualMobileDocumentUploader.DroppableFileUploadOnDropFile$vars", [{
        name: "File",
        attrName: "fileInLocal",
        mandatory: !0,
        dataType: x.DataTypes.DataTypes.Record,
        defaultValue: a(function() {
            return new J
        }, "defaultValue"),
        complexType: J
    }, {
        name: "Error",
        attrName: "errorInLocal",
        mandatory: !0,
        dataType: x.DataTypes.DataTypes.Record,
        defaultValue: a(function() {
            return new de
        }, "defaultValue"),
        complexType: de
    }]), Rt.registerVariableGroupType("Accounts.ProofOfIdentity.ManualMobileDocumentUploader.DroppableFileUploadOnDropFile$validateFileJSResult", [{
        name: "ValidFileSize",
        attrName: "validFileSizeOut",
        mandatory: !0,
        dataType: x.DataTypes.DataTypes.Boolean,
        defaultValue: a(function() {
            return !1
        }, "defaultValue")
    }, {
        name: "ValidFileType",
        attrName: "validFileTypeOut",
        mandatory: !0,
        dataType: x.DataTypes.DataTypes.Boolean,
        defaultValue: a(function() {
            return !1
        }, "defaultValue")
    }])
}
var Rt, Ir = new x.Controller.ControllerFactory(Rt, H);
var Le = D,
    xr = T.PlaceholderContent,
    rc = T.IteratorPlaceholderContent,
    Me = class Me extends M.BaseWebBlock {
        static get displayName() {
            return "ProofOfIdentity.ManualMobileDocumentUploader"
        }
        static getAttributes() {
            return {
                codeFunction: "ManualMobileDocumentUploader",
                functionKey: "d8a3e73f-22a4-4af6-bbcd-5121298fa542",
                functionOwnerName: "Accounts",
                functionOwnerKey: "8a32fa32-34f5-4338-b6db-4f1ce8fdd638",
                screen: ""
            }
        }
        static getCssDependencies() {
            return ["css/OutSystemsReactWidgets.css", "css/Accounts.ProofOfIdentity.ManualMobileDocumentUploader.css"]
        }
        static getJsDependencies() {
            return []
        }
        static getBlocks() {
            return [ve]
        }
        get modelFactory() {
            return ir
        }
        get controllerFactory() {
            return Ir
        }
        get title() {
            return ""
        }
        internalRender() {
            let r = this.model,
                l = this.controller,
                e = this.idService,
                n = l.validationService,
                t = this.widgetsRecordProvider,
                s = l.callContext(),
                i = Me.ifWidget,
                f = Me.textWidget,
                c = Me.asPrimitiveValue,
                d = Me.getTranslation,
                u = this;
            return R.createElement("div", this.getRootNodeProperties(), R.createElement(y, {
                align: 0,
                animate: !1,
                style: "full-height display-flex flex-direction-column",
                visible: !0,
                _idProps: {
                    service: e,
                    uuid: "0"
                },
                _widgetRecordProvider: t
            }, R.createElement(y, {
                align: 0,
                animate: !1,
                visible: !0,
                _idProps: {
                    service: e,
                    uuid: "1"
                },
                _widgetRecordProvider: t
            }, R.createElement(y, {
                align: 0,
                animate: !1,
                extendedProperties: {
                    style: "margin-right: 16px;"
                },
                gridProperties: {
                    marginLeft: "16px"
                },
                visible: !0,
                _idProps: {
                    service: e,
                    uuid: "2"
                },
                _widgetRecordProvider: t
            }, i(r.variables.documentPagesIn.length === 1, !1, this, function() {
                return [R.createElement(y, {
                    align: 0,
                    animate: !1,
                    visible: !0,
                    _idProps: {
                        service: e,
                        uuid: "3"
                    },
                    _widgetRecordProvider: t
                }, i(r.variables.documentTypeIn === "passport", !1, this, function() {
                    return [R.createElement(y, {
                        align: 0,
                        animate: !1,
                        extendedProperties: {
                            style: "padding: 16px 0px 16px 0px;"
                        },
                        visible: !0,
                        _idProps: {
                            service: e,
                            uuid: "4"
                        },
                        _widgetRecordProvider: t
                    }, R.createElement(_, {
                        text: ["Upload the "],
                        _idProps: {
                            service: e,
                            name: "Uploadthe__DocumentType__pagethathasyourphoto__2"
                        },
                        _widgetRecordProvider: t
                    }), R.createElement(_, {
                        extendedProperties: {
                            style: "font-weight: bold;"
                        },
                        text: ["passport"],
                        _idProps: {
                            service: e,
                            uuid: "6"
                        },
                        _widgetRecordProvider: t
                    }), R.createElement(_, {
                        text: [" page that has your photo."],
                        _idProps: {
                            service: e,
                            name: "Uploadthe__DocumentType__pagethathasyourphoto__3"
                        },
                        _widgetRecordProvider: t
                    }))]
                }, function() {
                    return [R.createElement(y, {
                        align: 0,
                        animate: !1,
                        extendedProperties: {
                            style: "padding: 16px 0px 16px 0px;"
                        },
                        visible: !0,
                        _idProps: {
                            service: e,
                            uuid: "8"
                        },
                        _widgetRecordProvider: t
                    }, R.createElement(_, {
                        text: ["Upload a photo of your\xA0"],
                        _idProps: {
                            service: e,
                            name: "Uploadthe__DocumentType__pagethathasyourphoto__4"
                        },
                        _widgetRecordProvider: t
                    }), R.createElement(_, {
                        extendedProperties: {
                            style: "font-weight: bold;"
                        },
                        text: ["NIMC slip"],
                        _idProps: {
                            service: e,
                            uuid: "10"
                        },
                        _widgetRecordProvider: t
                    }))]
                }))]
            }, function() {
                return [R.createElement(y, {
                    align: 0,
                    animate: !1,
                    extendedProperties: {
                        style: "padding: 16px 0px 16px 0px;"
                    },
                    visible: !0,
                    _idProps: {
                        service: e,
                        uuid: "11"
                    },
                    _widgetRecordProvider: t
                }, R.createElement(_, {
                    text: ["Upload a "],
                    _idProps: {
                        service: e,
                        name: "Uploadthe__DocumentType__pagethathasyourphoto__5"
                    },
                    _widgetRecordProvider: t
                }), R.createElement(z, {
                    gridProperties: {
                        marginLeft: "0"
                    },
                    style: "text-lowercase",
                    value: r.variables.documentPageTypeIn,
                    _idProps: {
                        service: e,
                        uuid: "13"
                    },
                    _widgetRecordProvider: t,
                    value_dataFetchStatus: Le.Model.calculateDataFetchStatus(r.variables._documentPageTypeInDataFetchStatus)
                }), R.createElement(_, {
                    text: [" photo of your "],
                    _idProps: {
                        service: e,
                        name: "Uploadthe__DocumentType__pagethathasyourphoto__6"
                    },
                    _widgetRecordProvider: t
                }), R.createElement(z, {
                    extendedProperties: {
                        style: "font-weight: bold;"
                    },
                    gridProperties: {
                        marginLeft: "0"
                    },
                    style: "text-lowercase",
                    value: r.getCachedValue(e.getId("uwbHodcD9EeoOOzdNJpoQw.Value"), function() {
                        return r.variables.documentTypeIn === "nimc_slip" ? r.variables.documentNameIn : Le.BuiltinFunctions.toLower(r.variables.documentNameIn)
                    }, function() {
                        return r.variables.documentTypeIn
                    }, function() {
                        return r.variables.documentNameIn
                    }),
                    _idProps: {
                        service: e,
                        uuid: "15"
                    },
                    _widgetRecordProvider: t,
                    value_dataFetchStatus: Le.Model.calculateDataFetchStatus(r.variables._documentTypeInDataFetchStatus, r.variables._documentNameInDataFetchStatus)
                }))]
            }), R.createElement(ve, {
                getOwnerSpan: a(function() {
                    return u.getChildSpan("render")
                }, "getOwnerSpan"),
                getOwnerDisposeSpan: a(function() {
                    return u.getChildSpan("destroy")
                }, "getOwnerDisposeSpan"),
                inputs: {
                    Multipe: !1,
                    ShowImagePreview: r.variables.isDroppedDocumentVar && !0,
                    ElementId: "uploader"
                },
                events: {
                    _handleError: a(function(o) {
                        l.handleError(o)
                    }, "_handleError"),
                    onClearFile$Action: a(function() {
                        var o = s.clone();
                        l.droppableFileUploadOnClearFile$Action(l.callContext(o))
                    }, "onClearFile$Action"),
                    onDropFile$Action: a(function(o, v) {
                        var p = s.clone();
                        l.droppableFileUploadOnDropFile$Action(o, v, l.callContext(p))
                    }, "onDropFile$Action")
                },
                _validationProps: {
                    validationService: n
                },
                _idProps: {
                    service: e,
                    uuid: "16",
                    alias: "1"
                },
                _widgetRecordProvider: t,
                placeholders: {
                    dropArea: new xr(function() {
                        return [R.createElement(y, {
                            align: 0,
                            animate: !1,
                            visible: !0,
                            _idProps: {
                                service: e,
                                uuid: "17"
                            },
                            _widgetRecordProvider: t
                        }, R.createElement(y, {
                            align: 0,
                            animate: !0,
                            extendedProperties: {
                                style: "margin-top: 0px; text-align: center;"
                            },
                            style: r.getCachedValue(e.getId("MVm4Vkoqd0+kD9FdygPADw.Style"), function() {
                                return "uploader-container display-flex flex-direction-column  " + (r.variables.showRequiredErrorVar && !r.variables.isDroppedDocumentVar ? "error-border " : "")
                            }, function() {
                                return r.variables.showRequiredErrorVar
                            }, function() {
                                return r.variables.isDroppedDocumentVar
                            }),
                            visible: !r.variables.isDroppedDocumentVar,
                            _idProps: {
                                service: e,
                                uuid: "18"
                            },
                            _widgetRecordProvider: t
                        }, R.createElement(U, {
                            image: Le.Navigation.VersionedURL.getVersionedUrl("img/Accounts.IdentityIcon.svg"),
                            type: 0,
                            _idProps: {
                                service: e,
                                uuid: "19"
                            },
                            _widgetRecordProvider: t
                        }), i(r.variables.documentPagesIn.length === 1, !1, this, function() {
                            return [R.createElement(y, {
                                align: 0,
                                animate: !1,
                                visible: !0,
                                _idProps: {
                                    service: e,
                                    uuid: "20"
                                },
                                _widgetRecordProvider: t
                            }, i(r.variables.documentTypeIn === "passport", !1, this, function() {
                                return [R.createElement(_, {
                                    extendedProperties: {
                                        style: "font-weight: bold;"
                                    },
                                    text: ["Upload passport page with photo"],
                                    _idProps: {
                                        service: e,
                                        uuid: "21"
                                    },
                                    _widgetRecordProvider: t
                                })]
                            }, function() {
                                return [R.createElement(_, {
                                    extendedProperties: {
                                        style: "font-weight: bold;"
                                    },
                                    text: ["Upload NIMC slip photo"],
                                    _idProps: {
                                        service: e,
                                        uuid: "22"
                                    },
                                    _widgetRecordProvider: t
                                })]
                            }))]
                        }, function() {
                            return [R.createElement(y, {
                                align: 0,
                                animate: !1,
                                visible: !0,
                                _idProps: {
                                    service: e,
                                    uuid: "23"
                                },
                                _widgetRecordProvider: t
                            }, R.createElement(_, {
                                extendedProperties: {
                                    style: "font-weight: bold;"
                                },
                                text: ["Upload "],
                                _idProps: {
                                    service: e,
                                    uuid: "24"
                                },
                                _widgetRecordProvider: t
                            }), R.createElement(z, {
                                extendedProperties: {
                                    style: "font-weight: bold;"
                                },
                                gridProperties: {
                                    marginLeft: "0"
                                },
                                style: "text-lowercase",
                                value: r.variables.documentPageTypeIn,
                                _idProps: {
                                    service: e,
                                    uuid: "25"
                                },
                                _widgetRecordProvider: t,
                                value_dataFetchStatus: Le.Model.calculateDataFetchStatus(r.variables._documentPageTypeInDataFetchStatus)
                            }), R.createElement(_, {
                                extendedProperties: {
                                    style: "font-weight: bold;"
                                },
                                text: [" photo"],
                                _idProps: {
                                    service: e,
                                    uuid: "26"
                                },
                                _widgetRecordProvider: t
                            }))]
                        }), R.createElement(_, {
                            extendedProperties: {
                                style: "color: #6A7178; font-size: 12px; margin-top: 4px;"
                            },
                            text: ["JPEG, JPG, PNG, PDF or GIF; <8MB"],
                            _idProps: {
                                service: e,
                                uuid: "27"
                            },
                            _widgetRecordProvider: t
                        })))]
                    })
                },
                _dependencies: [c(r.variables.documentPageTypeIn), c(r.variables.documentTypeIn), c(r.variables._documentPageTypeInDataFetchStatus), c(r.variables._documentTypeInDataFetchStatus), c(r.variables._documentPagesInDataFetchStatus), c(r.variables.documentPagesIn.length), c(r.variables.isDroppedDocumentVar), c(r.variables.showRequiredErrorVar)]
            }), i(r.variables.showRequiredErrorVar && !r.variables.isDroppedDocumentVar, !1, this, function() {
                return [R.createElement(_, {
                    extendedProperties: {
                        style: "color: #DC2020;"
                    },
                    text: ["*This is required."],
                    _idProps: {
                        service: e,
                        uuid: "28"
                    },
                    _widgetRecordProvider: t
                })]
            }, function() {
                return []
            })), R.createElement(y, {
                align: 0,
                animate: !1,
                extendedProperties: {
                    style: "margin-bottom: 16px; margin-right: 16px; margin-top: 16px; padding: 16px; text-align: left;"
                },
                gridProperties: {
                    marginLeft: "16px"
                },
                style: "padding-base display-flex flex-direction-column row-gap-s uploader-container__info",
                visible: !0,
                _idProps: {
                    service: e,
                    uuid: "29"
                },
                _widgetRecordProvider: t
            }, i(r.variables.documentTypeIn === "Passport", !1, this, function() {
                return [R.createElement(y, {
                    align: 0,
                    animate: !1,
                    style: "display-flex align-items-center column-gap-xs",
                    visible: !0,
                    _idProps: {
                        service: e,
                        uuid: "30"
                    },
                    _widgetRecordProvider: t
                }, R.createElement(U, {
                    image: Le.Navigation.VersionedURL.getVersionedUrl("img/Accounts.StandaloneLightbulbBoldIcon.svg"),
                    type: 0,
                    _idProps: {
                        service: e,
                        uuid: "31"
                    },
                    _widgetRecordProvider: t
                }), R.createElement(_, {
                    style: "font-bold font-size-s uploader-container__info-header",
                    text: ["Important:"],
                    _idProps: {
                        service: e,
                        uuid: "32"
                    },
                    _widgetRecordProvider: t
                }), R.createElement(_, {
                    style: "",
                    text: ["Upload a clear, colour photo, or scanned image of the document."],
                    _idProps: {
                        service: e,
                        uuid: "33"
                    },
                    _widgetRecordProvider: t
                }))]
            }, function() {
                return [R.createElement(y, {
                    align: 0,
                    animate: !1,
                    style: "display-flex align-items-center column-gap-xs",
                    visible: !0,
                    _idProps: {
                        service: e,
                        uuid: "34"
                    },
                    _widgetRecordProvider: t
                }, R.createElement(U, {
                    image: Le.Navigation.VersionedURL.getVersionedUrl("img/Accounts.StandaloneLightbulbBoldIcon.svg"),
                    type: 0,
                    _idProps: {
                        service: e,
                        uuid: "35"
                    },
                    _widgetRecordProvider: t
                }), R.createElement(_, {
                    style: "font-bold font-size-s uploader-container__info-header",
                    text: ["Important"],
                    _idProps: {
                        service: e,
                        uuid: "36"
                    },
                    _widgetRecordProvider: t
                })), R.createElement(y, {
                    align: 0,
                    animate: !1,
                    style: "row-gap-s display-flex flex-direction-column",
                    visible: !0,
                    _idProps: {
                        service: e,
                        uuid: "37"
                    },
                    _widgetRecordProvider: t
                }, R.createElement(_, {
                    style: "bullet-item",
                    text: ["Ensure the document is valid for at least 6 months."],
                    _idProps: {
                        service: e,
                        uuid: "38"
                    },
                    _widgetRecordProvider: t
                }), R.createElement(_, {
                    style: "bullet-item",
                    text: ["Upload a clear, colour photo, or scanned image of the document."],
                    _idProps: {
                        service: e,
                        uuid: "39"
                    },
                    _widgetRecordProvider: t
                }))]
            }))), R.createElement(y, {
                align: 0,
                animate: !1,
                extendedProperties: {
                    style: "margin-top: auto; padding: 16px;"
                },
                style: "display-flex manual-doc-number__btn--layout",
                visible: !0,
                _idProps: {
                    service: e,
                    uuid: "40"
                },
                _widgetRecordProvider: t
            }, R.createElement(ue, {
                enabled: !0,
                isDefault: !1,
                onClick: a(function() {
                    return u.validateWidget(""), Promise.resolve().then(function() {
                        var o = s.clone();
                        return l.nextOnClick$Action(l.callContext(o))
                    })
                }, "onClick"),
                style: "btn btn-primary deriv-btn manual-doc-number__btn",
                visible: !0,
                _idProps: {
                    service: e,
                    uuid: "41"
                },
                _widgetRecordProvider: t
            }, "Next"))))
        }
    };
a(Me, "View");
var In = Me,
    Pn = In;
var Y = D,
    Se = T.PlaceholderContent,
    _c = T.IteratorPlaceholderContent,
    He = class He extends M.BaseWebBlock {
        static get displayName() {
            return "ProofOfIdentity.ManualVerificationService"
        }
        static getAttributes() {
            return {
                codeFunction: "ManualVerificationService",
                functionKey: "7fe0d11d-ed01-446b-ab48-e612b2def02b",
                functionOwnerName: "Accounts",
                functionOwnerKey: "8a32fa32-34f5-4338-b6db-4f1ce8fdd638",
                screen: ""
            }
        }
        static getCssDependencies() {
            return ["css/OutSystemsReactWidgets.css"]
        }
        static getJsDependencies() {
            return ["scripts/Accounts.UserScripts.BinaryDocumentUploader.js", "scripts/Accounts.UserScripts.FileUtils.js"]
        }
        static getBlocks() {
            return [_e, Ze, X, Pt, Sn, Tt, be, Pn]
        }
        get modelFactory() {
            return or
        }
        get controllerFactory() {
            return _r
        }
        get title() {
            return ""
        }
        internalRender() {
            let r = this.model,
                l = this.controller,
                e = this.idService,
                n = l.validationService,
                t = this.widgetsRecordProvider,
                s = l.callContext(),
                i = He.ifWidget,
                f = He.textWidget,
                c = He.asPrimitiveValue,
                d = He.getTranslation,
                u = this;
            return $.createElement("div", this.getRootNodeProperties(), $.createElement(_e, {
                getOwnerSpan: a(function() {
                    return u.getChildSpan("render")
                }, "getOwnerSpan"),
                getOwnerDisposeSpan: a(function() {
                    return u.getChildSpan("destroy")
                }, "getOwnerDisposeSpan"),
                inputs: {
                    IsDesktop: V.getDevice() === "desktop"
                },
                events: {
                    _handleError: a(function(o) {
                        l.handleError(o)
                    }, "_handleError")
                },
                _validationProps: {
                    validationService: n
                },
                _idProps: {
                    service: e,
                    uuid: "0",
                    alias: "1"
                },
                _widgetRecordProvider: t,
                placeholders: {
                    desktopLayout: new Se(function() {
                        return [$.createElement(y, {
                            align: 0,
                            animate: !1,
                            visible: !0,
                            _idProps: {
                                service: e,
                                uuid: "1"
                            },
                            _widgetRecordProvider: t
                        }, $.createElement(y, {
                            align: 0,
                            animate: !0,
                            style: "margin-bottom-m",
                            visible: r.getCachedValue(e.getId("ErrorBanners.Visible"), function() {
                                return r.variables.errorCodeVar !== Y.BuiltinFunctions.nullTextIdentifier()
                            }, function() {
                                return r.variables.errorCodeVar
                            }),
                            _idProps: {
                                service: e,
                                name: "ErrorBanners"
                            },
                            _widgetRecordProvider: t
                        }, $.createElement(y, {
                            align: 0,
                            animate: !0,
                            style: "",
                            visible: r.variables.errorCodeVar === "DuplicateUpload",
                            _idProps: {
                                service: e,
                                uuid: "3"
                            },
                            _widgetRecordProvider: t
                        }, $.createElement(Ze, {
                            getOwnerSpan: a(function() {
                                return u.getChildSpan("render")
                            }, "getOwnerSpan"),
                            getOwnerDisposeSpan: a(function() {
                                return u.getChildSpan("destroy")
                            }, "getOwnerDisposeSpan"),
                            inputs: {
                                Type: Q.messageType.error
                            },
                            events: {
                                _handleError: a(function(o) {
                                    l.handleError(o)
                                }, "_handleError")
                            },
                            _validationProps: {
                                validationService: n
                            },
                            _idProps: {
                                service: e,
                                uuid: "4",
                                alias: "2"
                            },
                            _widgetRecordProvider: t,
                            placeholders: {
                                messageContent: new Se(function() {
                                    return [$.createElement(y, {
                                        align: 0,
                                        animate: !1,
                                        visible: !0,
                                        _idProps: {
                                            service: e,
                                            uuid: "5"
                                        },
                                        _widgetRecordProvider: t
                                    }, "Duplicate submission found. Upload a ", $.createElement(_, {
                                        style: "font-bold",
                                        text: ["different document, "],
                                        _idProps: {
                                            service: e,
                                            uuid: "6"
                                        },
                                        _widgetRecordProvider: t
                                    }), "or provide a ", $.createElement(_, {
                                        style: "font-bold",
                                        text: ["new selfie."],
                                        _idProps: {
                                            service: e,
                                            uuid: "7"
                                        },
                                        _widgetRecordProvider: t
                                    }))]
                                })
                            },
                            _dependencies: []
                        })), $.createElement(y, {
                            align: 0,
                            animate: !0,
                            visible: r.getCachedValue(e.getId("SKOhLP6zFUKT7r4LJHrA7w.Visible"), function() {
                                return r.variables.errorCodeVar !== "DuplicateUpload" && r.variables.errorCodeVar !== Y.BuiltinFunctions.nullTextIdentifier()
                            }, function() {
                                return r.variables.errorCodeVar
                            }),
                            _idProps: {
                                service: e,
                                uuid: "8"
                            },
                            _widgetRecordProvider: t
                        }, $.createElement(Ze, {
                            getOwnerSpan: a(function() {
                                return u.getChildSpan("render")
                            }, "getOwnerSpan"),
                            getOwnerDisposeSpan: a(function() {
                                return u.getChildSpan("destroy")
                            }, "getOwnerDisposeSpan"),
                            inputs: {
                                Type: Q.messageType.error
                            },
                            events: {
                                _handleError: a(function(o) {
                                    l.handleError(o)
                                }, "_handleError")
                            },
                            _validationProps: {
                                validationService: n
                            },
                            _idProps: {
                                service: e,
                                uuid: "9",
                                alias: "3"
                            },
                            _widgetRecordProvider: t,
                            placeholders: {
                                messageContent: new Se(function() {
                                    return ['There was an issue submitting your document. Tap "Verify" to retry.']
                                })
                            },
                            _dependencies: []
                        }))), $.createElement(X, {
                            getOwnerSpan: a(function() {
                                return u.getChildSpan("render")
                            }, "getOwnerSpan"),
                            getOwnerDisposeSpan: a(function() {
                                return u.getChildSpan("destroy")
                            }, "getOwnerDisposeSpan"),
                            inputs: {
                                ShouldDisplayBackButton: !0,
                                Title: "Verify your identity"
                            },
                            events: {
                                _handleError: a(function(o) {
                                    l.handleError(o)
                                }, "_handleError"),
                                navigateBack$Action: a(function() {
                                    return Promise.resolve().then(function() {
                                        var o = s.clone();
                                        return l.onNavigateBack$Action(l.callContext(o))
                                    })
                                }, "navigateBack$Action")
                            },
                            _validationProps: {
                                validationService: n
                            },
                            _idProps: {
                                service: e,
                                uuid: "10",
                                alias: "4"
                            },
                            _widgetRecordProvider: t,
                            placeholders: {
                                additionalcontent: Se.Empty
                            },
                            _dependencies: []
                        }), i(r.variables.manualStepPosVar === 1, !1, this, function() {
                            return [$.createElement(y, {
                                align: 0,
                                animate: !1,
                                visible: !0,
                                _idProps: {
                                    service: e,
                                    uuid: "11"
                                },
                                _widgetRecordProvider: t
                            }, $.createElement(Pt, {
                                getOwnerSpan: a(function() {
                                    return u.getChildSpan("render")
                                }, "getOwnerSpan"),
                                getOwnerDisposeSpan: a(function() {
                                    return u.getChildSpan("destroy")
                                }, "getOwnerDisposeSpan"),
                                inputs: {
                                    ExpiryDate: r.getCachedValue(e.getId("MZiCaV1WSkm7eYl7M925tQ.ExpiryDate"), function() {
                                        return function() {
                                            var o = new Xe;
                                            return o.valueAttr = r.variables.expiryDateIn, o
                                        }()
                                    }, function() {
                                        return r.variables.expiryDateIn
                                    }),
                                    _expiryDateInDataFetchStatus: Y.Model.calculateDataFetchStatus(r.variables._expiryDateInDataFetchStatus),
                                    SelectedIdentityDocument: r.variables.selectedIdentityDocumentIn,
                                    _selectedIdentityDocumentInDataFetchStatus: Y.Model.calculateDataFetchStatus(r.variables._selectedIdentityDocumentInDataFetchStatus),
                                    DocumentNumber: r.getCachedValue(e.getId("MZiCaV1WSkm7eYl7M925tQ.DocumentNumber"), function() {
                                        return function() {
                                            var o = new fe;
                                            return o.valueAttr = r.variables.documentNumberIn, o
                                        }()
                                    }, function() {
                                        return r.variables.documentNumberIn
                                    }),
                                    _documentNumberInDataFetchStatus: Y.Model.calculateDataFetchStatus(r.variables._documentNumberInDataFetchStatus)
                                },
                                events: {
                                    _handleError: a(function(o) {
                                        l.handleError(o)
                                    }, "_handleError"),
                                    onChangeFormData$Action: a(function(o, v) {
                                        return Promise.resolve().then(function() {
                                            var p = s.clone();
                                            return l.onChangeFormDataHandler$Action(o, v, l.callContext(p))
                                        })
                                    }, "onChangeFormData$Action"),
                                    moveToNextStep$Action: a(function() {
                                        return Promise.resolve().then(function() {
                                            var o = s.clone();
                                            return l.moveToNextStep$Action(l.callContext(o))
                                        })
                                    }, "moveToNextStep$Action")
                                },
                                _validationProps: {
                                    validationService: n
                                },
                                _idProps: {
                                    service: e,
                                    uuid: "12",
                                    alias: "5"
                                },
                                _widgetRecordProvider: t,
                                _dependencies: []
                            }))]
                        }, function() {
                            return [i(r.variables.manualStepPosVar === 2, !1, this, function() {
                                return [$.createElement(Sn, {
                                    getOwnerSpan: a(function() {
                                        return u.getChildSpan("render")
                                    }, "getOwnerSpan"),
                                    getOwnerDisposeSpan: a(function() {
                                        return u.getChildSpan("destroy")
                                    }, "getOwnerDisposeSpan"),
                                    inputs: {
                                        DocumentName: r.variables.selectedIdentityDocumentIn.displayNameAttr,
                                        _documentNameInDataFetchStatus: Y.Model.calculateDataFetchStatus(r.variables._selectedIdentityDocumentInDataFetchStatus),
                                        DocumentPages: r.variables.selectedIdentityDocumentIn.sidesAttr,
                                        _documentPagesInDataFetchStatus: Y.Model.calculateDataFetchStatus(r.variables._selectedIdentityDocumentInDataFetchStatus),
                                        DocumentType: r.variables.selectedIdentityDocumentIn.availableServicesAttr.getCurrent(s.iterationContext).documentTypeAttr,
                                        _documentTypeInDataFetchStatus: Y.Model.calculateDataFetchStatus(r.variables._selectedIdentityDocumentInDataFetchStatus)
                                    },
                                    events: {
                                        _handleError: a(function(o) {
                                            l.handleError(o)
                                        }, "_handleError"),
                                        moveToNextStep$Action: a(function(o, v) {
                                            var p = s.clone();
                                            l.manualDocumentUploaderMoveToNextStep$Action(o, v, l.callContext(p))
                                        }, "moveToNextStep$Action")
                                    },
                                    _validationProps: {
                                        validationService: n
                                    },
                                    _idProps: {
                                        service: e,
                                        uuid: "13",
                                        alias: "6"
                                    },
                                    _widgetRecordProvider: t,
                                    _dependencies: []
                                })]
                            }, function() {
                                return [$.createElement(Tt, {
                                    getOwnerSpan: a(function() {
                                        return u.getChildSpan("render")
                                    }, "getOwnerSpan"),
                                    getOwnerDisposeSpan: a(function() {
                                        return u.getChildSpan("destroy")
                                    }, "getOwnerDisposeSpan"),
                                    inputs: {
                                        AllowUpload: r.getCachedValue(e.getId("9IUsLXq50E2x7tLUbYzzBg.AllowUpload"), function() {
                                            return r.variables.errorCodeVar !== Y.BuiltinFunctions.nullTextIdentifier()
                                        }, function() {
                                            return r.variables.errorCodeVar
                                        })
                                    },
                                    events: {
                                        _handleError: a(function(o) {
                                            l.handleError(o)
                                        }, "_handleError"),
                                        onChangeSelfie$Action: a(function(o) {
                                            var v = s.clone();
                                            l.onChangeSelfieImage$Action(o, l.callContext(v))
                                        }, "onChangeSelfie$Action"),
                                        moveToNextStep$Action: a(function() {
                                            return Promise.resolve().then(function() {
                                                var o = s.clone();
                                                return l.moveToNextStep$Action(l.callContext(o))
                                            })
                                        }, "moveToNextStep$Action")
                                    },
                                    _validationProps: {
                                        validationService: n
                                    },
                                    _idProps: {
                                        service: e,
                                        uuid: "14",
                                        alias: "7"
                                    },
                                    _widgetRecordProvider: t,
                                    _dependencies: []
                                })]
                            })]
                        }))]
                    }),
                    tabletLayout: Se.Empty,
                    defaultLayout: new Se(function() {
                        return [$.createElement(be, {
                            getOwnerSpan: a(function() {
                                return u.getChildSpan("render")
                            }, "getOwnerSpan"),
                            getOwnerDisposeSpan: a(function() {
                                return u.getChildSpan("destroy")
                            }, "getOwnerDisposeSpan"),
                            inputs: {
                                StepCount: 5,
                                CurrentStep: 2 + r.variables.manualStepPosVar
                            },
                            events: {
                                _handleError: a(function(o) {
                                    l.handleError(o)
                                }, "_handleError"),
                                goToPreviousStep$Action: a(function(o) {
                                    return Promise.resolve().then(function() {
                                        var v = s.clone();
                                        return l.onNavigateBack$Action(l.callContext(v))
                                    })
                                }, "goToPreviousStep$Action")
                            },
                            _validationProps: {
                                validationService: n
                            },
                            _idProps: {
                                service: e,
                                uuid: "15",
                                alias: "8"
                            },
                            _widgetRecordProvider: t,
                            placeholders: {
                                section: new Se(function() {
                                    return [$.createElement(y, {
                                        align: 0,
                                        animate: !1,
                                        style: "full-height display-flex flex-direction-column row-gap-base",
                                        visible: !0,
                                        _idProps: {
                                            service: e,
                                            uuid: "16"
                                        },
                                        _widgetRecordProvider: t
                                    }, $.createElement(_, {
                                        style: "font-size-h6 identity-verification__section-header font-bold",
                                        text: ["Verify your identity"],
                                        _idProps: {
                                            service: e,
                                            uuid: "17"
                                        },
                                        _widgetRecordProvider: t
                                    }), i(r.variables.manualStepPosVar === 1, !1, this, function() {
                                        return [$.createElement(y, {
                                            align: 0,
                                            animate: !1,
                                            style: "full-height",
                                            visible: !0,
                                            _idProps: {
                                                service: e,
                                                uuid: "18"
                                            },
                                            _widgetRecordProvider: t
                                        }, $.createElement(Pt, {
                                            getOwnerSpan: a(function() {
                                                return u.getChildSpan("render")
                                            }, "getOwnerSpan"),
                                            getOwnerDisposeSpan: a(function() {
                                                return u.getChildSpan("destroy")
                                            }, "getOwnerDisposeSpan"),
                                            inputs: {
                                                DocumentNumber: r.getCachedValue(e.getId("uh0rnddQH0mNYCIkF1Ji4w.DocumentNumber"), function() {
                                                    return function() {
                                                        var o = new fe;
                                                        return o.valueAttr = r.variables.documentNumberIn, o
                                                    }()
                                                }, function() {
                                                    return r.variables.documentNumberIn
                                                }),
                                                _documentNumberInDataFetchStatus: Y.Model.calculateDataFetchStatus(r.variables._documentNumberInDataFetchStatus),
                                                SelectedIdentityDocument: r.variables.selectedIdentityDocumentIn,
                                                _selectedIdentityDocumentInDataFetchStatus: Y.Model.calculateDataFetchStatus(r.variables._selectedIdentityDocumentInDataFetchStatus),
                                                ExpiryDate: r.getCachedValue(e.getId("uh0rnddQH0mNYCIkF1Ji4w.ExpiryDate"), function() {
                                                    return function() {
                                                        var o = new Xe;
                                                        return o.valueAttr = r.variables.expiryDateIn, o
                                                    }()
                                                }, function() {
                                                    return r.variables.expiryDateIn
                                                }),
                                                _expiryDateInDataFetchStatus: Y.Model.calculateDataFetchStatus(r.variables._expiryDateInDataFetchStatus)
                                            },
                                            events: {
                                                _handleError: a(function(o) {
                                                    l.handleError(o)
                                                }, "_handleError"),
                                                onChangeFormData$Action: a(function(o, v) {
                                                    return Promise.resolve().then(function() {
                                                        var p = s.clone();
                                                        return l.onChangeFormDataHandler$Action(o, v, l.callContext(p))
                                                    })
                                                }, "onChangeFormData$Action"),
                                                moveToNextStep$Action: a(function() {
                                                    return Promise.resolve().then(function() {
                                                        var o = s.clone();
                                                        return l.moveToNextStep$Action(l.callContext(o))
                                                    })
                                                }, "moveToNextStep$Action")
                                            },
                                            _validationProps: {
                                                validationService: n
                                            },
                                            _idProps: {
                                                service: e,
                                                uuid: "19",
                                                alias: "9"
                                            },
                                            _widgetRecordProvider: t,
                                            _dependencies: []
                                        }))]
                                    }, function() {
                                        return [i(r.variables.manualStepPosVar === 2, !1, this, function() {
                                            return [$.createElement(y, {
                                                align: 0,
                                                animate: !1,
                                                style: "full-height",
                                                visible: !0,
                                                _idProps: {
                                                    service: e,
                                                    uuid: "20"
                                                },
                                                _widgetRecordProvider: t
                                            }, $.createElement(Pn, {
                                                getOwnerSpan: a(function() {
                                                    return u.getChildSpan("render")
                                                }, "getOwnerSpan"),
                                                getOwnerDisposeSpan: a(function() {
                                                    return u.getChildSpan("destroy")
                                                }, "getOwnerDisposeSpan"),
                                                inputs: {
                                                    DocumentName: r.variables.selectedIdentityDocumentIn.displayNameAttr,
                                                    _documentNameInDataFetchStatus: Y.Model.calculateDataFetchStatus(r.variables._selectedIdentityDocumentInDataFetchStatus),
                                                    DocumentPageType: r.variables.currentStepVar,
                                                    DocumentPages: r.variables.selectedIdentityDocumentIn.sidesAttr,
                                                    _documentPagesInDataFetchStatus: Y.Model.calculateDataFetchStatus(r.variables._selectedIdentityDocumentInDataFetchStatus),
                                                    DocumentType: r.variables.selectedIdentityDocumentIn.documentTypeAttr,
                                                    _documentTypeInDataFetchStatus: Y.Model.calculateDataFetchStatus(r.variables._selectedIdentityDocumentInDataFetchStatus)
                                                },
                                                events: {
                                                    _handleError: a(function(o) {
                                                        l.handleError(o)
                                                    }, "_handleError"),
                                                    moveToNextStep$Action: a(function(o) {
                                                        var v = s.clone();
                                                        l.manualMobileDocumentUploaderMoveToNextStep$Action(o, l.callContext(v))
                                                    }, "moveToNextStep$Action")
                                                },
                                                _validationProps: {
                                                    validationService: n
                                                },
                                                _idProps: {
                                                    service: e,
                                                    uuid: "21",
                                                    alias: "10"
                                                },
                                                _widgetRecordProvider: t,
                                                _dependencies: []
                                            }))]
                                        }, function() {
                                            return [$.createElement(y, {
                                                align: 0,
                                                animate: !0,
                                                style: "margin-bottom-m",
                                                visible: r.getCachedValue(e.getId("ErrorBanners2.Visible"), function() {
                                                    return r.variables.errorCodeVar !== Y.BuiltinFunctions.nullTextIdentifier()
                                                }, function() {
                                                    return r.variables.errorCodeVar
                                                }),
                                                _idProps: {
                                                    service: e,
                                                    name: "ErrorBanners2"
                                                },
                                                _widgetRecordProvider: t
                                            }, $.createElement(y, {
                                                align: 0,
                                                animate: !0,
                                                style: "",
                                                visible: r.variables.errorCodeVar === "DuplicateUpload",
                                                _idProps: {
                                                    service: e,
                                                    uuid: "23"
                                                },
                                                _widgetRecordProvider: t
                                            }, $.createElement(Ze, {
                                                getOwnerSpan: a(function() {
                                                    return u.getChildSpan("render")
                                                }, "getOwnerSpan"),
                                                getOwnerDisposeSpan: a(function() {
                                                    return u.getChildSpan("destroy")
                                                }, "getOwnerDisposeSpan"),
                                                inputs: {
                                                    Type: Q.messageType.error
                                                },
                                                events: {
                                                    _handleError: a(function(o) {
                                                        l.handleError(o)
                                                    }, "_handleError")
                                                },
                                                _validationProps: {
                                                    validationService: n
                                                },
                                                _idProps: {
                                                    service: e,
                                                    uuid: "24",
                                                    alias: "11"
                                                },
                                                _widgetRecordProvider: t,
                                                placeholders: {
                                                    messageContent: new Se(function() {
                                                        return [$.createElement(y, {
                                                            align: 0,
                                                            animate: !1,
                                                            visible: !0,
                                                            _idProps: {
                                                                service: e,
                                                                uuid: "25"
                                                            },
                                                            _widgetRecordProvider: t
                                                        }, "Duplicate submission found. Upload a ", $.createElement(_, {
                                                            style: "font-bold",
                                                            text: ["different document, "],
                                                            _idProps: {
                                                                service: e,
                                                                uuid: "26"
                                                            },
                                                            _widgetRecordProvider: t
                                                        }), "or provide a ", $.createElement(_, {
                                                            style: "font-bold",
                                                            text: ["new selfie."],
                                                            _idProps: {
                                                                service: e,
                                                                uuid: "27"
                                                            },
                                                            _widgetRecordProvider: t
                                                        }))]
                                                    })
                                                },
                                                _dependencies: []
                                            })), $.createElement(y, {
                                                align: 0,
                                                animate: !0,
                                                visible: r.getCachedValue(e.getId("7PLjVd96fEKbpNudhOzLcg.Visible"), function() {
                                                    return r.variables.errorCodeVar !== "DuplicateUpload" && r.variables.errorCodeVar !== Y.BuiltinFunctions.nullTextIdentifier()
                                                }, function() {
                                                    return r.variables.errorCodeVar
                                                }),
                                                _idProps: {
                                                    service: e,
                                                    uuid: "28"
                                                },
                                                _widgetRecordProvider: t
                                            }, $.createElement(Ze, {
                                                getOwnerSpan: a(function() {
                                                    return u.getChildSpan("render")
                                                }, "getOwnerSpan"),
                                                getOwnerDisposeSpan: a(function() {
                                                    return u.getChildSpan("destroy")
                                                }, "getOwnerDisposeSpan"),
                                                inputs: {
                                                    Type: Q.messageType.error
                                                },
                                                events: {
                                                    _handleError: a(function(o) {
                                                        l.handleError(o)
                                                    }, "_handleError")
                                                },
                                                _validationProps: {
                                                    validationService: n
                                                },
                                                _idProps: {
                                                    service: e,
                                                    uuid: "29",
                                                    alias: "12"
                                                },
                                                _widgetRecordProvider: t,
                                                placeholders: {
                                                    messageContent: new Se(function() {
                                                        return ['There was an issue submitting your document. Tap "Verify" to retry.']
                                                    })
                                                },
                                                _dependencies: []
                                            }))), $.createElement(y, {
                                                align: 0,
                                                animate: !1,
                                                style: "full-height",
                                                visible: !0,
                                                _idProps: {
                                                    service: e,
                                                    uuid: "30"
                                                },
                                                _widgetRecordProvider: t
                                            }, $.createElement(Tt, {
                                                getOwnerSpan: a(function() {
                                                    return u.getChildSpan("render")
                                                }, "getOwnerSpan"),
                                                getOwnerDisposeSpan: a(function() {
                                                    return u.getChildSpan("destroy")
                                                }, "getOwnerDisposeSpan"),
                                                inputs: {
                                                    AllowUpload: r.getCachedValue(e.getId("LeRGVnNeFkuPkP3yy_K+nA.AllowUpload"), function() {
                                                        return r.variables.errorCodeVar !== Y.BuiltinFunctions.nullTextIdentifier()
                                                    }, function() {
                                                        return r.variables.errorCodeVar
                                                    })
                                                },
                                                events: {
                                                    _handleError: a(function(o) {
                                                        l.handleError(o)
                                                    }, "_handleError"),
                                                    moveToNextStep$Action: a(function() {
                                                        return Promise.resolve().then(function() {
                                                            var o = s.clone();
                                                            return l.moveToNextStep$Action(l.callContext(o))
                                                        })
                                                    }, "moveToNextStep$Action"),
                                                    onChangeSelfie$Action: a(function(o) {
                                                        var v = s.clone();
                                                        l.onChangeSelfieImage$Action(o, l.callContext(v))
                                                    }, "onChangeSelfie$Action")
                                                },
                                                _validationProps: {
                                                    validationService: n
                                                },
                                                _idProps: {
                                                    service: e,
                                                    uuid: "31",
                                                    alias: "13"
                                                },
                                                _widgetRecordProvider: t,
                                                _dependencies: []
                                            }))]
                                        })]
                                    }))]
                                })
                            },
                            _dependencies: [c(r.variables.errorCodeVar), c(r.variables.currentStepVar), c(r.variables.expiryDateIn), c(r.variables.selectedIdentityDocumentIn), c(r.variables._expiryDateInDataFetchStatus), c(r.variables._selectedIdentityDocumentInDataFetchStatus), c(r.variables._documentNumberInDataFetchStatus), c(r.variables.documentNumberIn), c(r.variables.manualStepPosVar)]
                        })]
                    })
                },
                _dependencies: [c(r.variables.currentStepVar), c(r.variables.documentNumberIn), c(r.variables.selectedIdentityDocumentIn), c(r.variables._documentNumberInDataFetchStatus), c(r.variables._selectedIdentityDocumentInDataFetchStatus), c(r.variables._expiryDateInDataFetchStatus), c(r.variables.expiryDateIn), c(r.variables.manualStepPosVar), c(r.variables.errorCodeVar)]
            }))
        }
    };
a(He, "View");
var En = He,
    Ft = En;
var Oe = re(ie());
var te = D; {
    let r = class r extends te.Controller.BaseViewController {
        constructor(e, n, t) {
            super(e, n, t);
            var s = this.controller;
            this.clientActionProxies = {}, this.dataFetchDependenciesOriginal = {}, this.dataFetchDependentsGraph = {}, this.shouldSendClientVarsToDataSources = !1
        }
        get dataFetchActionNames() {
            return this.hasOwnProperty("_dataFetchActionNames") || (this._dataFetchActionNames = []), this._dataFetchActionNames
        }
        set dataFetchActionNames(e) {
            this._dataFetchActionNames = e
        }
        get _nextOnClick$Action() {
            return this.hasOwnProperty("__nextOnClick$Action") || (this.__nextOnClick$Action = function(e) {
                var n = this.model,
                    t = this.controller,
                    s = this.idService;
                return te.Logger.startActiveSpan("NextOnClick", function(i) {
                    return i && (i.setAttribute("code.function", "NextOnClick"), i.setAttribute("outsystems.function.key", "0d164429-9e09-403b-8a88-3a05467bcfb3"), i.setAttribute("outsystems.function.owner.name", "Accounts"), i.setAttribute("outsystems.function.owner.key", "8a32fa32-34f5-4338-b6db-4f1ce8fdd638"), i.setAttribute("outsystems.function.type", "CLIENT_SCREEN_ACTION")), te.Flow.tryFinally(function() {
                        return t.ensureControllerAlive("NextOnClick"), e = t.callContext(e), te.Flow.executeAsyncFlow(function() {
                            return te.Flow.executeSequence(function() {
                                if (n.variables.selectedDocumentIn.documentTypeAttr !== te.BuiltinFunctions.nullTextIdentifier()) return n.variables.showErrorVar = !1, t.nextStep$Action(n.variables.selectedDocumentIn, e);
                                n.variables.showErrorVar = !0
                            })
                        })
                    }, function() {
                        i && i.end()
                    })
                }, 1)
            }), this.__nextOnClick$Action
        }
        set _nextOnClick$Action(e) {
            this.__nextOnClick$Action = e
        }
        get _onDocumentSelect$Action() {
            return this.hasOwnProperty("__onDocumentSelect$Action") || (this.__onDocumentSelect$Action = function(e, n) {
                var t = this.model,
                    s = this.controller,
                    i = this.idService;
                return te.Logger.startActiveSpan("OnDocumentSelect", function(f) {
                    return f && (f.setAttribute("code.function", "OnDocumentSelect"), f.setAttribute("outsystems.function.key", "17c4e145-7cf0-4bca-b869-437d036c5a82"), f.setAttribute("outsystems.function.owner.name", "Accounts"), f.setAttribute("outsystems.function.owner.key", "8a32fa32-34f5-4338-b6db-4f1ce8fdd638"), f.setAttribute("outsystems.function.type", "CLIENT_SCREEN_ACTION")), te.Flow.tryFinally(function() {
                        s.ensureControllerAlive("OnDocumentSelect"), n = s.callContext(n);
                        var c = new te.DataTypes.VariableHolder(new(s.constructor.getVariableGroupType("Accounts.ProofOfIdentity.DocumentType.OnDocumentSelect$vars")));
                        return c.value.selectedDocumentTypeInLocal = e.clone(), te.Flow.executeAsyncFlow(function() {
                            return t.variables.selectedDocumentIn = c.value.selectedDocumentTypeInLocal, s._nextOnClick$Action(n)
                        })
                    }, function() {
                        f && f.end()
                    })
                }, 1)
            }), this.__onDocumentSelect$Action
        }
        set _onDocumentSelect$Action(e) {
            this.__onDocumentSelect$Action = e
        }
        nextOnClick$Action(e) {
            var n = this.controller;
            return te.Logger.startActiveSpan("NextOnClick__proxy", function(t) {
                return t && (t.setAttribute("code.function", "NextOnClick"), t.setAttribute("outsystems.function.key", "0d164429-9e09-403b-8a88-3a05467bcfb3"), t.setAttribute("outsystems.function.owner.name", "Accounts"), t.setAttribute("outsystems.function.owner.key", "8a32fa32-34f5-4338-b6db-4f1ce8fdd638"), t.setAttribute("outsystems.function.type", "CLIENT_SCREEN_ACTION")), te.Flow.tryFinally(function() {
                    return n.safeExecuteClientAction(n._nextOnClick$Action, e)
                }, function() {
                    t && t.end()
                })
            }, 0)
        }
        onDocumentSelect$Action(e, n) {
            var t = this.controller;
            return te.Logger.startActiveSpan("OnDocumentSelect__proxy", function(s) {
                return s && (s.setAttribute("code.function", "OnDocumentSelect"), s.setAttribute("outsystems.function.key", "17c4e145-7cf0-4bca-b869-437d036c5a82"), s.setAttribute("outsystems.function.owner.name", "Accounts"), s.setAttribute("outsystems.function.owner.key", "8a32fa32-34f5-4338-b6db-4f1ce8fdd638"), s.setAttribute("outsystems.function.type", "CLIENT_SCREEN_ACTION")), te.Flow.tryFinally(function() {
                    return t.safeExecuteClientAction(t._onDocumentSelect$Action, n, e)
                }, function() {
                    s && s.end()
                })
            }, 0)
        }
        get nextStep$Action() {
            return this.hasOwnProperty("_nextStep$Action") || (this._nextStep$Action = function() {
                return Promise.resolve()
            }), this._nextStep$Action
        }
        set nextStep$Action(e) {
            this._nextStep$Action = e
        }
        get onInitializeEventHandler() {
            return this.hasOwnProperty("_onInitializeEventHandler") || (this._onInitializeEventHandler = null), this._onInitializeEventHandler
        }
        set onInitializeEventHandler(e) {
            this._onInitializeEventHandler = e
        }
        get onReadyEventHandler() {
            return this.hasOwnProperty("_onReadyEventHandler") || (this._onReadyEventHandler = null), this._onReadyEventHandler
        }
        set onReadyEventHandler(e) {
            this._onReadyEventHandler = e
        }
        get onRenderEventHandler() {
            return this.hasOwnProperty("_onRenderEventHandler") || (this._onRenderEventHandler = null), this._onRenderEventHandler
        }
        set onRenderEventHandler(e) {
            this._onRenderEventHandler = e
        }
        get onDestroyEventHandler() {
            return this.hasOwnProperty("_onDestroyEventHandler") || (this._onDestroyEventHandler = null), this._onDestroyEventHandler
        }
        set onDestroyEventHandler(e) {
            this._onDestroyEventHandler = e
        }
        get onParametersChangedEventHandler() {
            return this.hasOwnProperty("_onParametersChangedEventHandler") || (this._onParametersChangedEventHandler = null), this._onParametersChangedEventHandler
        }
        set onParametersChangedEventHandler(e) {
            this._onParametersChangedEventHandler = e
        }
        get handleError() {
            return this.hasOwnProperty("_handleError") || (this._handleError = function(e) {
                return controller.handleError(e)
            }), this._handleError
        }
        set handleError(e) {
            this._handleError = e
        }
        static checkPermissions() {}
        getDefaultTimeout() {
            return F.defaultTimeout
        }
    };
    a(r, "ControllerInner");
    let m = r;
    wn = m, wn.registerVariableGroupType("Accounts.ProofOfIdentity.DocumentType.OnDocumentSelect$vars", [{
        name: "SelectedDocumentType",
        attrName: "selectedDocumentTypeInLocal",
        mandatory: !0,
        dataType: te.DataTypes.DataTypes.Record,
        defaultValue: a(function() {
            return new qe
        }, "defaultValue"),
        complexType: qe
    }])
}
var wn, Pr = new te.Controller.ControllerFactory(wn, H);
var xt = D,
    kc = T.PlaceholderContent,
    Nr = T.IteratorPlaceholderContent,
    We = class We extends M.BaseWebBlock {
        static get displayName() {
            return "ProofOfIdentity.DocumentType"
        }
        static getAttributes() {
            return {
                codeFunction: "DocumentType",
                functionKey: "8c61e707-2fcf-4835-956a-77caa7223fd5",
                functionOwnerName: "Accounts",
                functionOwnerKey: "8a32fa32-34f5-4338-b6db-4f1ce8fdd638",
                screen: ""
            }
        }
        static getCssDependencies() {
            return ["css/OutSystemsReactWidgets.css", "css/Accounts.ProofOfIdentity.DocumentType.css"]
        }
        static getJsDependencies() {
            return []
        }
        static getBlocks() {
            return []
        }
        get modelFactory() {
            return ar
        }
        get controllerFactory() {
            return Pr
        }
        get title() {
            return ""
        }
        internalRender() {
            let r = this.model,
                l = this.controller,
                e = this.idService,
                n = l.validationService,
                t = this.widgetsRecordProvider,
                s = l.callContext(),
                i = We.ifWidget,
                f = We.textWidget,
                c = We.asPrimitiveValue,
                d = We.getTranslation,
                u = this;
            return Oe.createElement("div", this.getRootNodeProperties(), Oe.createElement(y, {
                align: 0,
                animate: !1,
                style: "full-height display-flex flex-direction-column document-type__layout",
                visible: !0,
                _idProps: {
                    service: e,
                    uuid: "0"
                },
                _widgetRecordProvider: t
            }, i(r.variables.showErrorVar, !1, this, function() {
                return [Oe.createElement(_, {
                    style: "error-text font-size-s document-type__error-txt ",
                    text: ["* This is required"],
                    _idProps: {
                        service: e,
                        uuid: "1"
                    },
                    _widgetRecordProvider: t
                })]
            }, function() {
                return []
            }), Oe.createElement(dt, {
                animateItems: !0,
                gridProperties: {
                    classes: "OSFillParent"
                },
                mode: 0,
                source: r.variables.documentListIn,
                style: "list list-group row-gap-s display-flex flex-direction-column document-type__list document-type__section-content",
                tag: "div",
                _idProps: {
                    service: e,
                    uuid: "2"
                },
                _widgetRecordProvider: t,
                source_dataFetchStatus: xt.Model.calculateDataFetchStatus(r.variables._documentListInDataFetchStatus),
                placeholders: {
                    content: new Nr(function(o, v) {
                        return [Oe.createElement(y, {
                            align: 0,
                            animate: !1,
                            extendedEvents: {
                                onClick: a(function() {
                                    return Promise.resolve().then(function() {
                                        var p = v.clone();
                                        return l.onDocumentSelect$Action(r.variables.documentListIn.getCurrent(v.iterationContext), l.callContext(p))
                                    })
                                }, "onClick")
                            },
                            style: r.getCachedValue(o.getId("PN85UdM+uU60N0nj_c1vRA.Style"), function() {
                                return "padding-base document-type__item font-size-s display-flex justify-content-space-between" + (r.variables.selectedDocumentIn.documentTypeAttr === r.variables.documentListIn.getCurrent(v.iterationContext).documentTypeAttr ? " document-type__item--selected" : "")
                            }, function() {
                                return r.variables.selectedDocumentIn.documentTypeAttr
                            }, function() {
                                return r.variables.documentListIn.getCurrent(v.iterationContext).documentTypeAttr
                            }),
                            visible: !0,
                            _idProps: {
                                service: o,
                                uuid: "3"
                            },
                            _widgetRecordProvider: t,
                            style_dataFetchStatus: xt.Model.calculateDataFetchStatus(r.variables._selectedDocumentInDataFetchStatus, r.variables._documentListInDataFetchStatus),
                            _dependencies: [c(r.variables._documentListInDataFetchStatus), c(r.variables.documentListIn.getCurrent(v.iterationContext).displayNameAttr)]
                        }, Oe.createElement(z, {
                            value: r.variables.documentListIn.getCurrent(v.iterationContext).displayNameAttr,
                            _idProps: {
                                service: o,
                                uuid: "4"
                            },
                            _widgetRecordProvider: t,
                            value_dataFetchStatus: xt.Model.calculateDataFetchStatus(r.variables._documentListInDataFetchStatus)
                        }), Oe.createElement(U, {
                            gridProperties: {
                                classes: "ThemeGrid_MarginGutter"
                            },
                            image: xt.Navigation.VersionedURL.getVersionedUrl("img/Accounts.iconarrow.svg"),
                            type: 0,
                            _idProps: {
                                service: o,
                                uuid: "5"
                            },
                            _widgetRecordProvider: t
                        }))]
                    }, s, e, "1")
                },
                _dependencies: [c(r.variables._documentListInDataFetchStatus), c(r.variables._selectedDocumentInDataFetchStatus), c(r.variables.selectedDocumentIn.documentTypeAttr)]
            })))
        }
    };
a(We, "View");
var Tn = We,
    Nt = Tn;
var k = D,
    Ue = T.PlaceholderContent,
    nl = T.IteratorPlaceholderContent,
    Be = class Be extends M.BaseWebBlock {
        static get displayName() {
            return "ProofOfIdentity.IdentityVerification"
        }
        static getAttributes() {
            return {
                codeFunction: "IdentityVerification",
                functionKey: "cd40918a-9e6b-4488-953d-b3b40c884060",
                functionOwnerName: "Accounts",
                functionOwnerKey: "8a32fa32-34f5-4338-b6db-4f1ce8fdd638",
                screen: ""
            }
        }
        static getCssDependencies() {
            return ["css/OutSystemsReactWidgets.css", "css/Accounts.ProofOfIdentity.IdentityVerification.css"]
        }
        static getJsDependencies() {
            return []
        }
        static getBlocks() {
            return [_e, X, At, Dt, Ot, Ft, j, Nt, be, Lt]
        }
        get modelFactory() {
            return sr
        }
        get controllerFactory() {
            return pr
        }
        get title() {
            return ""
        }
        internalRender() {
            let r = this.model,
                l = this.controller,
                e = this.idService,
                n = l.validationService,
                t = this.widgetsRecordProvider,
                s = l.callContext(),
                i = Be.ifWidget,
                f = Be.textWidget,
                c = Be.asPrimitiveValue,
                d = Be.getTranslation,
                u = this;
            return N.createElement("div", this.getRootNodeProperties(), N.createElement(_e, {
                getOwnerSpan: a(function() {
                    return u.getChildSpan("render")
                }, "getOwnerSpan"),
                getOwnerDisposeSpan: a(function() {
                    return u.getChildSpan("destroy")
                }, "getOwnerDisposeSpan"),
                inputs: {
                    IsDesktop: V.getDevice() === "desktop"
                },
                events: {
                    _handleError: a(function(o) {
                        l.handleError(o)
                    }, "_handleError")
                },
                _validationProps: {
                    validationService: n
                },
                _idProps: {
                    service: e,
                    uuid: "0",
                    alias: "1"
                },
                _widgetRecordProvider: t,
                placeholders: {
                    desktopLayout: new Ue(function() {
                        return [i(r.variables.isDocumentSelectedVar, !1, this, function() {
                            return [i(r.variables.selectedIdentityDocumentIn.availableServicesAttr.getCurrent(s.iterationContext).serviceAttr === "idv", !1, this, function() {
                                return [N.createElement(y, {
                                    align: 0,
                                    animate: !1,
                                    visible: !0,
                                    _idProps: {
                                        service: e,
                                        uuid: "1"
                                    },
                                    _widgetRecordProvider: t
                                }, N.createElement(y, {
                                    align: 0,
                                    animate: !0,
                                    style: "margin-bottom-m",
                                    visible: r.getCachedValue(e.getId("ARa8LhgNq0yEFc1_AElnbA.Visible"), function() {
                                        return r.variables.serverErrorVar.codeAttr !== k.BuiltinFunctions.nullTextIdentifier()
                                    }, function() {
                                        return r.variables.serverErrorVar.codeAttr
                                    }),
                                    _idProps: {
                                        service: e,
                                        uuid: "2"
                                    },
                                    _widgetRecordProvider: t
                                }, N.createElement(y, {
                                    align: 0,
                                    animate: !0,
                                    style: "display-flex padding-s align-items-center column-gap-s error-banner banner-message-layout full-width",
                                    visible: r.getCachedValue(e.getId("Errorbanner.Visible"), function() {
                                        return r.variables.serverErrorVar.codeAttr !== k.BuiltinFunctions.nullTextIdentifier()
                                    }, function() {
                                        return r.variables.serverErrorVar.codeAttr
                                    }),
                                    _idProps: {
                                        service: e,
                                        name: "Errorbanner"
                                    },
                                    _widgetRecordProvider: t
                                }, N.createElement(U, {
                                    image: k.Navigation.VersionedURL.getVersionedUrl("img/Accounts.StandaloneTriangleExclamationRegularIcon.svg"),
                                    style: "align-self-flex-start",
                                    type: 0,
                                    _idProps: {
                                        service: e,
                                        uuid: "4"
                                    },
                                    _widgetRecordProvider: t
                                }), N.createElement(y, {
                                    align: 0,
                                    animate: !1,
                                    style: "full-width",
                                    visible: !0,
                                    _idProps: {
                                        service: e,
                                        uuid: "5"
                                    },
                                    _widgetRecordProvider: t
                                }, i(r.variables.serverErrorVar.codeAttr === "ClaimedDocument", !1, this, function() {
                                    return [N.createElement(y, {
                                        align: 0,
                                        animate: !0,
                                        style: "font-size-xs full-width",
                                        visible: r.variables.serverErrorVar.codeAttr === "ClaimedDocument",
                                        _idProps: {
                                            service: e,
                                            uuid: "6"
                                        },
                                        _widgetRecordProvider: t
                                    }, "Document number already exists. If you think this is a mistake, contact us via", N.createElement(vt, {
                                        enabled: !0,
                                        gridProperties: {
                                            classes: "ThemeGrid_MarginGutter"
                                        },
                                        onClick: a(function() {
                                            var o = s.clone();
                                            l.liveChat_OnClick$Action(l.callContext(o))
                                        }, "onClick"),
                                        style: "font-bold error-banner__link",
                                        visible: !0,
                                        _idProps: {
                                            service: e,
                                            uuid: "7"
                                        },
                                        _widgetRecordProvider: t
                                    }, "live chat."))]
                                }, function() {
                                    return [N.createElement(y, {
                                        align: 0,
                                        animate: !1,
                                        style: "font-size-xs full-width",
                                        visible: !0,
                                        _idProps: {
                                            service: e,
                                            uuid: "8"
                                        },
                                        _widgetRecordProvider: t
                                    }, N.createElement(z, {
                                        value: r.variables.serverErrorVar.messageAttr,
                                        _idProps: {
                                            service: e,
                                            uuid: "9"
                                        },
                                        _widgetRecordProvider: t
                                    }))]
                                })))), N.createElement(X, {
                                    getOwnerSpan: a(function() {
                                        return u.getChildSpan("render")
                                    }, "getOwnerSpan"),
                                    getOwnerDisposeSpan: a(function() {
                                        return u.getChildSpan("destroy")
                                    }, "getOwnerDisposeSpan"),
                                    inputs: {
                                        Title: "Document number",
                                        ShouldDisplayBackButton: !0
                                    },
                                    events: {
                                        _handleError: a(function(o) {
                                            l.handleError(o)
                                        }, "_handleError"),
                                        navigateBack$Action: a(function() {
                                            var o = s.clone();
                                            l.backToDocumentType$Action(l.callContext(o))
                                        }, "navigateBack$Action")
                                    },
                                    _validationProps: {
                                        validationService: n
                                    },
                                    _idProps: {
                                        service: e,
                                        uuid: "10",
                                        alias: "2"
                                    },
                                    _widgetRecordProvider: t,
                                    placeholders: {
                                        additionalcontent: Ue.Empty
                                    },
                                    _dependencies: []
                                }), N.createElement(At, {
                                    getOwnerSpan: a(function() {
                                        return u.getChildSpan("render")
                                    }, "getOwnerSpan"),
                                    getOwnerDisposeSpan: a(function() {
                                        return u.getChildSpan("destroy")
                                    }, "getOwnerDisposeSpan"),
                                    inputs: {
                                        SelectedDocument: r.variables.selectedIdentityDocumentIn,
                                        _selectedDocumentInDataFetchStatus: k.Model.calculateDataFetchStatus(r.variables._selectedIdentityDocumentInDataFetchStatus),
                                        DocumentNumber: r.getCachedValue(e.getId("biEaNck7nUGLPLDP4t2sQQ.DocumentNumber"), function() {
                                            return function() {
                                                var o = new fe;
                                                return o.valueAttr = r.variables.documentNumberIn, o
                                            }()
                                        }, function() {
                                            return r.variables.documentNumberIn
                                        }),
                                        _documentNumberInDataFetchStatus: k.Model.calculateDataFetchStatus(r.variables._documentNumberInDataFetchStatus),
                                        AdditionalDocument: r.getCachedValue(e.getId("biEaNck7nUGLPLDP4t2sQQ.AdditionalDocument"), function() {
                                            return function() {
                                                var o = new fe;
                                                return o.valueAttr = r.variables.additionalDocumentNumberIn, o
                                            }()
                                        }, function() {
                                            return r.variables.additionalDocumentNumberIn
                                        }),
                                        _additionalDocumentInDataFetchStatus: k.Model.calculateDataFetchStatus(r.variables._additionalDocumentNumberInDataFetchStatus),
                                        SelectedCountry: r.variables.selectedCountryIn,
                                        _selectedCountryInDataFetchStatus: k.Model.calculateDataFetchStatus(r.variables._selectedCountryInDataFetchStatus)
                                    },
                                    events: {
                                        _handleError: a(function(o) {
                                            l.handleError(o)
                                        }, "_handleError"),
                                        updateIDVData$Action: a(function(o, v) {
                                            return Promise.resolve().then(function() {
                                                var p = s.clone();
                                                return l.submitIDVData$Action(o, v, l.callContext(p))
                                            })
                                        }, "updateIDVData$Action")
                                    },
                                    _validationProps: {
                                        validationService: n
                                    },
                                    _idProps: {
                                        service: e,
                                        uuid: "11",
                                        alias: "3"
                                    },
                                    _widgetRecordProvider: t,
                                    _dependencies: []
                                }))]
                            }, function() {
                                return [i(r.variables.selectedIdentityDocumentIn.availableServicesAttr.getCurrent(s.iterationContext).serviceAttr === "onfido", !1, this, function() {
                                    return [N.createElement(Dt, {
                                        getOwnerSpan: a(function() {
                                            return u.getChildSpan("render")
                                        }, "getOwnerSpan"),
                                        getOwnerDisposeSpan: a(function() {
                                            return u.getChildSpan("destroy")
                                        }, "getOwnerDisposeSpan"),
                                        inputs: {
                                            SelectedCountry: r.variables.selectedCountryIn,
                                            _selectedCountryInDataFetchStatus: k.Model.calculateDataFetchStatus(r.variables._selectedCountryInDataFetchStatus),
                                            SelectedDocument: r.variables.selectedIdentityDocumentIn.availableServicesAttr.getCurrent(s.iterationContext).documentTypeAttr,
                                            _selectedDocumentInDataFetchStatus: k.Model.calculateDataFetchStatus(r.variables._selectedIdentityDocumentInDataFetchStatus)
                                        },
                                        events: {
                                            _handleError: a(function(o) {
                                                l.handleError(o)
                                            }, "_handleError")
                                        },
                                        _validationProps: {
                                            validationService: n
                                        },
                                        _idProps: {
                                            service: e,
                                            uuid: "12",
                                            alias: "4"
                                        },
                                        _widgetRecordProvider: t,
                                        _dependencies: []
                                    })]
                                }, function() {
                                    return [i(r.variables.selectedIdentityDocumentIn.availableServicesAttr.getCurrent(s.iterationContext).serviceAttr === "smile_id" && r.variables.isSmileIdEnabled2Var, !1, this, function() {
                                        return [N.createElement(Ot, {
                                            getOwnerSpan: a(function() {
                                                return u.getChildSpan("render")
                                            }, "getOwnerSpan"),
                                            getOwnerDisposeSpan: a(function() {
                                                return u.getChildSpan("destroy")
                                            }, "getOwnerDisposeSpan"),
                                            inputs: {
                                                SelectedDocument: r.variables.selectedIdentityDocumentIn.documentTypeAttr,
                                                _selectedDocumentInDataFetchStatus: k.Model.calculateDataFetchStatus(r.variables._selectedIdentityDocumentInDataFetchStatus),
                                                SelectedCountry: r.variables.selectedCountryIn,
                                                _selectedCountryInDataFetchStatus: k.Model.calculateDataFetchStatus(r.variables._selectedCountryInDataFetchStatus)
                                            },
                                            events: {
                                                _handleError: a(function(o) {
                                                    l.handleError(o)
                                                }, "_handleError")
                                            },
                                            _validationProps: {
                                                validationService: n
                                            },
                                            _idProps: {
                                                service: e,
                                                uuid: "13",
                                                alias: "5"
                                            },
                                            _widgetRecordProvider: t,
                                            _dependencies: []
                                        })]
                                    }, function() {
                                        return [N.createElement(Ft, {
                                            getOwnerSpan: a(function() {
                                                return u.getChildSpan("render")
                                            }, "getOwnerSpan"),
                                            getOwnerDisposeSpan: a(function() {
                                                return u.getChildSpan("destroy")
                                            }, "getOwnerDisposeSpan"),
                                            inputs: {
                                                SelectedCountry: r.variables.selectedCountryIn,
                                                _selectedCountryInDataFetchStatus: k.Model.calculateDataFetchStatus(r.variables._selectedCountryInDataFetchStatus),
                                                DocumentNumber: r.variables.documentNumberIn,
                                                _documentNumberInDataFetchStatus: k.Model.calculateDataFetchStatus(r.variables._documentNumberInDataFetchStatus),
                                                ExpiryDate: r.variables.documentExpiryDateIn,
                                                _expiryDateInDataFetchStatus: k.Model.calculateDataFetchStatus(r.variables._documentExpiryDateInDataFetchStatus),
                                                SelectedIdentityDocument: r.variables.selectedIdentityDocumentIn,
                                                _selectedIdentityDocumentInDataFetchStatus: k.Model.calculateDataFetchStatus(r.variables._selectedIdentityDocumentInDataFetchStatus)
                                            },
                                            events: {
                                                _handleError: a(function(o) {
                                                    l.handleError(o)
                                                }, "_handleError"),
                                                backToDocument$Action: a(function() {
                                                    var o = s.clone();
                                                    l.backToDocumentType$Action(l.callContext(o))
                                                }, "backToDocument$Action"),
                                                updateDocumentDetails$Action: a(function(o, v) {
                                                    var p = s.clone();
                                                    l.updateManualDocData$Action(o, v, l.callContext(p))
                                                }, "updateDocumentDetails$Action")
                                            },
                                            _validationProps: {
                                                validationService: n
                                            },
                                            _idProps: {
                                                service: e,
                                                uuid: "14",
                                                alias: "6"
                                            },
                                            _widgetRecordProvider: t,
                                            _dependencies: []
                                        })]
                                    })]
                                })]
                            })]
                        }, function() {
                            return [N.createElement(y, {
                                align: 0,
                                animate: !1,
                                style: "full-height display-flex flex-direction-column",
                                visible: !0,
                                _idProps: {
                                    service: e,
                                    uuid: "15"
                                },
                                _widgetRecordProvider: t
                            }, N.createElement(X, {
                                getOwnerSpan: a(function() {
                                    return u.getChildSpan("render")
                                }, "getOwnerSpan"),
                                getOwnerDisposeSpan: a(function() {
                                    return u.getChildSpan("destroy")
                                }, "getOwnerDisposeSpan"),
                                inputs: {
                                    ShouldDisplayBackButton: !0,
                                    Title: "Document type"
                                },
                                events: {
                                    _handleError: a(function(o) {
                                        l.handleError(o)
                                    }, "_handleError"),
                                    navigateBack$Action: a(function() {
                                        return Promise.resolve().then(function() {
                                            var o = s.clone();
                                            return l.backToPersonalDetails$Action(l.callContext(o))
                                        })
                                    }, "navigateBack$Action")
                                },
                                _validationProps: {
                                    validationService: n
                                },
                                _idProps: {
                                    service: e,
                                    uuid: "16",
                                    alias: "7"
                                },
                                _widgetRecordProvider: t,
                                placeholders: {
                                    additionalcontent: Ue.Empty
                                },
                                _dependencies: []
                            }), i(r.variables.isLoadingVar, !1, this, function() {
                                return [N.createElement(j, {
                                    getOwnerSpan: a(function() {
                                        return u.getChildSpan("render")
                                    }, "getOwnerSpan"),
                                    getOwnerDisposeSpan: a(function() {
                                        return u.getChildSpan("destroy")
                                    }, "getOwnerDisposeSpan"),
                                    inputs: {},
                                    events: {
                                        _handleError: a(function(o) {
                                            l.handleError(o)
                                        }, "_handleError")
                                    },
                                    _validationProps: {
                                        validationService: n
                                    },
                                    _idProps: {
                                        service: e,
                                        uuid: "17",
                                        alias: "8"
                                    },
                                    _widgetRecordProvider: t,
                                    _dependencies: []
                                })]
                            }, function() {
                                return [N.createElement(Nt, {
                                    getOwnerSpan: a(function() {
                                        return u.getChildSpan("render")
                                    }, "getOwnerSpan"),
                                    getOwnerDisposeSpan: a(function() {
                                        return u.getChildSpan("destroy")
                                    }, "getOwnerDisposeSpan"),
                                    inputs: {
                                        SelectedDocument: r.variables.selectedIdentityDocumentIn,
                                        _selectedDocumentInDataFetchStatus: k.Model.calculateDataFetchStatus(r.variables._selectedIdentityDocumentInDataFetchStatus),
                                        DocumentList: r.variables.documentListVar
                                    },
                                    events: {
                                        _handleError: a(function(o) {
                                            l.handleError(o)
                                        }, "_handleError"),
                                        nextStep$Action: a(function(o) {
                                            return Promise.resolve().then(function() {
                                                var v = s.clone();
                                                return l.onSelectingIdentityDocument$Action(o, l.callContext(v))
                                            })
                                        }, "nextStep$Action")
                                    },
                                    _validationProps: {
                                        validationService: n
                                    },
                                    _idProps: {
                                        service: e,
                                        uuid: "18",
                                        alias: "9"
                                    },
                                    _widgetRecordProvider: t,
                                    _dependencies: []
                                })]
                            }))]
                        })]
                    }),
                    tabletLayout: Ue.Empty,
                    defaultLayout: new Ue(function() {
                        return [i(r.variables.isDocumentSelectedVar, !1, this, function() {
                            return [i(r.variables.selectedIdentityDocumentIn.availableServicesAttr.getCurrent(s.iterationContext).serviceAttr === "idv", !1, this, function() {
                                return [N.createElement(be, {
                                    getOwnerSpan: a(function() {
                                        return u.getChildSpan("render")
                                    }, "getOwnerSpan"),
                                    getOwnerDisposeSpan: a(function() {
                                        return u.getChildSpan("destroy")
                                    }, "getOwnerDisposeSpan"),
                                    inputs: {
                                        StepCount: 3,
                                        CurrentStep: 3
                                    },
                                    events: {
                                        _handleError: a(function(o) {
                                            l.handleError(o)
                                        }, "_handleError"),
                                        goToPreviousStep$Action: a(function(o) {
                                            return Promise.resolve().then(function() {
                                                var v = s.clone();
                                                return l.mobileNavigationWizardGoToPreviousStep$Action(l.callContext(v))
                                            })
                                        }, "goToPreviousStep$Action")
                                    },
                                    _validationProps: {
                                        validationService: n
                                    },
                                    _idProps: {
                                        service: e,
                                        uuid: "19",
                                        alias: "10"
                                    },
                                    _widgetRecordProvider: t,
                                    placeholders: {
                                        section: new Ue(function() {
                                            return [i(r.variables.serverErrorVar.codeAttr === "ClaimedDocument", !1, this, function() {
                                                return [N.createElement(y, {
                                                    align: 0,
                                                    animate: !1,
                                                    style: "display-flex padding-s banner-message-layout font-size-xs error-banner banner-message-layout__mobile",
                                                    visible: !0,
                                                    _idProps: {
                                                        service: e,
                                                        uuid: "20"
                                                    },
                                                    _widgetRecordProvider: t
                                                }, N.createElement(U, {
                                                    image: k.Navigation.VersionedURL.getVersionedUrl("img/Accounts.StandaloneTriangleExclamationRegularIcon.svg"),
                                                    type: 0,
                                                    _idProps: {
                                                        service: e,
                                                        uuid: "21"
                                                    },
                                                    _widgetRecordProvider: t
                                                }), N.createElement(_, {
                                                    style: "align-self-center",
                                                    text: ["Document number already exists. If you think this is a mistake, contact us via live chat."],
                                                    _idProps: {
                                                        service: e,
                                                        uuid: "22"
                                                    },
                                                    _widgetRecordProvider: t
                                                }))]
                                            }, function() {
                                                return [N.createElement(y, {
                                                    align: 0,
                                                    animate: !0,
                                                    style: "banner-message-layout__mobile",
                                                    visible: r.getCachedValue(e.getId("vU3Da_qTrUWU5GRmawzxlg.Visible"), function() {
                                                        return r.variables.serverErrorVar.codeAttr !== k.BuiltinFunctions.nullTextIdentifier()
                                                    }, function() {
                                                        return r.variables.serverErrorVar.codeAttr
                                                    }),
                                                    _idProps: {
                                                        service: e,
                                                        uuid: "23"
                                                    },
                                                    _widgetRecordProvider: t
                                                }, N.createElement(Lt, {
                                                    getOwnerSpan: a(function() {
                                                        return u.getChildSpan("render")
                                                    }, "getOwnerSpan"),
                                                    getOwnerDisposeSpan: a(function() {
                                                        return u.getChildSpan("destroy")
                                                    }, "getOwnerDisposeSpan"),
                                                    inputs: {
                                                        Type: Q.messageType.error,
                                                        Text: r.getCachedValue(e.getId("wQyAf9D8fkaBifKf0wkK1w.Text"), function() {
                                                            return r.variables.serverErrorVar.messageAttr !== k.BuiltinFunctions.nullTextIdentifier() ? r.variables.serverErrorVar.messageAttr : "An internal error occurred while verifying your identity. Tap 'Verify' to retry."
                                                        }, function() {
                                                            return r.variables.serverErrorVar.messageAttr
                                                        })
                                                    },
                                                    events: {
                                                        _handleError: a(function(o) {
                                                            l.handleError(o)
                                                        }, "_handleError")
                                                    },
                                                    _validationProps: {
                                                        validationService: n
                                                    },
                                                    _idProps: {
                                                        service: e,
                                                        uuid: "24",
                                                        alias: "11"
                                                    },
                                                    _widgetRecordProvider: t,
                                                    _dependencies: []
                                                }))]
                                            }), N.createElement(y, {
                                                align: 0,
                                                animate: !1,
                                                style: "full-height display-flex flex-direction-column row-gap-base",
                                                visible: !0,
                                                _idProps: {
                                                    service: e,
                                                    uuid: "25"
                                                },
                                                _widgetRecordProvider: t
                                            }, N.createElement(_, {
                                                style: "font-size-h6 identity-verification__section-header font-bold",
                                                text: ["Document number"],
                                                _idProps: {
                                                    service: e,
                                                    uuid: "26"
                                                },
                                                _widgetRecordProvider: t
                                            }), N.createElement(y, {
                                                align: 0,
                                                animate: !1,
                                                style: "full-height",
                                                visible: !0,
                                                _idProps: {
                                                    service: e,
                                                    uuid: "27"
                                                },
                                                _widgetRecordProvider: t
                                            }, N.createElement(At, {
                                                getOwnerSpan: a(function() {
                                                    return u.getChildSpan("render")
                                                }, "getOwnerSpan"),
                                                getOwnerDisposeSpan: a(function() {
                                                    return u.getChildSpan("destroy")
                                                }, "getOwnerDisposeSpan"),
                                                inputs: {
                                                    SelectedDocument: r.variables.selectedIdentityDocumentIn,
                                                    _selectedDocumentInDataFetchStatus: k.Model.calculateDataFetchStatus(r.variables._selectedIdentityDocumentInDataFetchStatus),
                                                    SelectedCountry: r.variables.selectedCountryIn,
                                                    _selectedCountryInDataFetchStatus: k.Model.calculateDataFetchStatus(r.variables._selectedCountryInDataFetchStatus),
                                                    AdditionalDocument: r.getCachedValue(e.getId("JO495YsirUC4kkm99YABGQ.AdditionalDocument"), function() {
                                                        return function() {
                                                            var o = new fe;
                                                            return o.valueAttr = r.variables.additionalDocumentNumberIn, o
                                                        }()
                                                    }, function() {
                                                        return r.variables.additionalDocumentNumberIn
                                                    }),
                                                    _additionalDocumentInDataFetchStatus: k.Model.calculateDataFetchStatus(r.variables._additionalDocumentNumberInDataFetchStatus),
                                                    DocumentNumber: r.getCachedValue(e.getId("JO495YsirUC4kkm99YABGQ.DocumentNumber"), function() {
                                                        return function() {
                                                            var o = new fe;
                                                            return o.valueAttr = r.variables.documentNumberIn, o
                                                        }()
                                                    }, function() {
                                                        return r.variables.documentNumberIn
                                                    }),
                                                    _documentNumberInDataFetchStatus: k.Model.calculateDataFetchStatus(r.variables._documentNumberInDataFetchStatus)
                                                },
                                                events: {
                                                    _handleError: a(function(o) {
                                                        l.handleError(o)
                                                    }, "_handleError"),
                                                    updateIDVData$Action: a(function(o, v) {
                                                        return Promise.resolve().then(function() {
                                                            var p = s.clone();
                                                            return l.submitIDVData$Action(o, v, l.callContext(p))
                                                        })
                                                    }, "updateIDVData$Action")
                                                },
                                                _validationProps: {
                                                    validationService: n
                                                },
                                                _idProps: {
                                                    service: e,
                                                    uuid: "28",
                                                    alias: "12"
                                                },
                                                _widgetRecordProvider: t,
                                                _dependencies: []
                                            })))]
                                        })
                                    },
                                    _dependencies: [c(r.variables.documentNumberIn), c(r.variables.additionalDocumentNumberIn), c(r.variables.selectedCountryIn), c(r.variables._documentNumberInDataFetchStatus), c(r.variables._additionalDocumentNumberInDataFetchStatus), c(r.variables._selectedCountryInDataFetchStatus), c(r.variables._selectedIdentityDocumentInDataFetchStatus), c(r.variables.selectedIdentityDocumentIn), c(r.variables.serverErrorVar.messageAttr), c(r.variables.serverErrorVar.codeAttr)]
                                })]
                            }, function() {
                                return [i(r.variables.selectedIdentityDocumentIn.availableServicesAttr.getCurrent(s.iterationContext).serviceAttr === "onfido", !1, this, function() {
                                    return [N.createElement(Dt, {
                                        getOwnerSpan: a(function() {
                                            return u.getChildSpan("render")
                                        }, "getOwnerSpan"),
                                        getOwnerDisposeSpan: a(function() {
                                            return u.getChildSpan("destroy")
                                        }, "getOwnerDisposeSpan"),
                                        inputs: {
                                            SelectedDocument: r.variables.selectedIdentityDocumentIn.availableServicesAttr.getCurrent(s.iterationContext).documentTypeAttr,
                                            _selectedDocumentInDataFetchStatus: k.Model.calculateDataFetchStatus(r.variables._selectedIdentityDocumentInDataFetchStatus),
                                            SelectedCountry: r.variables.selectedCountryIn,
                                            _selectedCountryInDataFetchStatus: k.Model.calculateDataFetchStatus(r.variables._selectedCountryInDataFetchStatus)
                                        },
                                        events: {
                                            _handleError: a(function(o) {
                                                l.handleError(o)
                                            }, "_handleError")
                                        },
                                        _validationProps: {
                                            validationService: n
                                        },
                                        _idProps: {
                                            service: e,
                                            uuid: "29",
                                            alias: "13"
                                        },
                                        _widgetRecordProvider: t,
                                        _dependencies: []
                                    })]
                                }, function() {
                                    return [i(r.variables.selectedIdentityDocumentIn.availableServicesAttr.getCurrent(s.iterationContext).serviceAttr === "smileid", !1, this, function() {
                                        return [N.createElement(Ot, {
                                            getOwnerSpan: a(function() {
                                                return u.getChildSpan("render")
                                            }, "getOwnerSpan"),
                                            getOwnerDisposeSpan: a(function() {
                                                return u.getChildSpan("destroy")
                                            }, "getOwnerDisposeSpan"),
                                            inputs: {
                                                SelectedCountry: r.variables.selectedCountryIn,
                                                _selectedCountryInDataFetchStatus: k.Model.calculateDataFetchStatus(r.variables._selectedCountryInDataFetchStatus),
                                                SelectedDocument: r.variables.selectedIdentityDocumentIn.documentTypeAttr,
                                                _selectedDocumentInDataFetchStatus: k.Model.calculateDataFetchStatus(r.variables._selectedIdentityDocumentInDataFetchStatus)
                                            },
                                            events: {
                                                _handleError: a(function(o) {
                                                    l.handleError(o)
                                                }, "_handleError")
                                            },
                                            _validationProps: {
                                                validationService: n
                                            },
                                            _idProps: {
                                                service: e,
                                                uuid: "30",
                                                alias: "14"
                                            },
                                            _widgetRecordProvider: t,
                                            _dependencies: []
                                        })]
                                    }, function() {
                                        return [N.createElement(Ft, {
                                            getOwnerSpan: a(function() {
                                                return u.getChildSpan("render")
                                            }, "getOwnerSpan"),
                                            getOwnerDisposeSpan: a(function() {
                                                return u.getChildSpan("destroy")
                                            }, "getOwnerDisposeSpan"),
                                            inputs: {
                                                SelectedIdentityDocument: r.variables.selectedIdentityDocumentIn,
                                                _selectedIdentityDocumentInDataFetchStatus: k.Model.calculateDataFetchStatus(r.variables._selectedIdentityDocumentInDataFetchStatus),
                                                SelectedCountry: r.variables.selectedCountryIn,
                                                _selectedCountryInDataFetchStatus: k.Model.calculateDataFetchStatus(r.variables._selectedCountryInDataFetchStatus),
                                                DocumentNumber: r.variables.documentNumberIn,
                                                _documentNumberInDataFetchStatus: k.Model.calculateDataFetchStatus(r.variables._documentNumberInDataFetchStatus),
                                                ExpiryDate: r.variables.documentExpiryDateIn,
                                                _expiryDateInDataFetchStatus: k.Model.calculateDataFetchStatus(r.variables._documentExpiryDateInDataFetchStatus)
                                            },
                                            events: {
                                                _handleError: a(function(o) {
                                                    l.handleError(o)
                                                }, "_handleError"),
                                                backToDocument$Action: a(function() {
                                                    var o = s.clone();
                                                    l.backToDocumentType$Action(l.callContext(o))
                                                }, "backToDocument$Action"),
                                                updateDocumentDetails$Action: a(function(o, v) {
                                                    var p = s.clone();
                                                    l.updateManualDocData$Action(o, v, l.callContext(p))
                                                }, "updateDocumentDetails$Action")
                                            },
                                            _validationProps: {
                                                validationService: n
                                            },
                                            _idProps: {
                                                service: e,
                                                uuid: "31",
                                                alias: "15"
                                            },
                                            _widgetRecordProvider: t,
                                            _dependencies: []
                                        })]
                                    })]
                                })]
                            })]
                        }, function() {
                            return [N.createElement(be, {
                                getOwnerSpan: a(function() {
                                    return u.getChildSpan("render")
                                }, "getOwnerSpan"),
                                getOwnerDisposeSpan: a(function() {
                                    return u.getChildSpan("destroy")
                                }, "getOwnerDisposeSpan"),
                                inputs: {
                                    CurrentStep: 2,
                                    StepCount: 4
                                },
                                events: {
                                    _handleError: a(function(o) {
                                        l.handleError(o)
                                    }, "_handleError"),
                                    goToPreviousStep$Action: a(function(o) {
                                        return Promise.resolve().then(function() {
                                            var v = s.clone();
                                            return l.mobileNavigationWizardGoToPreviousStep$Action(l.callContext(v))
                                        })
                                    }, "goToPreviousStep$Action")
                                },
                                _validationProps: {
                                    validationService: n
                                },
                                _idProps: {
                                    service: e,
                                    uuid: "32",
                                    alias: "16"
                                },
                                _widgetRecordProvider: t,
                                placeholders: {
                                    section: new Ue(function() {
                                        return [N.createElement(y, {
                                            align: 0,
                                            animate: !1,
                                            style: "full-height display-flex flex-direction-column row-gap-base",
                                            visible: !0,
                                            _idProps: {
                                                service: e,
                                                uuid: "33"
                                            },
                                            _widgetRecordProvider: t
                                        }, N.createElement(_, {
                                            style: "font-size-h6 identity-verification__section-header font-bold",
                                            text: ["Document type"],
                                            _idProps: {
                                                service: e,
                                                uuid: "34"
                                            },
                                            _widgetRecordProvider: t
                                        }), i(r.variables.isLoadingVar, !1, this, function() {
                                            return [N.createElement(j, {
                                                getOwnerSpan: a(function() {
                                                    return u.getChildSpan("render")
                                                }, "getOwnerSpan"),
                                                getOwnerDisposeSpan: a(function() {
                                                    return u.getChildSpan("destroy")
                                                }, "getOwnerDisposeSpan"),
                                                inputs: {},
                                                events: {
                                                    _handleError: a(function(o) {
                                                        l.handleError(o)
                                                    }, "_handleError")
                                                },
                                                _validationProps: {
                                                    validationService: n
                                                },
                                                _idProps: {
                                                    service: e,
                                                    uuid: "35",
                                                    alias: "17"
                                                },
                                                _widgetRecordProvider: t,
                                                _dependencies: []
                                            })]
                                        }, function() {
                                            return [N.createElement(Nt, {
                                                getOwnerSpan: a(function() {
                                                    return u.getChildSpan("render")
                                                }, "getOwnerSpan"),
                                                getOwnerDisposeSpan: a(function() {
                                                    return u.getChildSpan("destroy")
                                                }, "getOwnerDisposeSpan"),
                                                inputs: {
                                                    SelectedDocument: r.variables.selectedIdentityDocumentIn,
                                                    _selectedDocumentInDataFetchStatus: k.Model.calculateDataFetchStatus(r.variables._selectedIdentityDocumentInDataFetchStatus),
                                                    DocumentList: r.variables.documentListVar
                                                },
                                                events: {
                                                    _handleError: a(function(o) {
                                                        l.handleError(o)
                                                    }, "_handleError"),
                                                    nextStep$Action: a(function(o) {
                                                        return Promise.resolve().then(function() {
                                                            var v = s.clone();
                                                            return l.onSelectingIdentityDocument$Action(o, l.callContext(v))
                                                        })
                                                    }, "nextStep$Action")
                                                },
                                                _validationProps: {
                                                    validationService: n
                                                },
                                                _idProps: {
                                                    service: e,
                                                    uuid: "36",
                                                    alias: "18"
                                                },
                                                _widgetRecordProvider: t,
                                                _dependencies: []
                                            })]
                                        }))]
                                    })
                                },
                                _dependencies: [c(r.variables.documentListVar), c(r.variables._selectedIdentityDocumentInDataFetchStatus), c(r.variables.selectedIdentityDocumentIn), c(r.variables.isLoadingVar)]
                            })]
                        })]
                    })
                },
                _dependencies: [c(r.variables.documentListVar), c(r.variables.isLoadingVar), c(r.variables.documentExpiryDateIn), c(r.variables.isSmileIdEnabled2Var), c(r.variables.selectedCountryIn), c(r.variables.additionalDocumentNumberIn), c(r.variables.documentNumberIn), c(r.variables.serverErrorVar.messageAttr), c(r.variables.serverErrorVar.codeAttr), c(r.variables._documentExpiryDateInDataFetchStatus), c(r.variables._selectedCountryInDataFetchStatus), c(r.variables._additionalDocumentNumberInDataFetchStatus), c(r.variables._documentNumberInDataFetchStatus), c(r.variables._selectedIdentityDocumentInDataFetchStatus), c(r.variables.selectedIdentityDocumentIn), c(r.variables.isDocumentSelectedVar)]
            }))
        }
    };
a(Be, "View");
var Rn = Be,
    Vt = Rn;
var K = re(ie());

function Fn(m, r, l, e) {
    let t = JSON.parse(m.ResidenceListResponse).map(s => ({
        text: s.text,
        value: s.value
    }));
    m.FormattedResidenceList = JSON.stringify(t)
}
a(Fn, "default");

function xn(m, r, l, e) {
    let t = JSON.parse(m.CountryList).sort((s, i) => s.value === m.SuggestedCountry ? -1 : 1);
    m.SortedList = JSON.stringify(t)
}
a(xn, "default");

function Nn(m, r, l, e) {
    let t = JSON.parse(m.RawListItems).filter(s => s.text.toLowerCase().includes(m.searchText.toLowerCase()));
    m.FilteredListItems = JSON.stringify(t)
}
a(Nn, "default");
var h = D; {
    let r = class r extends h.Controller.BaseViewController {
        constructor(e, n, t) {
            super(e, n, t);
            var s = this.controller;
            this.clientActionProxies = {}, this.dataFetchDependenciesOriginal = {}, this.dataFetchDependentsGraph = {}, this.shouldSendClientVarsToDataSources = !1
        }
        get dataFetchActionNames() {
            return this.hasOwnProperty("_dataFetchActionNames") || (this._dataFetchActionNames = []), this._dataFetchActionNames
        }
        set dataFetchActionNames(e) {
            this._dataFetchActionNames = e
        }
        get _onReady$Action() {
            return this.hasOwnProperty("__onReady$Action") || (this.__onReady$Action = function(e) {
                var n = this.model,
                    t = this.controller,
                    s = this.idService;
                return h.Logger.startActiveSpan("OnReady", function(i) {
                    return i && (i.setAttribute("code.function", "OnReady"), i.setAttribute("outsystems.function.key", "a1dfbb86-8ef6-4b46-8b58-656ebb4bc8c3"), i.setAttribute("outsystems.function.owner.name", "Accounts"), i.setAttribute("outsystems.function.owner.key", "8a32fa32-34f5-4338-b6db-4f1ce8fdd638"), i.setAttribute("outsystems.function.type", "CLIENT_SCREEN_ACTION")), h.Flow.tryFinally(function() {
                        t.ensureControllerAlive("OnReady"), e = t.callContext(e);
                        var f = new h.DataTypes.VariableHolder,
                            c = new h.DataTypes.VariableHolder,
                            d = new h.DataTypes.VariableHolder(new h.DataTypes.JSONSerializeOutputType),
                            u = new h.DataTypes.VariableHolder(new(h.Controller.BaseController.getJSONDeserializeOutputType(pe)));
                        return h.Flow.executeAsyncFlow(function() {
                            return n.variables.isLoadingVar = !0, n.flush(), me.residenceList$Action(V.getServer(), V.getAppId(), "en", e).then(function(o) {
                                f.value = o
                            }).then(function() {
                                d.value.jSONOut = h.JSONUtils.serializeToJSON(f.value.responseOut.residence_listAttr, !1, !1), c.value = h.Logger.startActiveSpan("PickKeyValue", function(o) {
                                    o && (o.setAttribute("code.function", "PickKeyValue"), o.setAttribute("outsystems.function.key", "75ff51d5-e8d8-488d-8213-dbd32783fab7"), o.setAttribute("outsystems.function.owner.name", "Accounts"), o.setAttribute("outsystems.function.owner.key", "8a32fa32-34f5-4338-b6db-4f1ce8fdd638"), o.setAttribute("outsystems.function.type", "JAVASCRIPT"));
                                    try {
                                        return t.safeExecuteJSNode(Fn, "PickKeyValue", "OnReady", {
                                            ResidenceListResponse: h.DataConversion.JSNodeParamConverter.to(d.value.jSONOut, h.DataTypes.DataTypes.Text),
                                            FormattedResidenceList: h.DataConversion.JSNodeParamConverter.to("", h.DataTypes.DataTypes.Text)
                                        }, function(v) {
                                            var p = new(t.constructor.getVariableGroupType("Accounts.ProofOfIdentity.Mobile_DocumentIssuingCountry.OnReady$pickKeyValueJSResult"));
                                            return p.formattedResidenceListOut = h.DataConversion.JSNodeParamConverter.from(v.FormattedResidenceList, h.DataTypes.DataTypes.Text), p
                                        }, {}, {})
                                    } finally {
                                        o && o.end()
                                    }
                                }, 1), u.value.dataOut = h.JSONUtils.deserializeFromJSON(c.value.formattedResidenceListOut, pe, !1), n.variables.residenceListInputVar = u.value.dataOut, n.variables.filteredListVar = n.variables.residenceListInputVar, t._input_SearchedCountryOnChange$Action(e), n.variables.isLoadingVar = !1
                            })
                        })
                    }, function() {
                        i && i.end()
                    })
                }, 1)
            }), this.__onReady$Action
        }
        set _onReady$Action(e) {
            this.__onReady$Action = e
        }
        get _onItemClick$Action() {
            return this.hasOwnProperty("__onItemClick$Action") || (this.__onItemClick$Action = function(e) {
                var n = this.model,
                    t = this.controller,
                    s = this.idService;
                return h.Logger.startActiveSpan("OnItemClick", function(i) {
                    return i && (i.setAttribute("code.function", "OnItemClick"), i.setAttribute("outsystems.function.key", "abc5a122-9b0a-4c20-a083-737de13cf800"), i.setAttribute("outsystems.function.owner.name", "Accounts"), i.setAttribute("outsystems.function.owner.key", "8a32fa32-34f5-4338-b6db-4f1ce8fdd638"), i.setAttribute("outsystems.function.type", "CLIENT_SCREEN_ACTION")), h.Flow.tryFinally(function() {
                        return t.ensureControllerAlive("OnItemClick"), e = t.callContext(e), h.Flow.executeAsyncFlow(function() {
                            return n.variables.selectedCountryIn = n.variables.filteredListVar.getCurrent(e.iterationContext), t.nextStep$Action(2, n.variables.selectedCountryIn, e)
                        })
                    }, function() {
                        i && i.end()
                    })
                }, 1)
            }), this.__onItemClick$Action
        }
        set _onItemClick$Action(e) {
            this.__onItemClick$Action = e
        }
        get _input_SearchedCountryOnChange$Action() {
            return this.hasOwnProperty("__input_SearchedCountryOnChange$Action") || (this.__input_SearchedCountryOnChange$Action = function(e) {
                var n = this.model,
                    t = this.controller,
                    s = this.idService;
                return h.Logger.startActiveSpan("Input_SearchedCountryOnChange", function(i) {
                    i && (i.setAttribute("code.function", "Input_SearchedCountryOnChange"), i.setAttribute("outsystems.function.key", "ca4ed134-540c-408f-a156-0352ff6b4961"), i.setAttribute("outsystems.function.owner.name", "Accounts"), i.setAttribute("outsystems.function.owner.key", "8a32fa32-34f5-4338-b6db-4f1ce8fdd638"), i.setAttribute("outsystems.function.type", "CLIENT_SCREEN_ACTION"));
                    try {
                        t.ensureControllerAlive("Input_SearchedCountryOnChange"), e = t.callContext(e);
                        var f = new h.DataTypes.VariableHolder,
                            c = new h.DataTypes.VariableHolder,
                            d = new h.DataTypes.VariableHolder(new h.DataTypes.JSONSerializeOutputType),
                            u = new h.DataTypes.VariableHolder(new h.DataTypes.JSONSerializeOutputType),
                            o = new h.DataTypes.VariableHolder(new(h.Controller.BaseController.getJSONDeserializeOutputType(pe))),
                            v = new h.DataTypes.VariableHolder(new(h.Controller.BaseController.getJSONDeserializeOutputType(pe)));
                        h.BuiltinFunctions.length(h.BuiltinFunctions.trim(n.variables.searchedCountryVar)) !== h.BuiltinFunctions.nullIdentifier() ? (d.value.jSONOut = h.JSONUtils.serializeToJSON(n.variables.residenceListInputVar, !1, !1), c.value = h.Logger.startActiveSpan("FilterItems", function(p) {
                            p && (p.setAttribute("code.function", "FilterItems"), p.setAttribute("outsystems.function.key", "5562bb4d-cce9-44c6-8bc9-6b5c793aca1e"), p.setAttribute("outsystems.function.owner.name", "Accounts"), p.setAttribute("outsystems.function.owner.key", "8a32fa32-34f5-4338-b6db-4f1ce8fdd638"), p.setAttribute("outsystems.function.type", "JAVASCRIPT"));
                            try {
                                return t.safeExecuteJSNode(Nn, "FilterItems", "Input_SearchedCountryOnChange", {
                                    searchText: h.DataConversion.JSNodeParamConverter.to(n.variables.searchedCountryVar, h.DataTypes.DataTypes.Text),
                                    SelectedCountry: h.DataConversion.JSNodeParamConverter.to(n.variables.selectedCountryIn.valueAttr, h.DataTypes.DataTypes.Text),
                                    RawListItems: h.DataConversion.JSNodeParamConverter.to(d.value.jSONOut, h.DataTypes.DataTypes.Text),
                                    FilteredListItems: h.DataConversion.JSNodeParamConverter.to("", h.DataTypes.DataTypes.Text)
                                }, function(W) {
                                    var De = new(t.constructor.getVariableGroupType("Accounts.ProofOfIdentity.Mobile_DocumentIssuingCountry.Input_SearchedCountryOnChange$filterItemsJSResult"));
                                    return De.filteredListItemsOut = h.DataConversion.JSNodeParamConverter.from(W.FilteredListItems, h.DataTypes.DataTypes.Text), De
                                }, {}, {})
                            } finally {
                                p && p.end()
                            }
                        }, 1), o.value.dataOut = h.JSONUtils.deserializeFromJSON(c.value.filteredListItemsOut, pe, !1), n.variables.filteredListVar = o.value.dataOut) : (u.value.jSONOut = h.JSONUtils.serializeToJSON(n.variables.residenceListInputVar, !1, !1), f.value = h.Logger.startActiveSpan("SortedList", function(p) {
                            p && (p.setAttribute("code.function", "SortedList"), p.setAttribute("outsystems.function.key", "2c7dcfd5-8003-4666-a3f9-c08e763c036c"), p.setAttribute("outsystems.function.owner.name", "Accounts"), p.setAttribute("outsystems.function.owner.key", "8a32fa32-34f5-4338-b6db-4f1ce8fdd638"), p.setAttribute("outsystems.function.type", "JAVASCRIPT"));
                            try {
                                return t.safeExecuteJSNode(xn, "SortedList", "Input_SearchedCountryOnChange", {
                                    CountryList: h.DataConversion.JSNodeParamConverter.to(u.value.jSONOut, h.DataTypes.DataTypes.Text),
                                    SuggestedCountry: h.DataConversion.JSNodeParamConverter.to(n.variables.suggestedCountryVar, h.DataTypes.DataTypes.Text),
                                    SortedList: h.DataConversion.JSNodeParamConverter.to("", h.DataTypes.DataTypes.Text)
                                }, function(W) {
                                    var De = new(t.constructor.getVariableGroupType("Accounts.ProofOfIdentity.Mobile_DocumentIssuingCountry.Input_SearchedCountryOnChange$sortedListJSResult"));
                                    return De.sortedListOut = h.DataConversion.JSNodeParamConverter.from(W.SortedList, h.DataTypes.DataTypes.Text), De
                                }, {}, {})
                            } finally {
                                p && p.end()
                            }
                        }, 1), v.value.dataOut = h.JSONUtils.deserializeFromJSON(f.value.sortedListOut, pe, !1), n.variables.filteredListVar = v.value.dataOut)
                    } finally {
                        i && i.end()
                    }
                }, 1)
            }), this.__input_SearchedCountryOnChange$Action
        }
        set _input_SearchedCountryOnChange$Action(e) {
            this.__input_SearchedCountryOnChange$Action = e
        }
        get _onInitialize$Action() {
            return this.hasOwnProperty("__onInitialize$Action") || (this.__onInitialize$Action = function(e) {
                var n = this.model,
                    t = this.controller,
                    s = this.idService;
                return h.Logger.startActiveSpan("OnInitialize", function(i) {
                    i && (i.setAttribute("code.function", "OnInitialize"), i.setAttribute("outsystems.function.key", "dee9f0cc-daab-451e-b85a-4efe9af5fdc7"), i.setAttribute("outsystems.function.owner.name", "Accounts"), i.setAttribute("outsystems.function.owner.key", "8a32fa32-34f5-4338-b6db-4f1ce8fdd638"), i.setAttribute("outsystems.function.type", "CLIENT_SCREEN_ACTION"));
                    try {
                        t.ensureControllerAlive("OnInitialize"), e = t.callContext(e), n.variables.suggestedCountryVar = n.variables.selectedCountryIn.valueAttr !== h.BuiltinFunctions.nullTextIdentifier() ? n.variables.selectedCountryIn.valueAttr : V.getCountry()
                    } finally {
                        i && i.end()
                    }
                }, 1)
            }), this.__onInitialize$Action
        }
        set _onInitialize$Action(e) {
            this.__onInitialize$Action = e
        }
        onReady$Action(e) {
            var n = this.controller;
            return h.Logger.startActiveSpan("OnReady__proxy", function(t) {
                return t && (t.setAttribute("code.function", "OnReady"), t.setAttribute("outsystems.function.key", "a1dfbb86-8ef6-4b46-8b58-656ebb4bc8c3"), t.setAttribute("outsystems.function.owner.name", "Accounts"), t.setAttribute("outsystems.function.owner.key", "8a32fa32-34f5-4338-b6db-4f1ce8fdd638"), t.setAttribute("outsystems.function.type", "CLIENT_SCREEN_ACTION")), h.Flow.tryFinally(function() {
                    return n.safeExecuteClientAction(n._onReady$Action, e)
                }, function() {
                    t && t.end()
                })
            }, 0)
        }
        onItemClick$Action(e) {
            var n = this.controller;
            return h.Logger.startActiveSpan("OnItemClick__proxy", function(t) {
                return t && (t.setAttribute("code.function", "OnItemClick"), t.setAttribute("outsystems.function.key", "abc5a122-9b0a-4c20-a083-737de13cf800"), t.setAttribute("outsystems.function.owner.name", "Accounts"), t.setAttribute("outsystems.function.owner.key", "8a32fa32-34f5-4338-b6db-4f1ce8fdd638"), t.setAttribute("outsystems.function.type", "CLIENT_SCREEN_ACTION")), h.Flow.tryFinally(function() {
                    return n.safeExecuteClientAction(n._onItemClick$Action, e)
                }, function() {
                    t && t.end()
                })
            }, 0)
        }
        input_SearchedCountryOnChange$Action(e) {
            var n = this.controller;
            return h.Logger.startActiveSpan("Input_SearchedCountryOnChange__proxy", function(t) {
                t && (t.setAttribute("code.function", "Input_SearchedCountryOnChange"), t.setAttribute("outsystems.function.key", "ca4ed134-540c-408f-a156-0352ff6b4961"), t.setAttribute("outsystems.function.owner.name", "Accounts"), t.setAttribute("outsystems.function.owner.key", "8a32fa32-34f5-4338-b6db-4f1ce8fdd638"), t.setAttribute("outsystems.function.type", "CLIENT_SCREEN_ACTION"));
                try {
                    return n.safeExecuteClientAction(n._input_SearchedCountryOnChange$Action, e)
                } finally {
                    t && t.end()
                }
            }, 0)
        }
        onInitialize$Action(e) {
            var n = this.controller;
            return h.Logger.startActiveSpan("OnInitialize__proxy", function(t) {
                t && (t.setAttribute("code.function", "OnInitialize"), t.setAttribute("outsystems.function.key", "dee9f0cc-daab-451e-b85a-4efe9af5fdc7"), t.setAttribute("outsystems.function.owner.name", "Accounts"), t.setAttribute("outsystems.function.owner.key", "8a32fa32-34f5-4338-b6db-4f1ce8fdd638"), t.setAttribute("outsystems.function.type", "CLIENT_SCREEN_ACTION"));
                try {
                    return n.safeExecuteClientAction(n._onInitialize$Action, e)
                } finally {
                    t && t.end()
                }
            }, 0)
        }
        get nextStep$Action() {
            return this.hasOwnProperty("_nextStep$Action") || (this._nextStep$Action = function() {
                return Promise.resolve()
            }), this._nextStep$Action
        }
        set nextStep$Action(e) {
            this._nextStep$Action = e
        }
        get onInitializeEventHandler() {
            return this.hasOwnProperty("_onInitializeEventHandler") || (this._onInitializeEventHandler = function(e) {
                var n = this.controller,
                    t = this.model,
                    s = this.idService;
                return n.onInitialize$Action(e)
            }), this._onInitializeEventHandler
        }
        set onInitializeEventHandler(e) {
            this._onInitializeEventHandler = e
        }
        get onReadyEventHandler() {
            return this.hasOwnProperty("_onReadyEventHandler") || (this._onReadyEventHandler = function(e) {
                var n = this.controller,
                    t = this.model,
                    s = this.idService;
                return n.onReady$Action(e)
            }), this._onReadyEventHandler
        }
        set onReadyEventHandler(e) {
            this._onReadyEventHandler = e
        }
        get onRenderEventHandler() {
            return this.hasOwnProperty("_onRenderEventHandler") || (this._onRenderEventHandler = null), this._onRenderEventHandler
        }
        set onRenderEventHandler(e) {
            this._onRenderEventHandler = e
        }
        get onDestroyEventHandler() {
            return this.hasOwnProperty("_onDestroyEventHandler") || (this._onDestroyEventHandler = null), this._onDestroyEventHandler
        }
        set onDestroyEventHandler(e) {
            this._onDestroyEventHandler = e
        }
        get onParametersChangedEventHandler() {
            return this.hasOwnProperty("_onParametersChangedEventHandler") || (this._onParametersChangedEventHandler = null), this._onParametersChangedEventHandler
        }
        set onParametersChangedEventHandler(e) {
            this._onParametersChangedEventHandler = e
        }
        get handleError() {
            return this.hasOwnProperty("_handleError") || (this._handleError = function(e) {
                return controller.handleError(e)
            }), this._handleError
        }
        set handleError(e) {
            this._handleError = e
        }
        static checkPermissions() {}
        getDefaultTimeout() {
            return F.defaultTimeout
        }
    };
    a(r, "ControllerInner");
    let m = r;
    ot = m, ot.registerVariableGroupType("Accounts.ProofOfIdentity.Mobile_DocumentIssuingCountry.OnReady$pickKeyValueJSResult", [{
        name: "FormattedResidenceList",
        attrName: "formattedResidenceListOut",
        mandatory: !0,
        dataType: h.DataTypes.DataTypes.Text,
        defaultValue: a(function() {
            return ""
        }, "defaultValue")
    }]), ot.registerVariableGroupType("Accounts.ProofOfIdentity.Mobile_DocumentIssuingCountry.Input_SearchedCountryOnChange$sortedListJSResult", [{
        name: "SortedList",
        attrName: "sortedListOut",
        mandatory: !0,
        dataType: h.DataTypes.DataTypes.Text,
        defaultValue: a(function() {
            return ""
        }, "defaultValue")
    }]), ot.registerVariableGroupType("Accounts.ProofOfIdentity.Mobile_DocumentIssuingCountry.Input_SearchedCountryOnChange$filterItemsJSResult", [{
        name: "FilteredListItems",
        attrName: "filteredListItemsOut",
        mandatory: !0,
        dataType: h.DataTypes.DataTypes.Text,
        defaultValue: a(function() {
            return ""
        }, "defaultValue")
    }])
}
var ot, Er = new h.Controller.ControllerFactory(ot, H);
var at = D,
    $t = T.PlaceholderContent,
    Vr = T.IteratorPlaceholderContent,
    ze = class ze extends M.BaseWebBlock {
        static get displayName() {
            return "ProofOfIdentity.Mobile_DocumentIssuingCountry"
        }
        static getAttributes() {
            return {
                codeFunction: "Mobile_DocumentIssuingCountry",
                functionKey: "ed5c0776-4845-45f4-b2cf-32cdac41692e",
                functionOwnerName: "Accounts",
                functionOwnerKey: "8a32fa32-34f5-4338-b6db-4f1ce8fdd638",
                screen: ""
            }
        }
        static getCssDependencies() {
            return ["css/OutSystemsReactWidgets.css", "css/Accounts.ProofOfIdentity.Mobile_DocumentIssuingCountry.css"]
        }
        static getJsDependencies() {
            return []
        }
        static getBlocks() {
            return [j, jt]
        }
        get modelFactory() {
            return cr
        }
        get controllerFactory() {
            return Er
        }
        get title() {
            return ""
        }
        internalRender() {
            let r = this.model,
                l = this.controller,
                e = this.idService,
                n = l.validationService,
                t = this.widgetsRecordProvider,
                s = l.callContext(),
                i = ze.ifWidget,
                f = ze.textWidget,
                c = ze.asPrimitiveValue,
                d = ze.getTranslation,
                u = this;
            return K.createElement("div", this.getRootNodeProperties(), i(r.variables.isLoadingVar, !1, this, function() {
                return [K.createElement(j, {
                    getOwnerSpan: a(function() {
                        return u.getChildSpan("render")
                    }, "getOwnerSpan"),
                    getOwnerDisposeSpan: a(function() {
                        return u.getChildSpan("destroy")
                    }, "getOwnerDisposeSpan"),
                    inputs: {},
                    events: {
                        _handleError: a(function(o) {
                            l.handleError(o)
                        }, "_handleError")
                    },
                    _validationProps: {
                        validationService: n
                    },
                    _idProps: {
                        service: e,
                        uuid: "0",
                        alias: "1"
                    },
                    _widgetRecordProvider: t,
                    _dependencies: []
                })]
            }, function() {
                return [K.createElement(y, {
                    align: 0,
                    animate: !1,
                    style: "display-flex flex-direction-column row-gap-base full-height",
                    visible: !0,
                    _idProps: {
                        service: e,
                        uuid: "1"
                    },
                    _widgetRecordProvider: t
                }, K.createElement(y, {
                    align: 0,
                    animate: !1,
                    style: "document-issuing-country__heading-text",
                    visible: !0,
                    _idProps: {
                        service: e,
                        uuid: "2"
                    },
                    _widgetRecordProvider: t
                }, K.createElement(_, {
                    style: "font-size-h6 font-bold",
                    text: ["Document issuing country"],
                    _idProps: {
                        service: e,
                        uuid: "3"
                    },
                    _widgetRecordProvider: t
                })), K.createElement(y, {
                    align: 0,
                    animate: !1,
                    style: "display-flex flex-direction-column full-height",
                    visible: !0,
                    _idProps: {
                        service: e,
                        uuid: "4"
                    },
                    _widgetRecordProvider: t
                }, K.createElement(y, {
                    align: 0,
                    animate: !1,
                    style: "display-flex flex-direction-column row-gap-s margin-bottom-base",
                    visible: !0,
                    _idProps: {
                        service: e,
                        uuid: "5"
                    },
                    _widgetRecordProvider: t
                }, K.createElement(jt, {
                    getOwnerSpan: a(function() {
                        return u.getChildSpan("render")
                    }, "getOwnerSpan"),
                    getOwnerDisposeSpan: a(function() {
                        return u.getChildSpan("destroy")
                    }, "getOwnerDisposeSpan"),
                    inputs: {},
                    events: {
                        _handleError: a(function(o) {
                            l.handleError(o)
                        }, "_handleError")
                    },
                    _validationProps: {
                        validationService: n
                    },
                    _idProps: {
                        service: e,
                        uuid: "6",
                        alias: "2"
                    },
                    _widgetRecordProvider: t,
                    placeholders: {
                        input: new $t(function() {
                            return [K.createElement(he, {
                                gridProperties: {
                                    classes: "OSFillParent"
                                },
                                style: "wcag-hide-text",
                                _idProps: {
                                    service: e,
                                    uuid: "7"
                                },
                                _widgetRecordProvider: t
                            }, "Search input"), K.createElement(ge, {
                                _validationProps: {
                                    validationService: n
                                },
                                enabled: !0,
                                gridProperties: {
                                    classes: "OSFillParent"
                                },
                                inputType: 8,
                                mandatory: !1,
                                maxLength: 50,
                                onChange: a(function() {
                                    var o = s.clone();
                                    l.input_SearchedCountryOnChange$Action(l.callContext(o))
                                }, "onChange"),
                                style: "form-control",
                                variable: r.createVariable(at.DataTypes.DataTypes.Text, r.variables.searchedCountryVar, function(o) {
                                    r.variables.searchedCountryVar = o
                                }),
                                _idProps: {
                                    service: e,
                                    name: "Input_SearchedCountry"
                                },
                                _widgetRecordProvider: t
                            })]
                        })
                    },
                    _dependencies: [c(r.variables.searchedCountryVar)]
                }), K.createElement(y, {
                    align: 0,
                    animate: !1,
                    visible: !0,
                    _idProps: {
                        service: e,
                        uuid: "9"
                    },
                    _widgetRecordProvider: t
                }, i(r.variables.errorMessageVar === at.BuiltinFunctions.nullTextIdentifier(), !1, this, function() {
                    return [K.createElement(_, {
                        style: "font-size-s font-regular document-issuing-country__hint",
                        text: ["Select the country where your identity document was issued."],
                        _idProps: {
                            service: e,
                            uuid: "10"
                        },
                        _widgetRecordProvider: t
                    })]
                }, function() {
                    return [K.createElement(z, {
                        style: "document-issuing-country__error-msg",
                        value: r.variables.errorMessageVar,
                        _idProps: {
                            service: e,
                            uuid: "11"
                        },
                        _widgetRecordProvider: t
                    })]
                }))), K.createElement(y, {
                    align: 0,
                    animate: !1,
                    style: "list-container",
                    visible: !0,
                    _idProps: {
                        service: e,
                        uuid: "12"
                    },
                    _widgetRecordProvider: t
                }, K.createElement(dt, {
                    animateItems: !0,
                    gridProperties: {
                        classes: "OSFillParent"
                    },
                    mode: 0,
                    source: r.variables.filteredListVar,
                    style: "list list-group",
                    tag: "div",
                    _idProps: {
                        service: e,
                        uuid: "13"
                    },
                    _widgetRecordProvider: t,
                    placeholders: {
                        content: new Vr(function(o, v) {
                            return [K.createElement(qn, {
                                onClick: a(function() {
                                    return Promise.resolve().then(function() {
                                        var p = v.clone();
                                        return l.onItemClick$Action(l.callContext(p))
                                    })
                                }, "onClick"),
                                style: r.getCachedValue(o.getId("ListItem1.Style"), function() {
                                    return "list-item" + (r.variables.filteredListVar.getCurrent(v.iterationContext).valueAttr === r.variables.suggestedCountryVar && r.variables.searchedCountryVar === at.BuiltinFunctions.nullTextIdentifier() ? " font-bold" : " item-list") + (r.variables.filteredListVar.getCurrent(v.iterationContext).valueAttr === r.variables.selectedCountryIn.valueAttr ? " selected-item" : "")
                                }, function() {
                                    return r.variables.filteredListVar.getCurrent(v.iterationContext).valueAttr
                                }, function() {
                                    return r.variables.suggestedCountryVar
                                }, function() {
                                    return r.variables.searchedCountryVar
                                }, function() {
                                    return r.variables.selectedCountryIn.valueAttr
                                }),
                                triggerActionOnFullSwipeLeft: !1,
                                triggerActionOnFullSwipeRight: !1,
                                _idProps: {
                                    service: o,
                                    name: "ListItem1"
                                },
                                _widgetRecordProvider: t,
                                style_dataFetchStatus: at.Model.calculateDataFetchStatus(r.variables._selectedCountryInDataFetchStatus),
                                placeholders: {
                                    leftActions: $t.Empty,
                                    content: new $t(function() {
                                        return [K.createElement(y, {
                                            align: 0,
                                            animate: !1,
                                            style: "display-flex justify-content-space-between",
                                            visible: !0,
                                            _idProps: {
                                                service: o,
                                                uuid: "15"
                                            },
                                            _widgetRecordProvider: t
                                        }, K.createElement(z, {
                                            value: r.variables.filteredListVar.getCurrent(v.iterationContext).textAttr,
                                            _idProps: {
                                                service: o,
                                                uuid: "16"
                                            },
                                            _widgetRecordProvider: t
                                        }), K.createElement(U, {
                                            gridProperties: {
                                                classes: "ThemeGrid_MarginGutter"
                                            },
                                            image: at.Navigation.VersionedURL.getVersionedUrl("img/Accounts.iconarrow.svg"),
                                            type: 0,
                                            _idProps: {
                                                service: o,
                                                uuid: "17"
                                            },
                                            _widgetRecordProvider: t
                                        }))]
                                    }),
                                    rightActions: $t.Empty
                                },
                                _dependencies: [c(r.variables.filteredListVar.getCurrent(v.iterationContext).textAttr)]
                            })]
                        }, s, e, "1")
                    },
                    _dependencies: [c(r.variables._selectedCountryInDataFetchStatus), c(r.variables.selectedCountryIn.valueAttr), c(r.variables.searchedCountryVar), c(r.variables.suggestedCountryVar)]
                }))))]
            }))
        }
    };
a(ze, "View");
var Vn = ze,
    $n = Vn;
var kn = D,
    Je = T.PlaceholderContent,
    jl = T.IteratorPlaceholderContent,
    Ge = class Ge extends M.BaseWebScreen {
        static get displayName() {
            return "MainFlow.ProofOfIdentity"
        }
        static getAttributes() {
            return {
                codeFunction: "ProofOfIdentity",
                functionKey: "72cb5001-6ccf-4051-9e48-52351957b4d3",
                functionOwnerName: "Accounts",
                functionOwnerKey: "8a32fa32-34f5-4338-b6db-4f1ce8fdd638",
                screen: ""
            }
        }
        static getCssDependencies() {
            return ["css/OutSystemsReactWidgets.css", "css/OutSystemsUI.OutSystemsUI.css", "css/Accounts.DerivAccounts.css", "css/Accounts.MainFlow.ProofOfIdentity.css", "css/Accounts.DerivAccounts.extra.css"]
        }
        static getJsDependencies() {
            return []
        }
        static getBlocks() {
            return [_e, Ut, Yt, j, en, X, yt, Vt, be, $n]
        }
        get modelFactory() {
            return lr
        }
        get controllerFactory() {
            return ur
        }
        get title() {
            return "ProofOfIdentity"
        }
        internalRender() {
            let r = this.model,
                l = this.controller,
                e = this.idService,
                n = l.validationService,
                t = this.widgetsRecordProvider,
                s = l.callContext(),
                i = Ge.ifWidget,
                f = Ge.textWidget,
                c = Ge.asPrimitiveValue,
                d = Ge.getTranslation,
                u = this;
            return L.createElement("div", this.getRootNodeProperties(), L.createElement(_e, {
                getOwnerSpan: a(function() {
                    return u.getChildSpan("render")
                }, "getOwnerSpan"),
                getOwnerDisposeSpan: a(function() {
                    return u.getChildSpan("destroy")
                }, "getOwnerDisposeSpan"),
                inputs: {
                    IsDesktop: V.getDevice() === "desktop"
                },
                events: {
                    _handleError: a(function(o) {
                        l.handleError(o)
                    }, "_handleError")
                },
                _validationProps: {
                    validationService: n
                },
                _idProps: {
                    service: e,
                    uuid: "0",
                    alias: "1"
                },
                _widgetRecordProvider: t,
                placeholders: {
                    desktopLayout: new Je(function() {
                        return [L.createElement(Ut, {
                            getOwnerSpan: a(function() {
                                return u.getChildSpan("render")
                            }, "getOwnerSpan"),
                            getOwnerDisposeSpan: a(function() {
                                return u.getChildSpan("destroy")
                            }, "getOwnerDisposeSpan"),
                            inputs: {
                                CurrentStep: r.variables.stepVar,
                                Title: "Proof of identity"
                            },
                            events: {
                                _handleError: a(function(o) {
                                    l.handleError(o)
                                }, "_handleError")
                            },
                            _validationProps: {
                                validationService: n
                            },
                            _idProps: {
                                service: e,
                                uuid: "1",
                                alias: "2"
                            },
                            _widgetRecordProvider: t,
                            placeholders: {
                                navigationItem: new Je(function() {
                                    return [L.createElement(Yt, {
                                        getOwnerSpan: a(function() {
                                            return u.getChildSpan("render")
                                        }, "getOwnerSpan"),
                                        getOwnerDisposeSpan: a(function() {
                                            return u.getChildSpan("destroy")
                                        }, "getOwnerDisposeSpan"),
                                        inputs: {
                                            CurrentStep: r.variables.stepVar
                                        },
                                        events: {
                                            _handleError: a(function(o) {
                                                l.handleError(o)
                                            }, "_handleError")
                                        },
                                        _validationProps: {
                                            validationService: n
                                        },
                                        _idProps: {
                                            service: e,
                                            uuid: "2",
                                            alias: "3"
                                        },
                                        _widgetRecordProvider: t,
                                        _dependencies: []
                                    })]
                                }),
                                content: new Je(function() {
                                    return [i(r.variables.isLoadingVar, !1, this, function() {
                                        return [L.createElement(j, {
                                            getOwnerSpan: a(function() {
                                                return u.getChildSpan("render")
                                            }, "getOwnerSpan"),
                                            getOwnerDisposeSpan: a(function() {
                                                return u.getChildSpan("destroy")
                                            }, "getOwnerDisposeSpan"),
                                            inputs: {},
                                            events: {
                                                _handleError: a(function(o) {
                                                    l.handleError(o)
                                                }, "_handleError")
                                            },
                                            _validationProps: {
                                                validationService: n
                                            },
                                            _idProps: {
                                                service: e,
                                                uuid: "3",
                                                alias: "4"
                                            },
                                            _widgetRecordProvider: t,
                                            _dependencies: []
                                        })]
                                    }, function() {
                                        return [i(r.variables.stepVar === 1, !1, this, function() {
                                            return [L.createElement(y, {
                                                align: 0,
                                                animate: !1,
                                                style: "display-flex justify-content-center poi-layout full-height",
                                                visible: !0,
                                                _idProps: {
                                                    service: e,
                                                    uuid: "4"
                                                },
                                                _widgetRecordProvider: t
                                            }, L.createElement(en, {
                                                getOwnerSpan: a(function() {
                                                    return u.getChildSpan("render")
                                                }, "getOwnerSpan"),
                                                getOwnerDisposeSpan: a(function() {
                                                    return u.getChildSpan("destroy")
                                                }, "getOwnerDisposeSpan"),
                                                inputs: {
                                                    SelectedResidence: r.variables.documentIssuingCountryVar
                                                },
                                                events: {
                                                    _handleError: a(function(o) {
                                                        l.handleError(o)
                                                    }, "_handleError"),
                                                    nextStep$Action: a(function(o, v) {
                                                        var p = s.clone();
                                                        l.onDocumentIssuingCountryChange$Action(o, v, l.callContext(p))
                                                    }, "nextStep$Action")
                                                },
                                                _validationProps: {
                                                    validationService: n
                                                },
                                                _idProps: {
                                                    service: e,
                                                    uuid: "5",
                                                    alias: "5"
                                                },
                                                _widgetRecordProvider: t,
                                                _dependencies: []
                                            }))]
                                        }, function() {
                                            return [i(r.variables.stepVar === 2, !1, this, function() {
                                                return [L.createElement(y, {
                                                    align: 0,
                                                    animate: !1,
                                                    style: "poi-layout full-height full-width display-flex flex-direction-column align-items-center",
                                                    visible: !0,
                                                    _idProps: {
                                                        service: e,
                                                        uuid: "6"
                                                    },
                                                    _widgetRecordProvider: t
                                                }, L.createElement(y, {
                                                    align: 0,
                                                    animate: !1,
                                                    style: "poi-section-content",
                                                    visible: !0,
                                                    _idProps: {
                                                        service: e,
                                                        uuid: "7"
                                                    },
                                                    _widgetRecordProvider: t
                                                }, L.createElement(y, {
                                                    align: 0,
                                                    animate: !0,
                                                    style: "margin-bottom-m",
                                                    visible: r.getCachedValue(e.getId("vpWSUAQ4RUmyovzGTsX78w.Visible"), function() {
                                                        return r.variables.errorDataVar.codeAttr !== kn.BuiltinFunctions.nullTextIdentifier()
                                                    }, function() {
                                                        return r.variables.errorDataVar.codeAttr
                                                    }),
                                                    _idProps: {
                                                        service: e,
                                                        uuid: "8"
                                                    },
                                                    _widgetRecordProvider: t
                                                }, L.createElement(y, {
                                                    align: 0,
                                                    animate: !0,
                                                    style: "display-flex padding-s align-items-center column-gap-s error-banner",
                                                    visible: r.getCachedValue(e.getId("Errorbanner.Visible"), function() {
                                                        return r.variables.errorDataVar.codeAttr !== kn.BuiltinFunctions.nullTextIdentifier()
                                                    }, function() {
                                                        return r.variables.errorDataVar.codeAttr
                                                    }),
                                                    _idProps: {
                                                        service: e,
                                                        name: "Errorbanner"
                                                    },
                                                    _widgetRecordProvider: t
                                                }, L.createElement(U, {
                                                    image: kn.Navigation.VersionedURL.getVersionedUrl("img/Accounts.StandaloneTriangleExclamationRegularIcon.svg"),
                                                    style: "align-self-flex-start",
                                                    type: 0,
                                                    _idProps: {
                                                        service: e,
                                                        uuid: "10"
                                                    },
                                                    _widgetRecordProvider: t
                                                }), i(r.variables.errorDataVar.codeAttr === "DuplicateAccount", !1, this, function() {
                                                    return [L.createElement(y, {
                                                        align: 0,
                                                        animate: !0,
                                                        style: "font-size-xs full-width",
                                                        visible: r.variables.errorDataVar.codeAttr === "DuplicateAccount",
                                                        _idProps: {
                                                            service: e,
                                                            uuid: "11"
                                                        },
                                                        _widgetRecordProvider: t
                                                    }, "These details match an existing profile. If this is a mistake, contact us via ", L.createElement(vt, {
                                                        enabled: !0,
                                                        gridProperties: {
                                                            classes: "ThemeGrid_MarginGutter"
                                                        },
                                                        onClick: a(function() {
                                                            var o = s.clone();
                                                            l.liveChat_OnClick$Action(l.callContext(o))
                                                        }, "onClick"),
                                                        style: "font-bold error-banner__link",
                                                        visible: !0,
                                                        _idProps: {
                                                            service: e,
                                                            uuid: "12"
                                                        },
                                                        _widgetRecordProvider: t
                                                    }, "live chat."))]
                                                }, function() {
                                                    return [L.createElement(y, {
                                                        align: 0,
                                                        animate: !1,
                                                        style: "font-size-xs full-width",
                                                        visible: !0,
                                                        _idProps: {
                                                            service: e,
                                                            uuid: "13"
                                                        },
                                                        _widgetRecordProvider: t
                                                    }, L.createElement(z, {
                                                        value: r.variables.errorDataVar.messageAttr,
                                                        _idProps: {
                                                            service: e,
                                                            uuid: "14"
                                                        },
                                                        _widgetRecordProvider: t
                                                    }))]
                                                }))), L.createElement(X, {
                                                    getOwnerSpan: a(function() {
                                                        return u.getChildSpan("render")
                                                    }, "getOwnerSpan"),
                                                    getOwnerDisposeSpan: a(function() {
                                                        return u.getChildSpan("destroy")
                                                    }, "getOwnerDisposeSpan"),
                                                    inputs: {
                                                        ShouldDisplayBackButton: r.variables.stepVar > 1,
                                                        Title: "Personal details"
                                                    },
                                                    events: {
                                                        _handleError: a(function(o) {
                                                            l.handleError(o)
                                                        }, "_handleError"),
                                                        navigateBack$Action: a(function() {
                                                            var o = s.clone();
                                                            l.updateStep$Action(r.variables.stepVar - 1, l.callContext(o))
                                                        }, "navigateBack$Action")
                                                    },
                                                    _validationProps: {
                                                        validationService: n
                                                    },
                                                    _idProps: {
                                                        service: e,
                                                        uuid: "15",
                                                        alias: "6"
                                                    },
                                                    _widgetRecordProvider: t,
                                                    placeholders: {
                                                        additionalcontent: Je.Empty
                                                    },
                                                    _dependencies: []
                                                })), L.createElement(y, {
                                                    align: 0,
                                                    animate: !1,
                                                    style: "poi-section-content",
                                                    visible: !0,
                                                    _idProps: {
                                                        service: e,
                                                        uuid: "16"
                                                    },
                                                    _widgetRecordProvider: t
                                                }, L.createElement(yt, {
                                                    getOwnerSpan: a(function() {
                                                        return u.getChildSpan("render")
                                                    }, "getOwnerSpan"),
                                                    getOwnerDisposeSpan: a(function() {
                                                        return u.getChildSpan("destroy")
                                                    }, "getOwnerDisposeSpan"),
                                                    inputs: {
                                                        LastNameField: r.getCachedValue(e.getId("xNIMbECzb0Smmw5dbaft6w.LastNameField"), function() {
                                                            return function() {
                                                                var o = new fe;
                                                                return o.valueAttr = r.variables.userLastNameVar, o
                                                            }()
                                                        }, function() {
                                                            return r.variables.userLastNameVar
                                                        }),
                                                        FirstNameField: r.getCachedValue(e.getId("xNIMbECzb0Smmw5dbaft6w.FirstNameField"), function() {
                                                            return function() {
                                                                var o = new fe;
                                                                return o.valueAttr = r.variables.userFirstNameVar, o
                                                            }()
                                                        }, function() {
                                                            return r.variables.userFirstNameVar
                                                        }),
                                                        DateOfBirthField: r.getCachedValue(e.getId("xNIMbECzb0Smmw5dbaft6w.DateOfBirthField"), function() {
                                                            return function() {
                                                                var o = new Xe;
                                                                return o.valueAttr = r.variables.userDateOfBirthVar, o
                                                            }()
                                                        }, function() {
                                                            return r.variables.userDateOfBirthVar
                                                        })
                                                    },
                                                    events: {
                                                        _handleError: a(function(o) {
                                                            l.handleError(o)
                                                        }, "_handleError"),
                                                        nextStep$Action: a(function(o) {
                                                            var v = s.clone();
                                                            l.updateStep$Action(o, l.callContext(v))
                                                        }, "nextStep$Action"),
                                                        handleError$Action: a(function(o) {
                                                            var v = s.clone();
                                                            l.personalDetailsHandleError$Action(o, l.callContext(v))
                                                        }, "handleError$Action"),
                                                        onPersonalDetailsChange$Action: a(function(o, v, p) {
                                                            var W = s.clone();
                                                            l.onPersonalDetailsChange$Action(o, v, p, l.callContext(W))
                                                        }, "onPersonalDetailsChange$Action")
                                                    },
                                                    _validationProps: {
                                                        validationService: n
                                                    },
                                                    _idProps: {
                                                        service: e,
                                                        uuid: "17",
                                                        alias: "7"
                                                    },
                                                    _widgetRecordProvider: t,
                                                    _dependencies: []
                                                })))]
                                            }, function() {
                                                return [L.createElement(y, {
                                                    align: 0,
                                                    animate: !1,
                                                    style: "justify-content-center poi-layout full-height full-width display-flex",
                                                    visible: !0,
                                                    _idProps: {
                                                        service: e,
                                                        uuid: "18"
                                                    },
                                                    _widgetRecordProvider: t
                                                }, L.createElement(y, {
                                                    align: 0,
                                                    animate: !1,
                                                    style: "poi-section-content",
                                                    visible: !0,
                                                    _idProps: {
                                                        service: e,
                                                        uuid: "19"
                                                    },
                                                    _widgetRecordProvider: t
                                                }, L.createElement(Vt, {
                                                    getOwnerSpan: a(function() {
                                                        return u.getChildSpan("render")
                                                    }, "getOwnerSpan"),
                                                    getOwnerDisposeSpan: a(function() {
                                                        return u.getChildSpan("destroy")
                                                    }, "getOwnerDisposeSpan"),
                                                    inputs: {
                                                        SelectedCountry: r.variables.documentIssuingCountryVar.valueAttr,
                                                        DocumentExpiryDate: r.variables.documentExpiryDateVar,
                                                        SelectedIdentityDocument: r.variables.documentTypeVar,
                                                        DocumentNumber: r.variables.documentNumberVar,
                                                        AdditionalDocumentNumber: r.variables.additionalDocumentNumberVar
                                                    },
                                                    events: {
                                                        _handleError: a(function(o) {
                                                            l.handleError(o)
                                                        }, "_handleError"),
                                                        onChangeManualDocData$Action: a(function(o, v) {
                                                            var p = s.clone();
                                                            l.onChangeManualDocData$Action(o, v, l.callContext(p))
                                                        }, "onChangeManualDocData$Action"),
                                                        onChangeIdentityDocument$Action: a(function(o) {
                                                            var v = s.clone();
                                                            l.onIdentityDocumentChange$Action(o, l.callContext(v))
                                                        }, "onChangeIdentityDocument$Action"),
                                                        onChangeIDVDocData$Action: a(function(o, v) {
                                                            var p = s.clone();
                                                            l.onIDVDocChange$Action(o, v, l.callContext(p))
                                                        }, "onChangeIDVDocData$Action"),
                                                        backToPreviousStep$Action: a(function(o) {
                                                            var v = s.clone();
                                                            l.updateStep$Action(o, l.callContext(v))
                                                        }, "backToPreviousStep$Action")
                                                    },
                                                    _validationProps: {
                                                        validationService: n
                                                    },
                                                    _idProps: {
                                                        service: e,
                                                        uuid: "20",
                                                        alias: "8"
                                                    },
                                                    _widgetRecordProvider: t,
                                                    _dependencies: []
                                                })))]
                                            })]
                                        })]
                                    })]
                                })
                            },
                            _dependencies: [c(r.variables.additionalDocumentNumberVar), c(r.variables.documentNumberVar), c(r.variables.documentTypeVar), c(r.variables.documentExpiryDateVar), c(r.variables.userDateOfBirthVar), c(r.variables.userFirstNameVar), c(r.variables.userLastNameVar), c(r.variables.errorDataVar.messageAttr), c(r.variables.errorDataVar.codeAttr), c(r.variables.documentIssuingCountryVar), c(r.variables.isLoadingVar), c(r.variables.stepVar)]
                        })]
                    }),
                    tabletLayout: Je.Empty,
                    defaultLayout: new Je(function() {
                        return [L.createElement(y, {
                            align: 0,
                            animate: !1,
                            style: "full-height",
                            visible: !0,
                            _idProps: {
                                service: e,
                                uuid: "21"
                            },
                            _widgetRecordProvider: t
                        }, i(r.variables.isLoadingVar, !1, this, function() {
                            return [L.createElement(j, {
                                getOwnerSpan: a(function() {
                                    return u.getChildSpan("render")
                                }, "getOwnerSpan"),
                                getOwnerDisposeSpan: a(function() {
                                    return u.getChildSpan("destroy")
                                }, "getOwnerDisposeSpan"),
                                inputs: {},
                                events: {
                                    _handleError: a(function(o) {
                                        l.handleError(o)
                                    }, "_handleError")
                                },
                                _validationProps: {
                                    validationService: n
                                },
                                _idProps: {
                                    service: e,
                                    uuid: "22",
                                    alias: "9"
                                },
                                _widgetRecordProvider: t,
                                _dependencies: []
                            })]
                        }, function() {
                            return [i(r.variables.stepVar !== 3, !1, this, function() {
                                return [L.createElement(be, {
                                    getOwnerSpan: a(function() {
                                        return u.getChildSpan("render")
                                    }, "getOwnerSpan"),
                                    getOwnerDisposeSpan: a(function() {
                                        return u.getChildSpan("destroy")
                                    }, "getOwnerDisposeSpan"),
                                    inputs: {
                                        CurrentStep: r.variables.stepVar
                                    },
                                    events: {
                                        _handleError: a(function(o) {
                                            l.handleError(o)
                                        }, "_handleError"),
                                        goToPreviousStep$Action: a(function(o) {
                                            var v = s.clone();
                                            l.updateStep$Action(o, l.callContext(v))
                                        }, "goToPreviousStep$Action")
                                    },
                                    _validationProps: {
                                        validationService: n
                                    },
                                    _idProps: {
                                        service: e,
                                        uuid: "23",
                                        alias: "10"
                                    },
                                    _widgetRecordProvider: t,
                                    placeholders: {
                                        section: new Je(function() {
                                            return [i(r.variables.stepVar === 1, !1, this, function() {
                                                return [L.createElement(y, {
                                                    align: 0,
                                                    animate: !1,
                                                    style: "root-class-mobile padding-base",
                                                    visible: !0,
                                                    _idProps: {
                                                        service: e,
                                                        uuid: "24"
                                                    },
                                                    _widgetRecordProvider: t
                                                }, L.createElement($n, {
                                                    getOwnerSpan: a(function() {
                                                        return u.getChildSpan("render")
                                                    }, "getOwnerSpan"),
                                                    getOwnerDisposeSpan: a(function() {
                                                        return u.getChildSpan("destroy")
                                                    }, "getOwnerDisposeSpan"),
                                                    inputs: {
                                                        SelectedCountry: r.variables.documentIssuingCountryVar
                                                    },
                                                    events: {
                                                        _handleError: a(function(o) {
                                                            l.handleError(o)
                                                        }, "_handleError"),
                                                        nextStep$Action: a(function(o, v) {
                                                            var p = s.clone();
                                                            l.onDocumentIssuingCountryChange$Action(o, v, l.callContext(p))
                                                        }, "nextStep$Action")
                                                    },
                                                    _validationProps: {
                                                        validationService: n
                                                    },
                                                    _idProps: {
                                                        service: e,
                                                        uuid: "25",
                                                        alias: "11"
                                                    },
                                                    _widgetRecordProvider: t,
                                                    _dependencies: []
                                                }))]
                                            }, function() {
                                                return [i(r.variables.stepVar === 2, !1, this, function() {
                                                    return [L.createElement(y, {
                                                        align: 0,
                                                        animate: !1,
                                                        style: "root-class-mobile",
                                                        visible: !0,
                                                        _idProps: {
                                                            service: e,
                                                            uuid: "26"
                                                        },
                                                        _widgetRecordProvider: t
                                                    }, L.createElement(yt, {
                                                        getOwnerSpan: a(function() {
                                                            return u.getChildSpan("render")
                                                        }, "getOwnerSpan"),
                                                        getOwnerDisposeSpan: a(function() {
                                                            return u.getChildSpan("destroy")
                                                        }, "getOwnerDisposeSpan"),
                                                        inputs: {},
                                                        events: {
                                                            _handleError: a(function(o) {
                                                                l.handleError(o)
                                                            }, "_handleError"),
                                                            onPersonalDetailsChange$Action: a(function(o, v, p) {
                                                                var W = s.clone();
                                                                l.onPersonalDetailsChange$Action(o, v, p, l.callContext(W))
                                                            }, "onPersonalDetailsChange$Action"),
                                                            nextStep$Action: a(function(o) {
                                                                var v = s.clone();
                                                                l.updateStep$Action(o, l.callContext(v))
                                                            }, "nextStep$Action")
                                                        },
                                                        _validationProps: {
                                                            validationService: n
                                                        },
                                                        _idProps: {
                                                            service: e,
                                                            uuid: "27",
                                                            alias: "12"
                                                        },
                                                        _widgetRecordProvider: t,
                                                        _dependencies: []
                                                    }))]
                                                }, function() {
                                                    return [L.createElement(y, {
                                                        align: 0,
                                                        animate: !1,
                                                        style: "root-class-mobile padding-base",
                                                        visible: !0,
                                                        _idProps: {
                                                            service: e,
                                                            uuid: "28"
                                                        },
                                                        _widgetRecordProvider: t
                                                    })]
                                                })]
                                            })]
                                        })
                                    },
                                    _dependencies: [c(r.variables.documentIssuingCountryVar), c(r.variables.stepVar)]
                                })]
                            }, function() {
                                return [L.createElement(Vt, {
                                    getOwnerSpan: a(function() {
                                        return u.getChildSpan("render")
                                    }, "getOwnerSpan"),
                                    getOwnerDisposeSpan: a(function() {
                                        return u.getChildSpan("destroy")
                                    }, "getOwnerDisposeSpan"),
                                    inputs: {
                                        DocumentExpiryDate: r.variables.documentExpiryDateVar,
                                        DocumentNumber: r.variables.documentNumberVar,
                                        SelectedIdentityDocument: r.variables.documentTypeVar,
                                        AdditionalDocumentNumber: r.variables.additionalDocumentNumberVar,
                                        SelectedCountry: r.variables.documentIssuingCountryVar.valueAttr
                                    },
                                    events: {
                                        _handleError: a(function(o) {
                                            l.handleError(o)
                                        }, "_handleError"),
                                        backToPreviousStep$Action: a(function(o) {
                                            var v = s.clone();
                                            l.updateStep$Action(o, l.callContext(v))
                                        }, "backToPreviousStep$Action"),
                                        onChangeIdentityDocument$Action: a(function(o) {
                                            var v = s.clone();
                                            l.onIdentityDocumentChange$Action(o, l.callContext(v))
                                        }, "onChangeIdentityDocument$Action"),
                                        onChangeIDVDocData$Action: a(function(o, v) {
                                            var p = s.clone();
                                            l.onIDVDocChange$Action(o, v, l.callContext(p))
                                        }, "onChangeIDVDocData$Action"),
                                        onChangeManualDocData$Action: a(function(o, v) {
                                            var p = s.clone();
                                            l.onChangeManualDocData$Action(o, v, l.callContext(p))
                                        }, "onChangeManualDocData$Action")
                                    },
                                    _validationProps: {
                                        validationService: n
                                    },
                                    _idProps: {
                                        service: e,
                                        name: "Mobile_IdentityVerification3",
                                        alias: "13"
                                    },
                                    _widgetRecordProvider: t,
                                    _dependencies: []
                                })]
                            })]
                        }))]
                    })
                },
                _dependencies: [c(r.variables.additionalDocumentNumberVar), c(r.variables.documentNumberVar), c(r.variables.documentTypeVar), c(r.variables.documentExpiryDateVar), c(r.variables.userDateOfBirthVar), c(r.variables.userFirstNameVar), c(r.variables.userLastNameVar), c(r.variables.errorDataVar.messageAttr), c(r.variables.errorDataVar.codeAttr), c(r.variables.documentIssuingCountryVar), c(r.variables.isLoadingVar), c(r.variables.stepVar)]
            }))
        }
    };
a(Ge, "View");
var Ln = Ge,
    Kl = Ln;
export {
    Kl as
    default
};